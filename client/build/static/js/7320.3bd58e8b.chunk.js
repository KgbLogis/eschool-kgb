"use strict";(self.webpackChunkmkp=self.webpackChunkmkp||[]).push([[7320],{41920:function(n,e,t){t.d(e,{$_:function(){return V},Be:function(){return nn},Dp:function(){return H},Fm:function(){return Q},J7:function(){return Y},Ko:function(){return en},MA:function(){return M},NC:function(){return J},O8:function(){return W},TW:function(){return A},Vr:function(){return U},YP:function(){return L},YV:function(){return z},gw:function(){return w},nS:function(){return K},nh:function(){return G},oj:function(){return O},pQ:function(){return k},q:function(){return tn},r1:function(){return _},tz:function(){return R},vh:function(){return X},vp:function(){return F}});var s,a,i,r,l,o,d,u,m,c,f,p,y,h,g,Z,$,j,P,S,x,q,C,b,v,I,N,E,D,T=t(30168),B=t(27570),A=(0,B.Ps)(s||(s=(0,T.Z)(["\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            school {\n                id\n                name\n            }\n            subSchool {\n                id\n                name\n            }\n            subject \n            credit\n            content\n            createUserid{\n                teacher{\n                    familyName\n                    name\n                }\n            }\n        }\n    }\n"]))),O=(0,B.Ps)(a||(a=(0,T.Z)(["\n    query allSubjectsPagination ($page: Int!, $perPage: Int!, $filter: String) {\n        allSubjectsPagination (page: $page, perPage: $perPage, filter: $filter) {\n            page\n            perPage\n            pageCount\n            totalCount\n            records {\n                id\n                school {\n                    id\n                    name\n                }\n                subSchool {\n                    id\n                    name\n                }\n                subject \n                credit\n                content\n                createUserid{\n                    teacher{\n                        familyName\n                        name\n                    }\n                }\n            }\n        }\n    }\n"]))),w=((0,B.Ps)(i||(i=(0,T.Z)(["\n    query allTeacherStatuss {\n        allTeacherStatuss {\n            id\n            name\n        }\n    }\n"]))),(0,B.Ps)(r||(r=(0,T.Z)(["\n    query allStudentStatuss {\n        allStudentStatuss {\n            id\n            name\n        }\n    }\n"]))),(0,B.Ps)(l||(l=(0,T.Z)(["\n    query allStudentStatusExtras {\n        allStudentStatusExtras {\n            id\n            name\n        }\n    }\n"]))),(0,B.Ps)(o||(o=(0,T.Z)(["\n    query allUsers {\n        allUsers {\n            id\n            username\n            email\n        }\n    }\n"])))),F=((0,B.Ps)(d||(d=(0,T.Z)(["\n    query userByUsername($username: String!) {\n        userByUsername(username: $username) {\n            id\n            username\n        }\n    }\n"]))),(0,B.Ps)(u||(u=(0,T.Z)(["\n    query employeesAttandanceByRange ($startDate: DateTime!, $endDate: DateTime!) {\n        employeesAttandanceByRange (startDate: $startDate, endDate: $endDate) {\n            id\n            isIn\n            isOut\n            timeIn\n            timeOut\n            user {\n                id\n                isTeacher\n                isEmployee\n                teacher {\n                    familyName\n                    name\n                    teacherCode\n                }\n                employee {\n                    familyName\n                    name\n                    employeeCode\n                }\n                groups {\n                    name\n                }\n            }\n        }\n    }\n"])))),M=((0,B.Ps)(m||(m=(0,T.Z)(["\n    query allAttendaceEmployees {\n        allAttendaceEmployees {\n            username\n            email\n            isTeacher\n            isEmployee\n            teacher {\n                teacherCode\n                familyName\n                name\n            }\n            employee {\n                employeeCode\n                familyName\n                name\n            }\n        }\n    }\n"]))),(0,B.Ps)(c||(c=(0,T.Z)(["\n    query allEmployeesCompartment {\n        allEmployeesCompartment {\n            id\n            name\n        }\n    }\n"])))),U=(0,B.Ps)(f||(f=(0,T.Z)(["\n    query allEmployees ($filter: String) {\n        allEmployees (filter: $filter) {\n            id\n            user {\n                id\n                username\n                email\n                groups {\n                    name\n                }\n            }\n            compartment {\n                id\n                name\n            }\n            employeeCode\n            familyName\n            name\n            registerNo\n            photo\n            phone\n            phone2\n            address\n            sex\n            birthdate\n            birthCity {\n                id\n            }\n            birthDistrict {\n                id\n            }\n            status {\n                id\n            }\n        }\n    }\n"]))),k=(0,B.Ps)(p||(p=(0,T.Z)(["\n  \tquery allTeachers ($offset: Int!, $limit: Int!, $filter: String) {\n        allTeachers (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            user {\n                id\n                username\n                email\n            }\n            teacherCode\n            degree{\n                id\n            }\n            access\n            familyName\n            name\n            registerNo\n            photo\n            phone\n            phone2\n            address\n            joinDate\n            joinBefore\n            sex\n            birthdate\n            birthCity {\n                id\n                name\n            }\n            birthDistrict {\n                id\n                name\n            }\n            status {\n                id\n                name\n            }\n            school {\n                id\n                name\n            }\n            subSchool {\n                id\n                name\n            }\n        }\n\t}\n"]))),R=(0,B.Ps)(y||(y=(0,T.Z)(["\n  \tquery allStudents ($filter: String, $program: Int, $classes: Int, $section: Int) {\n        allStudents (filter: $filter, program: $program, classes: $classes, section: $section) {\n            id\n            user {\n                id\n                username\n                email\n            }\n            studentCode\n            surname\n            familyName\n            name\n            religion\n            registerNo\n            nationality\n            state\n            photo\n            phone\n            address\n            activity {\n                id\n                name\n            }\n            joinDate\n            sex\n            birthdate\n            classtime {\n                id\n                name\n            }\n            birthCity {\n                id\n                name\n            }\n            birthDistrict {\n                id\n                name\n            }\n            status {\n                id\n                name\n            }\n            statusExtra {\n                id\n                name\n            }\n            school {\n                id\n                name\n            }\n            classes {\n                id\n                classes\n            }\n            section {\n                id\n                section\n            }\n            program {\n                id\n                program\n            }\n            joinSchoolyear {\n                id\n                schoolyear\n            }\n        }\n    }\n"]))),V=(0,B.Ps)(h||(h=(0,T.Z)(["\n  \tquery allCitys{\n        allCitys {\n            id\n            name\n            code\n        }\n\t}\n"]))),J=(0,B.Ps)(g||(g=(0,T.Z)(["\n    query allDistricts {\n        allDistricts {\n            id\n            code\n            name\n            cityID {\n                id\n                name\n            }\n        }\n    }\n"]))),L=(0,B.Ps)(Z||(Z=(0,T.Z)(["\n  \tquery allPrograms{\n        allPrograms {\n            id\n            program\n            programMgl\n            maxStudentNum\n            school {\n                id\n                name\n            }\n            subSchool {\n                id\n                name\n            }\n            status\n            createdAt\n            updatedAt\n        }\n\t  }\n"]))),Q=(0,B.Ps)($||($=(0,T.Z)(["\n  \tquery allSchools {\n        allSchools {\n            id\n            name\n            nameMgl\n        }\n\t}\n"]))),W=(0,B.Ps)(j||(j=(0,T.Z)(["\n  \tquery allSubSchools{\n        allSubSchools {\n            id\n            name\n            nameMgl\n            school {\n                id\n                name\n            }\n\t\t}\n\t}\n"]))),Y=(0,B.Ps)(P||(P=(0,T.Z)(["\n    query allSections {\n        allSections {\n            id\n            section\n            classes {\n                id\n                classes\n            }\n            program {\n                id\n                program\n            }\n            teacher{\n                id\n            }\n            program {\n                id\n                program\n            }\n            school {\n                id\n                name\n            }\n            createdAt\n            updatedAt\n        }\n    }\n"]))),_=(0,B.Ps)(S||(S=(0,T.Z)(["\n    query allClassess ($program: Int!, $offset: Int!, $limit: Int!, $filter: String) {\n        allClassess (program: $program, offset: $offset, limit: $limit, filter: $filter) {\n            id\n            classes\n            activity {\n                id\n                name\n            }\n            program {\n                id\n                program\n            }\n            school {\n                id\n                name\n            }\n            status\n        }\n    }\n"]))),z=(0,B.Ps)(x||(x=(0,T.Z)(["\n    query allClasstimes {\n        allClasstimes {\n            id\n            name\n        }\n    }\n"]))),G=(0,B.Ps)(q||(q=(0,T.Z)(["\n    query allSchoolyears {\n        allSchoolyears {\n            id\n            schoolyear\n        }\n    }\n"]))),K=(0,B.Ps)(C||(C=(0,T.Z)(["\n    query allParents ($offset: Int!, $limit: Int!, $filter: String) {\n        allParents (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            familyName\n            name\n            profession\n            phone\n            address\n            student {\n                id\n                studentCode\n                familyName\n                name\n            }\n        }\n    }\n"]))),X=(0,B.Ps)(b||(b=(0,T.Z)(["\n    query sectionsByClasses ($classes: Int!) {\n        sectionsByClasses (classes: $classes) {\n            id\n            section\n            maxStudentNum\n            teacher{\n                name\n                id\n            }\n            classes {\n                id\n                classes\n            }\n            program {\n                id\n                program\n            }\n            school {\n                id\n                name\n            }\n        }\n    }\n"]))),H=(0,B.Ps)(v||(v=(0,T.Z)(["\n    query transfersByStudent ($student: Int!) {\n        transfersByStudent (student: $student) {\n            id\n            student {\n                familyName\n                name\n                photo\n                studentCode\n            }\n            school {\n                id\n                name\n            }\n            program {\n                id\n                program\n            }\n            classes {\n                id\n                classes\n            }\n            section {\n                id\n                section\n            }\n            status {\n                id\n                name\n            }\n            statusExtra {\n                id\n                name\n            }\n            classtime {\n                id\n                name\n            }\n            activity {\n                id\n                name\n            }\n            docDate\n            docNum\n            description\n            oldData\n        }\n    }\n"]))),nn=(0,B.Ps)(I||(I=(0,T.Z)(["\n    query allEventTypes {\n        allEventTypes {\n            id\n            name\n            color\n        }\n    }\n"]))),en=(0,B.Ps)(N||(N=(0,T.Z)(["\n    query allEvents {\n        allEvents {\n            id\n            title\n            description\n            content\n            startAt\n            endAt\n            eventType {\n                id\n                name\n                color\n            }\n        }\n    } \n"]))),tn=(0,B.Ps)(E||(E=(0,T.Z)(["\n    query allEventsByDate ($date: Date) {\n        allEventsByDate (date: $date) {\n            id\n            title\n            description\n            content\n            startAt\n            endAt\n            eventType {\n                id\n                name\n                color\n            }\n        }\n    } \n"])));(0,B.Ps)(D||(D=(0,T.Z)(["\n    query allEventsByType ($id: Int!) {\n        allEventsByType (id: $id) {\n            id\n            title\n            description\n            content\n            startAt\n            endAt\n            eventType\n        }\n    }\n"])))},68694:function(n,e,t){t.d(e,{Cm:function(){return h},Cx:function(){return p},FQ:function(){return y},JX:function(){return f},Z2:function(){return j},dT:function(){return g},gt:function(){return $},tL:function(){return Z}});var s,a,i,r,l,o,d,u,m=t(30168),c=t(27570),f=(0,c.Ps)(s||(s=(0,m.Z)(["\n    query allStudents ($filter: String) {\n        allStudents (filter: $filter) {\n            id\n            familyName\n            name\n            studentCode\n        }\n\t}\n"]))),p=(0,c.Ps)(a||(a=(0,m.Z)(["\n    query allTeachers ($filter: String) {\n        allTeachers (filter: $filter) {\n            id\n            familyName\n            name\n            teacherCode\n        }\n    }\n"]))),y=(0,c.Ps)(i||(i=(0,m.Z)(["\n    query allClassess ($filter: String, $program: Int) {\n        allClassess (filter: $filter, program: $program) {\n            id\n            classes\n        }\n\t}\n"]))),h=(0,c.Ps)(r||(r=(0,m.Z)(['\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "subject", modelName: "Subject", filter: $filter) {\n            count\n        }\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            subject\n            content\n            createUserid {\n                firstName\n                lastName\n            }\n        }\n    }\n']))),g=(0,c.Ps)(l||(l=(0,m.Z)(["\n    query selectProgram {\n        allPrograms {\n            id\n            program\n        }\n    }\n"]))),Z=(0,c.Ps)(o||(o=(0,m.Z)(["\n    query sectionsByProgram ($program: Int!) {\n        sectionsByProgram (program: $program) {\n            id\n            section \n            classes {\n                classes\n            }\n        }\n    }\n"]))),$=(0,c.Ps)(d||(d=(0,m.Z)(["\n    query sectionsByClasses ($classes: Int!){\n        sectionsByClasses (classes: $classes) {\n            id \n            section\n        }\n    }\n"]))),j=(0,c.Ps)(u||(u=(0,m.Z)(['\n    query allStudentsPagination (\n        $page: Int\n        $perPage: Int\n        $filter: String = ""\n    ) {\n        allStudentsPagination (\n            page: $page\n            perPage: $perPage\n            filter: $filter\n        ) {\n            page\n            perPage\n            pageCount\n            totalCount\n            records {\n                id\n                name\n                familyName\n            }\n        }\n    }\n'])))},17320:function(n,e,t){t.r(e);var s=t(29439),a=t(72791),i=t(22949),r=t(73332),l=t(50419),o=t(37083),d=t(66106),u=t(30914),m=t(49389),c=t(11561),f=t(69421),p=t(76835),y=t(86586),h=t(96578),g=t(84376),Z=t(82630),$=t(21708),j=t(41920),P=t(72426),S=t.n(P),x=t(68694),q=t(38937),C=t(80184),b=i.Z.Option;e.default=function(n){var e=n.editData,t=n.formType,P=n.setIsModalVisible,v=n.refetch,I=r.Z.useForm(),N=(0,s.Z)(I,1)[0],E=(0,a.useState)([]),D=(0,s.Z)(E,2),T=D[0],B=D[1],A=(0,a.useState)([]),O=(0,s.Z)(A,2),w=O[0],F=O[1],M=(0,y.t)(x.Cx,{onCompleted:function(n){F(n.allTeachers)}}),U=(0,s.Z)(M,2),k=U[0],R=U[1].loading,V=(0,y.t)(x.FQ),J=(0,s.Z)(V,2),L=J[0],Q=J[1].data,W=(0,h.a)(j.YP).data,Y=(0,h.a)(j.J7).data,_=(0,g.D)($.FP,{onCompleted:function(n){l.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),P(!1),v()}}),z=(0,s.Z)(_,2),G=z[0],K=z[1].loading,X=(0,g.D)($.l7,{onCompleted:function(n){l.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),P(!1),v()}}),H=(0,s.Z)(X,2),nn=H[0],en=H[1].loading;return(0,a.useEffect)((function(){k({variables:{offset:0,limit:9,filter:""}}),"edit"===t?N.setFieldsValue({title:e.title,description:e.description,duration:e.duration,status:e.status,teacher:e.teacher.id,date:S()(e.date),type:e.type,section:e.section.id}):"create"===t&&N.resetFields()}),[e,k,N,t,Y]),(0,C.jsx)(o.Z,{spinning:K||en,tip:"\u0410\u0447\u0430\u0430\u043b\u043b\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",children:(0,C.jsx)(r.Z,{id:"SchoolForm",layout:"vertical",form:N,name:"school",onFinish:function(n){"edit"===t?(n.id=null===e||void 0===e?void 0:e.id,nn({variables:n})):G({variables:n})},children:(0,C.jsxs)(d.Z,{gutter:[16,24],children:[(0,C.jsxs)(u.Z,{className:"gutter-row",span:12,children:[(0,C.jsx)(r.Z.Item,{name:"title",label:(0,C.jsx)(Z.Z,{id:"title"}),rules:[{required:!0,message:(0,C.jsx)(Z.Z,{id:"form.required"})}],children:(0,C.jsx)(m.Z,{})}),(0,C.jsx)(r.Z.Item,{name:"program",label:(0,C.jsx)(Z.Z,{id:"program"}),rules:[{required:!0,message:(0,C.jsx)(Z.Z,{id:"form.required"})}],children:(0,C.jsx)(i.Z,{onChange:function(n){L({variables:{program:n,offset:1,limit:1,filter:""}})},children:null===W||void 0===W?void 0:W.allPrograms.map((function(n,e){return(0,C.jsx)(b,{value:n.id,children:n.program},e)}))})}),(0,C.jsx)(r.Z.Item,{name:"section",label:(0,C.jsx)(Z.Z,{id:"section"}),rules:[{required:!0,message:"\u0425\u043e\u043e\u0441\u043e\u043d \u043e\u0440\u0445\u0438\u0445 \u0431\u043e\u043b\u043e\u043c\u0436\u0433\u04af\u0439"}],children:(0,C.jsx)(i.Z,{children:T.map((function(n,e){return(0,C.jsx)(b,{value:n.id,children:n.section},e)}))})}),(0,C.jsx)(r.Z.Item,{name:"date",label:(0,C.jsx)(Z.Z,{id:"date"}),rules:[{required:!0,message:"\u0425\u043e\u043e\u0441\u043e\u043d \u043e\u0440\u0445\u0438\u0445 \u0431\u043e\u043b\u043e\u043c\u0436\u0433\u04af\u0439"}],children:(0,C.jsx)(c.Z,{showTime:!0,style:{width:"100%"}})}),(0,C.jsx)(r.Z.Item,{name:"status",label:(0,C.jsx)(Z.Z,{id:"status"}),rules:[{required:!0,message:"\u0425\u043e\u043e\u0441\u043e\u043d \u043e\u0440\u0445\u0438\u0445 \u0431\u043e\u043b\u043e\u043c\u0436\u0433\u04af\u0439"}],children:(0,C.jsxs)(i.Z,{children:[(0,C.jsx)(b,{value:"OPEN",children:"\u041d\u044d\u044d\u043b\u0442\u0442\u044d\u0439"},0),(0,C.jsx)(b,{value:"CLOSED",children:"\u0425\u0430\u0430\u043b\u0442\u0442\u0430\u0439"},1)]})})]}),(0,C.jsxs)(u.Z,{className:"gutter-row",span:12,children:[(0,C.jsx)(r.Z.Item,{name:"teacher",label:(0,C.jsx)(Z.Z,{id:"teacher"}),rules:[{required:!0,message:(0,C.jsx)(Z.Z,{id:"form.required"})}],children:(0,C.jsx)(i.Z,{showSearch:!0,filterOption:!1,notFoundContent:R?(0,C.jsx)(q.Z,{cover:"content"}):(0,C.jsx)(f.Z,{image:f.Z.PRESENTED_IMAGE_SIMPLE}),onSearch:function(n){""!==n&&k({variables:{offset:0,limit:99999999,filter:n}})},children:w.map((function(n,e){return(0,C.jsxs)(b,{value:n.id,children:[" ",n.familyName," ",n.name," / ",n.teacherCode," "]},n.id)}))})}),(0,C.jsx)(r.Z.Item,{name:"classes",label:(0,C.jsx)(Z.Z,{id:"classes"}),rules:[{required:!0,message:(0,C.jsx)(Z.Z,{id:"form.required"})}],children:(0,C.jsx)(i.Z,{onChange:function(n){var e=null===Y||void 0===Y?void 0:Y.allSections.filter((function(e){return e.classes.id===n})).map((function(n){return n}));B(e)},children:null===Q||void 0===Q?void 0:Q.allClassess.map((function(n,e){return(0,C.jsx)(b,{value:n.id,children:n.classes},e)}))})}),(0,C.jsx)(r.Z.Item,{name:"type",label:(0,C.jsx)(Z.Z,{id:"onlineType"}),rules:[{required:!0,message:"\u0425\u043e\u043e\u0441\u043e\u043d \u043e\u0440\u0445\u0438\u0445 \u0431\u043e\u043b\u043e\u043c\u0436\u0433\u04af\u0439"}],children:(0,C.jsxs)(i.Z,{children:[(0,C.jsx)(b,{value:"WEBINAR",children:(0,C.jsx)(Z.Z,{id:"WEBINAR"})}),(0,C.jsx)(b,{value:"ZOOM",children:(0,C.jsx)(Z.Z,{id:"ZOOM"})})]})}),(0,C.jsx)(r.Z.Item,{name:"duration",label:(0,C.jsx)(Z.Z,{id:"duration"}),rules:[{required:!0,message:"\u0425\u043e\u043e\u0441\u043e\u043d \u043e\u0440\u0445\u0438\u0445 \u0431\u043e\u043b\u043e\u043c\u0436\u0433\u04af\u0439"}],children:(0,C.jsx)(p.Z,{min:1,style:{width:"100%"}})}),(0,C.jsx)(r.Z.Item,{name:"description",label:(0,C.jsx)(Z.Z,{id:"description"}),rules:[{required:!0,message:(0,C.jsx)(Z.Z,{id:"form.required"})}],children:(0,C.jsx)(m.Z.TextArea,{rows:4})})]})]})})})}}}]);
//# sourceMappingURL=7320.3bd58e8b.chunk.js.map