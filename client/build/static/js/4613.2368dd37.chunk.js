"use strict";(self.webpackChunkmkp=self.webpackChunkmkp||[]).push([[4613],{42086:function(e,n,t){var i=t(29439),s=t(72791),r=t(96578),a=t(86586),l=t(22949),o=t(73332),d=t(58361),u=t(66106),c=t(30914),m=t(66871),x=t(69421),Z=t(87309),f=t(82630),$=t(68694),T=t(38937),p=t(80184),j=l.Z.Option;n.Z=function(e){var n=e.submitData,t=e.mutationData,g=e.loading,h=o.Z.useForm(),v=(0,i.Z)(h,1)[0],k=o.Z.useForm(),y=(0,i.Z)(k,1)[0],q=(0,s.useState)([]),I=(0,i.Z)(q,2),P=I[0],b=I[1],S=(0,s.useState)([]),C=(0,i.Z)(S,2),L=C[0],w=C[1],N=(0,s.useState)([]),Q=(0,i.Z)(N,2),A=Q[0],D=Q[1],O=(0,r.a)($.dT,{onCompleted:function(e){b(e.allPrograms)}}).loading,F=(0,a.t)($.tL,{onCompleted:function(e){w(e.sectionsByProgram)}}),B=(0,i.Z)(F,2),E=B[0],M=B[1].loading,z=(0,a.t)($.JX,{onCompleted:function(e){D(e.allStudents)}}),H=(0,i.Z)(z,2),_=H[0],R=H[1].loading,U=function(e){e.hasOwnProperty("studentCode")?e.section=0:e.studentCode="";var i=Object.assign(e,t);n({variables:i})};return(0,p.jsx)(d.Z,{active:!0,loading:O,children:(0,p.jsxs)(u.Z,{gutter:16,children:[(0,p.jsx)(c.Z,{xs:24,xl:12,children:(0,p.jsx)(m.Z,{className:"mt-4",title:(0,p.jsx)(f.Z,{id:"by-section"}),children:(0,p.jsxs)(o.Z,{id:"section",layout:"vertical",form:v,name:"control-hooks",onFinish:U,children:[(0,p.jsx)(o.Z.Item,{name:"program",label:(0,p.jsx)(f.Z,{id:"program"}),rules:[{required:!0,message:(0,p.jsx)(f.Z,{id:"form.required"})}],children:(0,p.jsx)(l.Z,{onSelect:function(e){v.setFieldsValue({section:""}),E({variables:{program:e}})},allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,n){return n.children.toString().toLowerCase().indexOf(e.toLowerCase())>=0},children:P.map((function(e,n){return(0,p.jsxs)(j,{value:e.id,children:[e.program," / ",e.programNumeric]},n)}))})}),(0,p.jsx)(o.Z.Item,{name:"section",label:(0,p.jsx)(f.Z,{id:"section"}),rules:[{required:!0,message:(0,p.jsx)(f.Z,{id:"form.required"})}],children:(0,p.jsx)(l.Z,{allowClear:!0,notFoundContent:M?(0,p.jsx)(T.Z,{cover:"content"}):(0,p.jsx)(x.Z,{image:x.Z.PRESENTED_IMAGE_SIMPLE}),children:L.map((function(e,n){return(0,p.jsxs)(j,{value:e.id,children:[e.classes.classes," / ",e.section]},n)}))})}),(0,p.jsx)(o.Z.Item,{className:"text-right",children:(0,p.jsx)(Z.Z,{className:"mr-2",type:"primary",htmlType:"submit",loading:g,children:(0,p.jsx)(f.Z,{id:"main.okText"})})})]})})}),(0,p.jsx)(c.Z,{xs:24,xl:12,children:(0,p.jsx)(m.Z,{className:"mt-4",title:(0,p.jsx)(f.Z,{id:"by-student-code"}),children:(0,p.jsxs)(o.Z,{id:"student",layout:"vertical",form:y,name:"control-hooks",onFinish:U,children:[(0,p.jsx)(o.Z.Item,{name:"studentCode",label:(0,p.jsx)(f.Z,{id:"studentCode"}),rules:[{required:!0,message:(0,p.jsx)(f.Z,{id:"form.required"})}],children:(0,p.jsx)(l.Z,{showSearch:!0,filterOption:!1,notFoundContent:R?(0,p.jsx)(T.Z,{cover:"content"}):(0,p.jsx)(x.Z,{image:x.Z.PRESENTED_IMAGE_SIMPLE}),onSearch:function(e){""===e?D([]):_({variables:{offset:0,limit:99999999,filter:e}})},children:A.map((function(e,n){return(0,p.jsxs)(j,{value:e.studentCode,children:[" ",e.familyName," ",e.name," / ",e.studentCode]},n)}))})}),(0,p.jsx)(o.Z.Item,{className:"text-right",children:(0,p.jsx)(Z.Z,{className:"mr-2",type:"primary",htmlType:"submit",loading:g,children:(0,p.jsx)(f.Z,{id:"main.okText"})})})]})})})]})})}},68694:function(e,n,t){t.d(n,{Cm:function(){return $},Cx:function(){return Z},FQ:function(){return f},JX:function(){return x},Z2:function(){return g},dT:function(){return T},gt:function(){return j},tL:function(){return p}});var i,s,r,a,l,o,d,u,c=t(30168),m=t(27570),x=(0,m.Ps)(i||(i=(0,c.Z)(["\n    query allStudents ($filter: String) {\n        allStudents (filter: $filter) {\n            id\n            familyName\n            name\n            studentCode\n        }\n\t}\n"]))),Z=(0,m.Ps)(s||(s=(0,c.Z)(["\n    query allTeachers ($filter: String) {\n        allTeachers (filter: $filter) {\n            id\n            familyName\n            name\n            teacherCode\n        }\n    }\n"]))),f=(0,m.Ps)(r||(r=(0,c.Z)(["\n    query allClassess ($filter: String, $program: Int) {\n        allClassess (filter: $filter, program: $program) {\n            id\n            classes\n        }\n\t}\n"]))),$=(0,m.Ps)(a||(a=(0,c.Z)(['\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "subject", modelName: "Subject", filter: $filter) {\n            count\n        }\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            subject\n            content\n            createUserid {\n                firstName\n                lastName\n            }\n        }\n    }\n']))),T=(0,m.Ps)(l||(l=(0,c.Z)(["\n    query selectProgram {\n        allPrograms {\n            id\n            program\n        }\n    }\n"]))),p=(0,m.Ps)(o||(o=(0,c.Z)(["\n    query sectionsByProgram ($program: Int!) {\n        sectionsByProgram (program: $program) {\n            id\n            section \n            classes {\n                classes\n            }\n        }\n    }\n"]))),j=(0,m.Ps)(d||(d=(0,c.Z)(["\n    query sectionsByClasses ($classes: Int!){\n        sectionsByClasses (classes: $classes) {\n            id \n            section\n        }\n    }\n"]))),g=(0,m.Ps)(u||(u=(0,c.Z)(['\n    query allStudentsPagination (\n        $page: Int\n        $perPage: Int\n        $filter: String = ""\n    ) {\n        allStudentsPagination (\n            page: $page\n            perPage: $perPage\n            filter: $filter\n        ) {\n            page\n            perPage\n            pageCount\n            totalCount\n            records {\n                id\n                name\n                familyName\n            }\n        }\n    }\n'])))},93721:function(e,n,t){t.d(n,{Eo:function(){return E},Gu:function(){return J},Ik:function(){return re},Iy:function(){return ne},LL:function(){return oe},NP:function(){return D},O2:function(){return X},OY:function(){return Y},Qg:function(){return A},TR:function(){return se},Ve:function(){return _},Wp:function(){return W},_2:function(){return le},cL:function(){return M},fW:function(){return V},gT:function(){return te},jk:function(){return z},kQ:function(){return ie},nR:function(){return H},nx:function(){return R},qC:function(){return U},qQ:function(){return B},qz:function(){return ae},rb:function(){return F},vA:function(){return de},vQ:function(){return K},wT:function(){return G},xs:function(){return O},zd:function(){return ee}});var i,s,r,a,l,o,d,u,c,m,x,Z,f,$,T,p,j,g,h,v,k,y,q,I,P,b,S,C,L,w,N=t(30168),Q=t(27570),A=(0,Q.Ps)(i||(i=(0,N.Z)(["\n    query allOnlineTests {\n        allOnlineTests {\n            id\n            title\n            description\n            subject {\n                id\n                subject\n            }\n        }\n    }\n"]))),D=(0,Q.Ps)(s||(s=(0,N.Z)(["\n    mutation createOnlineTest ($description: String, $subject: Int, $title: String) {\n        createOnlineTest (description: $description, subject: $subject, title: $title) {\n            onlineTest {\n                id\n            }\n        }\n    }\n"]))),O=(0,Q.Ps)(r||(r=(0,N.Z)(["\n    mutation updateOnlineTest ($description: String, $id: ID, $subject: Int, $title: String) {\n        updateOnlineTest (description: $description, id: $id, subject: $subject, title: $title) {\n            OnlineTest {\n                id\n            }\n        }\n    }\n"]))),F=(0,Q.Ps)(a||(a=(0,N.Z)(["\n    mutation deleteOnlineTest ($id: ID) {\n        deleteOnlineTest (id: $id) {\n            onlineTest {\n                id\n            }\n        }\n    }\n"]))),B=(0,Q.Ps)(l||(l=(0,N.Z)(["\n    query allQuestionLevels {\n        allQuestionLevels {\n            level\n            id\n        }\n    }\n"]))),E=(0,Q.Ps)(o||(o=(0,N.Z)(["\n    mutation createQuestionLevel ($level: String) {\n        createQuestionLevel (level: $level) {\n            questionLevel {\n                id\n            }\n        }\n    }\n"]))),M=(0,Q.Ps)(d||(d=(0,N.Z)(["\n    mutation updateQuestionLevel ($level: String, $id: ID) {\n        updateQuestionLevel (level: $level, id: $id) {\n            questionLevel {\n                id\n            }\n        }\n    }\n"]))),z=(0,Q.Ps)(u||(u=(0,N.Z)(["\n    mutation deleteQuestionLevel ($id: ID) {\n        deleteQuestionLevel (id: $id) {\n            questionLevel {\n                level\n            }\n        }\n    }\n"]))),H=(0,Q.Ps)(c||(c=(0,N.Z)(["\n    query allQuestionsByTest ($id: Int!) {\n        allQuestionsByTest (id: $id) {\n            id\n            question\n            hint\n            image\n            answerType\n            questionLevel {\n                id\n                level\n            }\n            questionChoiceSet {\n                id\n                answer\n                score\n            }\n        }\n    }\n"]))),_=(0,Q.Ps)(m||(m=(0,N.Z)(["\n    mutation createQuestion ($answerType: String, $hint: String, $image: Upload, $onlineTest: Int, $questionL: String, $questionLevel: Int) {\n        createQuestion (answerType: $answerType, hint: $hint, image: $image, onlineTest: $onlineTest, questionL: $questionL, questionLevel: $questionLevel) {\n            question {\n                id\n                answerType\n            }\n        }\n    }\n"]))),R=(0,Q.Ps)(x||(x=(0,N.Z)(["\n    mutation updateQuestion ($answerType: String, $hint: String, $image: Upload, $onlineTest: Int, $questionL: String, $questionLevel: Int, $id: ID) {\n        updateQuestion (answerType: $answerType, hint: $hint, image: $image, onlineTest: $onlineTest, questionL: $questionL, questionLevel: $questionLevel, id: $id) {\n            question {\n                id\n                answerType\n            }\n        }\n    }\n"]))),U=(0,Q.Ps)(Z||(Z=(0,N.Z)(["\n    mutation deleteQuestion ($id: ID) {\n        deleteQuestion (id: $id) {\n            question {\n                question\n            }\n        }\n    }\n"]))),G=(0,Q.Ps)(f||(f=(0,N.Z)(["\n    mutation createQuestionChoice ($answer: String, $question: Int, $score: Decimal) {\n        createQuestionChoice (answer: $answer, question: $question, score: $score) {\n            questionChoice {\n                id\n            }\n        }\n    }\n"]))),X=(0,Q.Ps)($||($=(0,N.Z)(["\n    mutation updateQuestionChoice ($answer: String, $question: Int, $score: Decimal, $id: ID) {\n        updateQuestionChoice (answer: $answer, question: $question, score: $score, id: $id) {\n            questionChoice {\n                id\n            }\n        }\n    }\n"]))),J=(0,Q.Ps)(T||(T=(0,N.Z)(["\n    mutation deleteQuestionChoice ($id: ID) {\n        deleteQuestionChoice (id: $id) {\n            questionChoice {\n                score\n            }\n        }\n    }\n"]))),K=(0,Q.Ps)(p||(p=(0,N.Z)(["\n    query allTakeTests {\n        allTakeTests {\n            id\n            title\n            description\n            startAt\n            endAt\n            duration\n            status\n        }\n    }\n"]))),V=(0,Q.Ps)(j||(j=(0,N.Z)(["\n    mutation createTakeTest ($duration: Int, $endAt: String, $startAt: String, $status: String, $description: String, $title: String) {\n        createTakeTest (duration: $duration, endAt: $endAt, startAt: $startAt, status: $status, description: $description, title: $title) {\n            takeTest {\n                status\n            }\n        }\n    }\n"]))),W=(0,Q.Ps)(g||(g=(0,N.Z)(["\n    mutation updateTakeTest ($duration: Int, $endAt: String, $startAt: String, $status: String, $id: ID, $description: String, $title: String) {\n        updateTakeTest (duration: $duration, endAt: $endAt, startAt: $startAt, status: $status, id: $id, description: $description, title: $title) {\n            takeTest {\n                status\n            }\n        }\n    }\n"]))),Y=(0,Q.Ps)(h||(h=(0,N.Z)(["\n    mutation deleteTakeTest ($id: ID) {\n        deleteTakeTest (id: $id) {\n            takeTest {\n                status\n            }\n        }\n    }\n"]))),ee=(0,Q.Ps)(v||(v=(0,N.Z)(["\n    query allParticipantByTest ($takeTest: Int!) {\n        allParticipantByTest (takeTest: $takeTest) {\n            id\n            student {\n                studentCode\n                familyName\n                name\n            }\n            started\n            completed\n            answerSet {\n                answerType\n                questionText\n                choices\n                score\n                givenAnswer\n            }\n        }\n    }\n"]))),ne=(0,Q.Ps)(k||(k=(0,N.Z)(["\n    mutation createParticipant ($section: Int, $studentCode: String, $takeTest: Int) {\n        createParticipant (section: $section, studentCode: $studentCode, takeTest: $takeTest) {\n            participant {\n                id\n            }\n        }\n    }\n"]))),te=(0,Q.Ps)(y||(y=(0,N.Z)(["\n    mutation deleteParticipant ($id: ID, $takeTest: Int) {\n        deleteParticipant (id: $id, takeTest: $takeTest) {\n            participant {\n                started\n            }\n        }\n    }\n"]))),ie=(0,Q.Ps)(q||(q=(0,N.Z)(["\n    query allTakeLevelByTest ($takeTest: Int!) {\n        allTakeLevelByTest (takeTest: $takeTest) {\n            id\n            onlineTest {\n                id\n                title\n            }\n            questionLevel {\n                id\n                level\n            }\n            takeNumber\n        }\n    }\n"]))),se=(0,Q.Ps)(I||(I=(0,N.Z)(["\n    mutation createTakeLevel ($onlineTest: Int, $questionLevel: Int, $takeNumber: Int, $takeTest: Int) {\n        createTakeLevel (onlineTest: $onlineTest, questionLevel: $questionLevel, takeNumber: $takeNumber, takeTest: $takeTest) {\n            takeLevel {\n                id\n            }\n        }\n    }\n"]))),re=(0,Q.Ps)(P||(P=(0,N.Z)(["\n    mutation deleteTakeLevel ($id: ID) {\n        deleteTakeLevel (id: $id) {\n            takeLevel {\n                takeNumber\n            }\n        }\n    }\n"]))),ae=((0,Q.Ps)(b||(b=(0,N.Z)(["\n    query allSections {\n        allSections {\n            id\n            section\n            studentSet {\n                id\n                studentCode\n            }\n        }\n    }\n"]))),(0,Q.Ps)(S||(S=(0,N.Z)(["\n    query startTest ($takeTest: Int!) {\n        startTest (takeTest: $takeTest) {\n            id\n            questionText\n            choices\n            answerType\n            givenAnswer\n            question {\n                hint\n                image\n            }\n        }\n    }\n"])))),le=(0,Q.Ps)(C||(C=(0,N.Z)(["\n    mutation updateAnswer ($givenAnswer: String, $id: ID) {\n        updateAnswer (givenAnswer: $givenAnswer, id: $id) {\n            answer {\n                id\n            }\n        }\n    }\n"]))),oe=(0,Q.Ps)(L||(L=(0,N.Z)(["\n    query testTime ($takeTest: Int!) {\n        testTime (takeTest: $takeTest) {\n            duration\n            started\n            endAt\n        }\n    }\n"]))),de=(0,Q.Ps)(w||(w=(0,N.Z)(["\n    query finishTest ($takeTest: Int!) {\n        finishTest (takeTest: $takeTest) {\n            score\n        }\n    }\n"])))},24613:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var i=t(29439),s=t(72791),r=t(50419),a=t(66106),l=t(30914),o=t(66871),d=t(96578),u=t(84376),c=t(64880),m=t(93721),x=t(82630),Z=t(42086),f=t(22949),$=t(20003),T=t(73332),p=t(87309),j=t(76835),g=t(59432),h=t(82464),v=t(31549),k=t(80184),y=f.Z.Option,q=$.Z.confirm,I=function(e){var n=e.takeTest,t=(0,s.useState)(!1),a=(0,i.Z)(t,2),l=a[0],c=a[1],Z=(0,s.useState)([]),I=(0,i.Z)(Z,2),P=I[0],b=I[1],S=(0,d.a)(m.Qg).data,C=(0,d.a)(m.qQ).data,L=T.Z.useForm(),w=(0,i.Z)(L,1)[0],N=(0,d.a)(m.kQ,{variables:{takeTest:n},onCompleted:function(e){b(e.allTakeLevelByTest)}}),Q=N.loading,A=N.refetch,D=(0,u.D)(m.TR,{onCompleted:function(e){A(),c(!1),w.resetFields(),r.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430")}}),O=(0,i.Z)(D,1)[0],F=(0,u.D)(m.Ik,{onCompleted:function(e){A(),r.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430!")}}),B=(0,i.Z)(F,1)[0],E=[{title:(0,k.jsx)(x.Z,{id:"online-test-library"}),dataIndex:["onlineTest","title"],key:"title"},{title:(0,k.jsx)(x.Z,{id:"test-level"}),dataIndex:["questionLevel","level"],key:"level"},{title:(0,k.jsx)(x.Z,{id:"takeNumber"}),dataIndex:"takeNumber",key:"takeNumber"},{title:(0,k.jsx)(x.Z,{id:"main.action"}),dataIndex:"id",key:"id",render:function(e,n){return(0,k.jsx)("div",{className:"text-center",children:(0,k.jsxs)(p.Z,{size:"small",onClick:function(){return e=n.id,void q({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){B({variables:{id:e}})}});var e},type:"text",icon:(0,k.jsx)(h.Z,{twoToneColor:"#f42f2f"}),children:[" ",(0,k.jsx)(x.Z,{id:"delete"})]})})}}];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)($.Z,{visible:l,title:(0,k.jsx)(x.Z,{id:"add-question"}),okText:(0,k.jsx)(x.Z,{id:"main.okText"}),cancelText:(0,k.jsx)(x.Z,{id:"main.cancelText"}),onCancel:function(){return c(!1)},onOk:function(){w.validateFields().then((function(e){!function(e){e.takeTest=n,O({variables:e})}(e)}))},children:(0,k.jsxs)(T.Z,{form:w,layout:"vertical",name:"LevelForm",children:[(0,k.jsx)(T.Z.Item,{name:"onlineTest",label:(0,k.jsx)(x.Z,{id:"online-test-library"}),rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,k.jsx)(f.Z,{children:null===S||void 0===S?void 0:S.allOnlineTests.map((function(e,n){return(0,k.jsx)(y,{value:e.id,children:e.title},n)}))})}),(0,k.jsx)(T.Z.Item,{name:"questionLevel",label:(0,k.jsx)(x.Z,{id:"test-level"}),rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,k.jsx)(f.Z,{children:null===C||void 0===C?void 0:C.allQuestionLevels.map((function(e,n){return(0,k.jsx)(y,{value:e.id,children:e.level},n)}))})}),(0,k.jsx)(T.Z.Item,{name:"takeNumber",label:(0,k.jsx)(x.Z,{id:"takeNumber"}),rules:[{required:!0,message:"Please input the title of collection!"}],children:(0,k.jsx)(j.Z,{min:1,style:{width:"100%"}})})]})}),(0,k.jsx)(o.Z,{loading:Q,className:"mt-4",title:(0,k.jsx)(x.Z,{id:"question"}),extra:(0,k.jsxs)(p.Z,{onClick:function(){c(!0)},type:"primary",icon:(0,k.jsx)(v.Z,{}),block:!0,children:[" ",(0,k.jsx)(x.Z,{id:"add-question"})]}),children:(0,k.jsx)(g.Z,{className:"mt-4",rowKey:"id",pagination:!1,bordered:!0,scroll:{x:300},columns:E,dataSource:P})})]})},P=t(30941),b=t(47528),S=t(75594),C=t(30394),L=t(77154),w=t(82622),N=t(72426),Q=t.n(N),A=$.Z.confirm,D=P.Z.Title,O=function(e){var n=e.data,t=e.refetch,d=e.takeTest,c=e.loading,Z=(0,s.useState)(!1),f=(0,i.Z)(Z,2),T=f[0],j=f[1],v=(0,s.useState)(),y=(0,i.Z)(v,2),q=y[0],I=y[1],N=(0,u.D)(m.gT,{onCompleted:function(e){t(),r.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430!")}}),O=(0,i.Z)(N,1)[0],F=function(e){A(0===e?{title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){O({variables:{takeTest:d,id:e}})}}:{title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){O({variables:{takeTest:0,id:e}})}})},B=function(){I(),j(!1)},E=[{title:(0,k.jsx)(x.Z,{id:"studentCode"}),dataIndex:["student","studentCode"],key:"studentCode"},{title:(0,k.jsx)(x.Z,{id:"name"}),key:"name",children:[{title:(0,k.jsx)(x.Z,{id:"familyName"}),dataIndex:["student","familyName"],key:"familyName"},{title:(0,k.jsx)(x.Z,{id:"name"}),dataIndex:["student","name"],key:"name"}]},{title:(0,k.jsx)(x.Z,{id:"status"}),children:[{title:(0,k.jsx)(x.Z,{id:"started"}),dataIndex:"started",key:"started",render:function(e){var n=null===e?"orange":"geekblue",t=null===e?"\u042d\u0445\u043b\u044d\u044d\u0433\u04af\u0439":Q()(e).format("MM-\u0441\u0430\u0440 HH-\u0446\u0430\u0433 mm-\u043c\u0438\u043d\u0443\u0442 ");return(0,k.jsx)(b.Z,{color:n,children:t})}},{title:(0,k.jsx)(x.Z,{id:"completed"}),dataIndex:"completed",key:"completed",render:function(e){var n=null===e?"orange":"green",t=null===e?"\u0414\u0443\u0443\u0441\u0433\u0430\u0430\u0433\u04af\u0439":Q()(e).format("MM-\u0441\u0430\u0440 HH-\u0446\u0430\u0433 mm-\u043c\u0438\u043d\u0443\u0442 ");return(0,k.jsx)(b.Z,{color:n,children:t})}}]},{title:(0,k.jsx)(x.Z,{id:"main.action"}),dataIndex:"id",key:"id",width:"30px",render:function(e,n){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"text-center",children:(0,k.jsxs)(p.Z,{size:"small",onClick:function(){return I(n),void j(!0)},type:"text",icon:(0,k.jsx)(L.Z,{}),children:[" ",(0,k.jsx)(x.Z,{id:"show"})]})}),(0,k.jsx)("div",{className:"text-center",children:(0,k.jsxs)(p.Z,{size:"small",onClick:function(){return F(n.id)},type:"text",icon:(0,k.jsx)(h.Z,{twoToneColor:"#f42f2f"}),children:[" ",(0,k.jsx)(x.Z,{id:"delete"})]})})]})}}],M=function(e){var n=e.values,t=[],i=n.split(",|");return i.pop(),i.map((function(e){var n=e.split(":|");return t.push({value:n[0],text:n[1]})})),t.map((function(e){return(0,k.jsx)(S.Z,{className:"px-5",color:"blue",text:e.text},e.value)}))},z=function(e){return e.values.split(",|").map((function(e,n){return""===e?null:(0,k.jsx)(S.Z,{className:"px-5",color:"blue",text:e},n)}))};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)($.Z,{visible:T,okText:(0,k.jsx)(x.Z,{id:"main.next"}),cancelText:(0,k.jsx)(x.Z,{id:"main.cancelText"}),onCancel:function(){return B()},footer:[(0,k.jsx)(p.Z,{type:"primary",onClick:function(){return B()},children:"\u0425\u0430\u0430\u0445"},"back")],width:1e3,children:q?(0,k.jsxs)(P.Z,{children:[(0,k.jsxs)(D,{children:[q.student.studentCode," / ",q.student.familyName," ",q.student.name]}),(0,k.jsxs)(a.Z,{gutter:[8,8],children:[(0,k.jsxs)(l.Z,{span:12,children:[(0,k.jsx)(D,{level:5,children:"\u042d\u0445\u044d\u043b\u0441\u044d\u043d \u0446\u0430\u0433"}),null===q.started?"\u042d\u0445\u043b\u044d\u044d\u0433\u04af\u0439":Q()(q.started).format("MM-\u0441\u0430\u0440 HH-\u0446\u0430\u0433 mm-\u043c\u0438\u043d\u0443\u0442 ")]}),(0,k.jsxs)(l.Z,{span:12,children:[(0,k.jsx)(D,{level:5,children:"\u0422\u04e9\u043b\u04e9\u0432"}),null===q.completed?(0,k.jsx)(S.Z,{color:"gold",text:"\u042d\u0445\u043b\u044d\u044d\u0433\u04af\u0439"}):(0,k.jsx)(S.Z,{color:"green",text:"\u0414\u0443\u0443\u0441\u0441\u0430\u043d"})]})]}),q.answerSet.map((function(e,n){return(0,k.jsx)(C.Z,{className:"mt-4",title:e.questionText,bordered:!0,children:"TEXT"===e.answerType?(0,k.jsx)(C.Z.Item,{label:"\u0425\u0430\u0440\u0438\u0443\u043b\u0442",span:3,children:e.givenAnswer}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(C.Z.Item,{label:"\u0421\u043e\u043d\u0433\u043e\u043b\u0442\u0443\u0443\u0434",span:3,children:(0,k.jsx)(M,{values:e.choices})}),(0,k.jsx)(C.Z.Item,{label:"\u0425\u0430\u0440\u0438\u0443\u043b\u0442",span:3,children:(0,k.jsx)(z,{values:e.givenAnswer})}),(0,k.jsx)(C.Z.Item,{label:"\u0410\u0432\u0441\u0430\u043d \u043e\u043d\u043e\u043e",span:3,children:e.score})]})},n)}))]}):null}),(0,k.jsx)(o.Z,{loading:c,className:"mt-4",title:(0,k.jsx)(x.Z,{id:"student"}),extra:(0,k.jsxs)(p.Z,{onClick:function(){return F(0)},type:"danger",icon:(0,k.jsx)(w.Z,{}),block:!0,children:[" ",(0,k.jsx)(x.Z,{id:"delete-all"})]}),children:(0,k.jsx)(g.Z,{className:"mt-2",columns:E,rowKey:"id",bordered:!0,pagination:!1,dataSource:n})})]})},F=function(){var e=(0,c.UO)(),n=(0,d.a)(m.zd,{pollInterval:1e4,variables:{takeTest:e.test}}),t=n.data,s=n.loading,f=n.refetch,$=(0,u.D)(m.Iy,{onCompleted:function(e){f(),r.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430!")}}),T=(0,i.Z)($,2),p=T[0],j=T[1].loading;return(0,k.jsx)("div",{children:(0,k.jsxs)(a.Z,{gutter:[8,16],children:[(0,k.jsx)(l.Z,{xs:24,xl:16,children:(0,k.jsx)(o.Z,{className:"mt-4",title:(0,k.jsx)(x.Z,{id:"add_student"}),children:(0,k.jsx)(Z.Z,{submitData:p,loading:j,mutationData:{takeTest:e.test}})})}),(0,k.jsx)(l.Z,{xs:24,xl:8,children:(0,k.jsx)(I,{takeTest:e.test})}),(0,k.jsx)(l.Z,{xs:24,xl:24,children:(0,k.jsx)(O,{loading:s,takeTest:e.test,refetch:f,data:null===t||void 0===t?void 0:t.allParticipantByTest})})]})})}}}]);
//# sourceMappingURL=4613.2368dd37.chunk.js.map