"use strict";(self.webpackChunkmkp=self.webpackChunkmkp||[]).push([[9630],{68470:function(n,e,t){t(72791);var a=t(80184),i=function(n){var e=n.children,t=n.className,i=n.alignItems,r=n.justifyContent,s=n.mobileFlex,l=n.flexDirection;return(0,a.jsx)("div",{className:"".concat(s?"d-flex":"d-md-flex"," ").concat(t," ").concat(l?"flex-"+l:""," ").concat(i?"align-items-"+i:""," ").concat(r?"justify-content-"+r:""),children:e})};i.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},e.Z=i},41920:function(n,e,t){t.d(e,{$_:function(){return R},Be:function(){return nn},Dp:function(){return X},Fm:function(){return L},J7:function(){return K},Ko:function(){return en},MA:function(){return Y},NC:function(){return W},O8:function(){return V},TW:function(){return A},Vr:function(){return M},YP:function(){return z},YV:function(){return Q},gw:function(){return k},nS:function(){return G},nh:function(){return _},oj:function(){return B},pQ:function(){return F},q:function(){return tn},r1:function(){return J},tz:function(){return U},vh:function(){return H},vp:function(){return O}});var a,i,r,s,l,o,d,u,m,c,f,y,p,h,g,v,$,x,S,Z,b,P,C,j,N,D,I,q,E,T=t(30168),w=t(27570),A=(0,w.Ps)(a||(a=(0,T.Z)(["\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            school {\n                id\n                name\n            }\n            subSchool {\n                id\n                name\n            }\n            subject \n            credit\n            content\n            createUserid{\n                teacher{\n                    familyName\n                    name\n                }\n            }\n        }\n    }\n"]))),B=(0,w.Ps)(i||(i=(0,T.Z)(["\n    query allSubjectsPagination ($page: Int!, $perPage: Int!, $filter: String) {\n        allSubjectsPagination (page: $page, perPage: $perPage, filter: $filter) {\n            page\n            perPage\n            pageCount\n            totalCount\n            records {\n                id\n                school {\n                    id\n                    name\n                }\n                subSchool {\n                    id\n                    name\n                }\n                subject \n                credit\n                content\n                createUserid{\n                    teacher{\n                        familyName\n                        name\n                    }\n                }\n            }\n        }\n    }\n"]))),k=((0,w.Ps)(r||(r=(0,T.Z)(["\n    query allTeacherStatuss {\n        allTeacherStatuss {\n            id\n            name\n        }\n    }\n"]))),(0,w.Ps)(s||(s=(0,T.Z)(["\n    query allStudentStatuss {\n        allStudentStatuss {\n            id\n            name\n        }\n    }\n"]))),(0,w.Ps)(l||(l=(0,T.Z)(["\n    query allStudentStatusExtras {\n        allStudentStatusExtras {\n            id\n            name\n        }\n    }\n"]))),(0,w.Ps)(o||(o=(0,T.Z)(["\n    query allUsers {\n        allUsers {\n            id\n            username\n            email\n        }\n    }\n"])))),O=((0,w.Ps)(d||(d=(0,T.Z)(["\n    query userByUsername($username: String!) {\n        userByUsername(username: $username) {\n            id\n            username\n        }\n    }\n"]))),(0,w.Ps)(u||(u=(0,T.Z)(["\n    query employeesAttandanceByRange ($startDate: DateTime!, $endDate: DateTime!) {\n        employeesAttandanceByRange (startDate: $startDate, endDate: $endDate) {\n            id\n            isIn\n            isOut\n            timeIn\n            timeOut\n            user {\n                id\n                isTeacher\n                isEmployee\n                teacher {\n                    familyName\n                    name\n                    teacherCode\n                }\n                employee {\n                    familyName\n                    name\n                    employeeCode\n                }\n                groups {\n                    name\n                }\n            }\n        }\n    }\n"])))),Y=((0,w.Ps)(m||(m=(0,T.Z)(["\n    query allAttendaceEmployees {\n        allAttendaceEmployees {\n            username\n            email\n            isTeacher\n            isEmployee\n            teacher {\n                teacherCode\n                familyName\n                name\n            }\n            employee {\n                employeeCode\n                familyName\n                name\n            }\n        }\n    }\n"]))),(0,w.Ps)(c||(c=(0,T.Z)(["\n    query allEmployeesCompartment {\n        allEmployeesCompartment {\n            id\n            name\n        }\n    }\n"])))),M=(0,w.Ps)(f||(f=(0,T.Z)(["\n    query allEmployees ($filter: String) {\n        allEmployees (filter: $filter) {\n            id\n            user {\n                id\n                username\n                email\n                groups {\n                    name\n                }\n            }\n            compartment {\n                id\n                name\n            }\n            employeeCode\n            familyName\n            name\n            registerNo\n            photo\n            phone\n            phone2\n            address\n            sex\n            birthdate\n            birthCity {\n                id\n            }\n            birthDistrict {\n                id\n            }\n            status {\n                id\n            }\n        }\n    }\n"]))),F=(0,w.Ps)(y||(y=(0,T.Z)(["\n  \tquery allTeachers ($offset: Int!, $limit: Int!, $filter: String) {\n        allTeachers (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            user {\n                id\n                username\n                email\n            }\n            teacherCode\n            degree{\n                id\n            }\n            access\n            familyName\n            name\n            registerNo\n            photo\n            phone\n            phone2\n            address\n            joinDate\n            joinBefore\n            sex\n            birthdate\n            birthCity {\n                id\n                name\n            }\n            birthDistrict {\n                id\n                name\n            }\n            status {\n                id\n                name\n            }\n            school {\n                id\n                name\n            }\n            subSchool {\n                id\n                name\n            }\n        }\n\t}\n"]))),U=(0,w.Ps)(p||(p=(0,T.Z)(["\n  \tquery allStudents ($filter: String, $program: Int, $classes: Int, $section: Int) {\n        allStudents (filter: $filter, program: $program, classes: $classes, section: $section) {\n            id\n            user {\n                id\n                username\n                email\n            }\n            studentCode\n            surname\n            familyName\n            name\n            religion\n            registerNo\n            nationality\n            state\n            photo\n            phone\n            address\n            activity {\n                id\n                name\n            }\n            joinDate\n            sex\n            birthdate\n            classtime {\n                id\n                name\n            }\n            birthCity {\n                id\n                name\n            }\n            birthDistrict {\n                id\n                name\n            }\n            status {\n                id\n                name\n            }\n            statusExtra {\n                id\n                name\n            }\n            school {\n                id\n                name\n            }\n            classes {\n                id\n                classes\n            }\n            section {\n                id\n                section\n            }\n            program {\n                id\n                program\n            }\n            joinSchoolyear {\n                id\n                schoolyear\n            }\n        }\n    }\n"]))),R=(0,w.Ps)(h||(h=(0,T.Z)(["\n  \tquery allCitys{\n        allCitys {\n            id\n            name\n            code\n        }\n\t}\n"]))),W=(0,w.Ps)(g||(g=(0,T.Z)(["\n    query allDistricts {\n        allDistricts {\n            id\n            code\n            name\n            cityID {\n                id\n                name\n            }\n        }\n    }\n"]))),z=(0,w.Ps)(v||(v=(0,T.Z)(["\n  \tquery allPrograms{\n        allPrograms {\n            id\n            program\n            programMgl\n            maxStudentNum\n            school {\n                id\n                name\n            }\n            subSchool {\n                id\n                name\n            }\n            status\n            createdAt\n            updatedAt\n        }\n\t  }\n"]))),L=(0,w.Ps)($||($=(0,T.Z)(["\n  \tquery allSchools {\n        allSchools {\n            id\n            name\n            nameMgl\n        }\n\t}\n"]))),V=(0,w.Ps)(x||(x=(0,T.Z)(["\n  \tquery allSubSchools{\n        allSubSchools {\n            id\n            name\n            nameMgl\n            school {\n                id\n                name\n            }\n\t\t}\n\t}\n"]))),K=(0,w.Ps)(S||(S=(0,T.Z)(["\n    query allSections {\n        allSections {\n            id\n            section\n            classes {\n                id\n                classes\n            }\n            program {\n                id\n                program\n            }\n            teacher{\n                id\n            }\n            program {\n                id\n                program\n            }\n            school {\n                id\n                name\n            }\n            createdAt\n            updatedAt\n        }\n    }\n"]))),J=(0,w.Ps)(Z||(Z=(0,T.Z)(["\n    query allClassess ($program: Int!, $offset: Int!, $limit: Int!, $filter: String) {\n        allClassess (program: $program, offset: $offset, limit: $limit, filter: $filter) {\n            id\n            classes\n            activity {\n                id\n                name\n            }\n            program {\n                id\n                program\n            }\n            school {\n                id\n                name\n            }\n            status\n        }\n    }\n"]))),Q=(0,w.Ps)(b||(b=(0,T.Z)(["\n    query allClasstimes {\n        allClasstimes {\n            id\n            name\n        }\n    }\n"]))),_=(0,w.Ps)(P||(P=(0,T.Z)(["\n    query allSchoolyears {\n        allSchoolyears {\n            id\n            schoolyear\n        }\n    }\n"]))),G=(0,w.Ps)(C||(C=(0,T.Z)(["\n    query allParents ($offset: Int!, $limit: Int!, $filter: String) {\n        allParents (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            familyName\n            name\n            profession\n            phone\n            address\n            student {\n                id\n                studentCode\n                familyName\n                name\n            }\n        }\n    }\n"]))),H=(0,w.Ps)(j||(j=(0,T.Z)(["\n    query sectionsByClasses ($classes: Int!) {\n        sectionsByClasses (classes: $classes) {\n            id\n            section\n            maxStudentNum\n            teacher{\n                name\n                id\n            }\n            classes {\n                id\n                classes\n            }\n            program {\n                id\n                program\n            }\n            school {\n                id\n                name\n            }\n        }\n    }\n"]))),X=(0,w.Ps)(N||(N=(0,T.Z)(["\n    query transfersByStudent ($student: Int!) {\n        transfersByStudent (student: $student) {\n            id\n            student {\n                familyName\n                name\n                photo\n                studentCode\n            }\n            school {\n                id\n                name\n            }\n            program {\n                id\n                program\n            }\n            classes {\n                id\n                classes\n            }\n            section {\n                id\n                section\n            }\n            status {\n                id\n                name\n            }\n            statusExtra {\n                id\n                name\n            }\n            classtime {\n                id\n                name\n            }\n            activity {\n                id\n                name\n            }\n            docDate\n            docNum\n            description\n            oldData\n        }\n    }\n"]))),nn=(0,w.Ps)(D||(D=(0,T.Z)(["\n    query allEventTypes {\n        allEventTypes {\n            id\n            name\n            color\n        }\n    }\n"]))),en=(0,w.Ps)(I||(I=(0,T.Z)(["\n    query allEvents {\n        allEvents {\n            id\n            title\n            description\n            content\n            startAt\n            endAt\n            eventType {\n                id\n                name\n                color\n            }\n        }\n    } \n"]))),tn=(0,w.Ps)(q||(q=(0,T.Z)(["\n    query allEventsByDate ($date: Date) {\n        allEventsByDate (date: $date) {\n            id\n            title\n            description\n            content\n            startAt\n            endAt\n            eventType {\n                id\n                name\n                color\n            }\n        }\n    } \n"])));(0,w.Ps)(E||(E=(0,T.Z)(["\n    query allEventsByType ($id: Int!) {\n        allEventsByType (id: $id) {\n            id\n            title\n            description\n            content\n            startAt\n            endAt\n            eventType\n        }\n    }\n"])))},97038:function(n,e,t){t.r(e),t.d(e,{default:function(){return v}});var a=t(72791),i=t(29439),r=t(66871),s=t(11561),l=t(59432),o=t(37083),d=t(69421),u=t(96578),m=t(72426),c=t.n(m),f=t(68470),y=t(41920),p=t(82630),h=t(80184),g=function(){var n=(0,a.useState)([]),e=(0,i.Z)(n,2),t=e[0],m=e[1],g=(0,a.useState)(c()().startOf("day")),v=(0,i.Z)(g,2),$=v[0],x=v[1],S=(0,a.useState)(c()().endOf("day")),Z=(0,i.Z)(S,2),b=Z[0],P=Z[1],C=(0,u.a)(y.vp,{variables:{startDate:$,endDate:b},onCompleted:function(n){m(n.employeesAttandanceByRange)}}),j=C.loading,N=[{key:"employeeCode",title:(0,h.jsx)(p.Z,{id:"employeeCode"}),dataIndex:"employeeCode",render:function(n,e){var t,a;return(0,h.jsxs)(h.Fragment,{children:[e.user.isTeacher&&(0,h.jsx)("span",{children:null===(t=e.user.teacher)||void 0===t?void 0:t.teacherCode}),e.user.isEmployee&&(0,h.jsx)("span",{children:null===(a=e.user.employee)||void 0===a?void 0:a.employeeCode})]})}},{key:"familyName",title:(0,h.jsx)(p.Z,{id:"familyName"}),dataIndex:"familyName",render:function(n,e){var t,a;return(0,h.jsxs)(h.Fragment,{children:[e.user.isTeacher&&(0,h.jsx)("span",{children:null===(t=e.user.teacher)||void 0===t?void 0:t.familyName}),e.user.isEmployee&&(0,h.jsx)("span",{children:null===(a=e.user.employee)||void 0===a?void 0:a.familyName})]})}},{key:"name",title:(0,h.jsx)(p.Z,{id:"name"}),dataIndex:"name",render:function(n,e){var t,a;return(0,h.jsxs)(h.Fragment,{children:[e.user.isTeacher&&(0,h.jsx)("span",{children:null===(t=e.user.teacher)||void 0===t?void 0:t.name}),e.user.isEmployee&&(0,h.jsx)("span",{children:null===(a=e.user.employee)||void 0===a?void 0:a.name})]})}},{key:"name",title:"\u0410\u043b\u0431\u0430\u043d \u0442\u0443\u0448\u0430\u0430\u043b",dataIndex:"name",render:function(n,e){var t;return null===(t=e.user.groups)||void 0===t?void 0:t.map((function(n,e){return(0,h.jsxs)("span",{children:[n.name," ",(0,h.jsx)("br",{})]},e)}))}},{key:"timeIn",title:"\u041e\u0440\u0441\u043e\u043d \u0446\u0430\u0433",dataIndex:"timeIn",render:function(n,e){return e.isIn&&c()(n).format("YYYY-MM-DD LTS")}},{key:"timeOut",title:"\u0413\u0430\u0440\u0441\u0430\u043d \u0446\u0430\u0433",dataIndex:"timeOut",render:function(n,e){return e.isOut&&c()(n).format("YYYY-MM-DD LTS")}}];return(0,h.jsxs)(r.Z,{children:[(0,h.jsx)(f.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:(0,h.jsx)(f.Z,{className:"mb-1",mobileFlex:!1,children:(0,h.jsx)("div",{className:"mr-md-3 mb-3",children:(0,h.jsx)(s.Z,{defaultValue:c()(),onChange:function(n){var e;(e=n)&&(x(c()(e).startOf("day")),P(c()(e).endOf("day")))}})})})}),(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsx)(l.Z,{columns:N,size:"small",dataSource:t,rowKey:"id",bordered:!0,locale:{emptyText:j?(0,h.jsx)(o.Z,{}):(0,h.jsx)(d.Z,{})}})})]})},v=function(){return(0,h.jsx)(g,{})}},37295:function(n,e,t){t.d(e,{Z:function(){return o}});var a=t(1413),i=t(72791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},s=t(8711),l=function(n,e){return i.createElement(s.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};l.displayName="DownOutlined";var o=i.forwardRef(l)},19581:function(n,e,t){t.d(e,{Z:function(){return r}});var a=t(29439),i=t(72791);function r(){var n=i.useReducer((function(n){return n+1}),0);return(0,a.Z)(n,2)[1]}},69025:function(n,e,t){var a;function i(n){if("undefined"===typeof document)return 0;if(n||void 0===a){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div"),i=t.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var s=e.offsetWidth;r===s&&(s=t.clientWidth),document.body.removeChild(t),a=r-s}return a}function r(n){var e=n.match(/^(.*)px$/),t=Number(null===e||void 0===e?void 0:e[1]);return Number.isNaN(t)?i():t}function s(n){if("undefined"===typeof document||!n||!(n instanceof Element))return{width:0,height:0};var e=getComputedStyle(n,"::-webkit-scrollbar"),t=e.width,a=e.height;return{width:r(t),height:r(a)}}t.d(e,{Z:function(){return i},o:function(){return s}})}}]);
//# sourceMappingURL=9630.dcc3bc35.chunk.js.map