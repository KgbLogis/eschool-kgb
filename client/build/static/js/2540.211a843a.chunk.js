"use strict";(self.webpackChunkmkp=self.webpackChunkmkp||[]).push([[2540],{49696:function(n,e,t){var o=t(29439),r=t(72791),a=t(20003),i=t(80184),d=(0,r.forwardRef)((function(n,e){var t,d=n.children,c=n.title,l=n.footer,u=n.formName,s=void 0===u?"form":u,f=n.forceRender,m=void 0!==f&&f,p=(0,r.useState)(!1),g=(0,o.Z)(p,2),v=g[0],Z=g[1];return(0,r.useImperativeHandle)(e,(function(){return{handleOpen:function(){Z(!0)},handleCancel:function(){Z(!1)}}})),(0,i.jsx)(a.Z,{width:1e3,title:c,visible:v,onCancel:null===(t=e.current)||void 0===t?void 0:t.handleCancel,okText:"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445",footer:l,cancelText:"\u0411\u043e\u043b\u0438\u0445",forceRender:m,okButtonProps:{form:s,key:"submit",htmlType:"submit"},children:d})}));e.Z=d},60083:function(n,e,t){t.d(e,{L$:function(){return D},Re:function(){return N},Wc:function(){return I},bO:function(){return k},ec:function(){return P},ou:function(){return S},p5:function(){return E},qW:function(){return R},rc:function(){return w},tx:function(){return M},vj:function(){return O},wz:function(){return F},xW:function(){return b},yW:function(){return j},z4:function(){return C}});var o,r,a,i,d,c,l,u,s,f,m,p,g,v,Z,y,h,x=t(30168),$=t(27570),b=(0,$.Ps)(o||(o=(0,x.Z)(["\n    query allFoodMenus ($filter: String) {\n        allFoodMenus (filter: $filter){\n            id\n            program {\n                id\n                program\n            }\n            name \n        }\n    }\n"]))),M=(0,$.Ps)(r||(r=(0,x.Z)(["\n    mutation createFoodMenu ($name: String, $program: ID){\n        createFoodMenu(name: $name, program: $program){\n            foodMenu{\n                id\n            }\n        }\n    }\n\n"]))),j=(0,$.Ps)(a||(a=(0,x.Z)(["\n    mutation updateFoodMenu ($id: ID, $name: String, $program: ID){\n        updateFoodMenu (id: $id, name: $name, program: $program){\n            foodMenu{\n                id\n            }\n        }\n    }\n"]))),F=(0,$.Ps)(i||(i=(0,x.Z)(["\n    mutation deleteFoodMenu ($id: ID){\n        deleteFoodMenu (id: $id){\n            foodMenu{\n                name\n            }\n        }\n    }\n"]))),w=(0,$.Ps)(d||(d=(0,x.Z)(["\n    query allFoods ($foodMenu: ID!) {\n        allFoods (foodMenu: $foodMenu){\n            id\n            name\n            ingredients\n        }\n    }\n"]))),P=(0,$.Ps)(c||(c=(0,x.Z)(["\n    mutation createFood ($foodMenu: ID, $ingredients: String, $name: String){\n        createFood (foodMenu: $foodMenu, ingredients: $ingredients, name: $name) {\n            food {\n                id\n            }\n        }\n    }\n"]))),D=(0,$.Ps)(l||(l=(0,x.Z)(["\n    mutation updateFood ($foodMenu: ID, $id: ID, $ingredients: String, $name: String){\n        updateFood (foodMenu: $foodMenu, id: $id, ingredients: $ingredients, name: $name){\n            food {\n                id\n            }\n        }\n    }\n"]))),O=(0,$.Ps)(u||(u=(0,x.Z)(["\n    mutation deleteFood ($id: ID){\n        deleteFood (id: $id){\n            food {\n                name\n            }\n        }\n    }\n"]))),I=(0,$.Ps)(s||(s=(0,x.Z)(["\n    query allDailyMenus {\n        allDailyMenus {\n            id\n            program {\n                program\n            }\n            name\n            createdAt\n        }\n    }\n"]))),C=(0,$.Ps)(f||(f=(0,x.Z)(["\n    mutation createDailyMenu ($name: String, $program: ID) {\n        createDailyMenu (name: $name, program: $program) {\n            dailyMenu {\n                id\n            }\n        }\n    }\n"]))),N=(0,$.Ps)(m||(m=(0,x.Z)(["\n    mutation deleteDailyMenu ($id: ID){\n        deleteDailyMenu (id: $id){\n            dailyMenu {\n                name\n            }\n        }\n    }\n"]))),S=(0,$.Ps)(p||(p=(0,x.Z)(["\n    query allDailyMenuFoods ($dailyMenu: ID!){\n        allDailyMenuFoods (dailyMenu: $dailyMenu){\n            id\n            food {\n                name\n                ingredients\n                foodfileSet {\n                    image\n                }\n            }\n        }\n    }\n"]))),k=((0,$.Ps)(g||(g=(0,x.Z)(["\n    query foodById ($id: ID!){\n        foodById (id: $id){\n            id\n        }\n    }\n"]))),(0,$.Ps)(v||(v=(0,x.Z)(["\n    query allFoodFilesByFood ($food: ID!){\n        allFoodFilesByFood (food: $food){\n            id\n            image\n        }\n    }\n"])))),E=(0,$.Ps)(Z||(Z=(0,x.Z)(["\n    mutation createFoodFile ($food: ID, $image: Upload!){\n        createFoodFile (food: $food, image: $image){\n            foodFile {\n                id\n            }\n        }\n    }\n"]))),R=((0,$.Ps)(y||(y=(0,x.Z)(["\n    mutation deleteFoodFile ($id: ID){\n        deleteFoodFile (id: $id){\n            foodFile {\n                image\n            }\n        }\n    }\n"]))),(0,$.Ps)(h||(h=(0,x.Z)(["\n    mutation createDailyMenuFood ($dailyMenu: ID, $food: ID) {\n        createDailyMenuFood (dailyMenu: $dailyMenu, food: $food) {\n            dailyMenuFood {\n                id\n            }\n        }\n    }\n"]))))},854:function(n,e,t){t.r(e),t.d(e,{default:function(){return F}});var o=t(72791),r=t(96578),a=t(87309),i=t(36755),d=t(53834),c=t(31549),l=t(60083),u=t(64880),s=t(91523),f=t(29439),m=t(22949),p=t(73332),g=t(50419),v=t(37083),Z=t(82630),y=t(84376),h=t(86586),x=t(80184),$=m.Z.Option;var b=function(n){var e=n.closeModal,t=(n.selectedData,p.Z.useForm()),o=(0,f.Z)(t,1)[0],a=(0,u.UO)().dailyMenu,i=(0,y.D)(l.qW,{refetchQueries:[{query:l.ou,variables:{dailyMenu:a}}],onCompleted:function(n){e(),g.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430")}}),d=(0,f.Z)(i,2),c=d[0],s=d[1].loading,b=(0,r.a)(l.xW).data,M=(0,h.t)(l.rc),j=(0,f.Z)(M,2),F=j[0],w=j[1].data;return(0,x.jsx)(v.Z,{spinning:s,tip:"\u0410\u0447\u0430\u0430\u043b\u043b\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",children:(0,x.jsxs)(p.Z,{id:"form",layout:"vertical",form:o,name:"form",onFinish:function(n){n.dailyMenu=a,c({variables:n})},children:[(0,x.jsx)(p.Z.Item,{name:"menus",label:"\u0426\u044d\u0441",rules:[{required:!0,message:(0,x.jsx)(Z.Z,{id:"form.required"})}],children:(0,x.jsx)(m.Z,{onSelect:function(n){F({variables:{foodMenu:n}})},children:null===b||void 0===b?void 0:b.allFoodMenus.map((function(n,e){return(0,x.jsx)($,{value:n.id,children:n.name},e)}))})}),(0,x.jsx)(p.Z.Item,{name:"food",label:"\u0425\u043e\u043e\u043b",rules:[{required:!0,message:(0,x.jsx)(Z.Z,{id:"form.required"})}],children:(0,x.jsx)(m.Z,{children:null===w||void 0===w?void 0:w.allFoods.map((function(n,e){return(0,x.jsx)($,{value:n.id,children:n.name},e)}))})})]})})},M=t(49696),j=t(59305),F=function(){var n=(0,u.UO)().dailyMenu,e=(0,r.a)(l.ou,{variables:{dailyMenu:n}}).data,t=(0,o.useRef)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(M.Z,{ref:t,children:(0,x.jsx)(b,{closeModal:function(){t.current.handleCancel()}})}),(0,x.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,x.jsx)(s.rU,{to:"/app/food",children:(0,x.jsxs)(a.Z,{type:"text",icon:(0,x.jsx)(d.Z,{}),children:[" ",(0,x.jsx)(Z.Z,{id:"back"})," "]})}),(0,x.jsxs)(a.Z,{onClick:function(){t.current.handleOpen()},type:"primary",icon:(0,x.jsx)(c.Z,{}),children:[" ",(0,x.jsx)(Z.Z,{id:"add_new"})," "]})]}),(0,x.jsx)("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:null===e||void 0===e?void 0:e.allDailyMenuFoods.map((function(n,e){return(0,x.jsx)("div",{className:"relative mx-auto w-full",children:(0,x.jsx)("div",{className:"relative inline-block duration-300 ease-in-out transition-transform transform hover:-translate-y-2 hover:cursor-pointer w-full",children:(0,x.jsxs)("div",{className:"shadow p-4 rounded-7 bg-white",children:[(0,x.jsx)("div",{className:"flex justify-center relative rounded-lg overflow-hidden h-16",children:(0,x.jsx)("span",{className:"absolute top-0 left-0 inline-flex mt-3 ml-3 px-3 py-2 rounded-lg z-10 bg-mkp-400 text-sm font-medium text-white select-none",children:n.food.name})}),(0,x.jsxs)("div",{className:"mt-4",children:[(0,x.jsx)("div",{className:"font-medium text-base md:text-lg text-gray-800 line-clamp-1",dangerouslySetInnerHTML:{__html:n.food.ingredients}}),(0,x.jsx)("p",{className:"mt-2 text-sm text-gray-800 line-clamp-1",children:(0,x.jsx)(i.Z.PreviewGroup,{children:n.food.foodfileSet.map((function(n,e){return(0,x.jsx)(i.Z,{src:"".concat(j._O).concat(n.image),height:200,alt:"image description"},e)}))})})]})]})})},e)}))})]})}},31549:function(n,e,t){t.d(e,{Z:function(){return c}});var o=t(1413),r=t(72791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},i=t(8711),d=function(n,e){return r.createElement(i.Z,(0,o.Z)((0,o.Z)({},n),{},{ref:e,icon:a}))};d.displayName="PlusCircleOutlined";var c=r.forwardRef(d)},53834:function(n,e,t){t.d(e,{Z:function(){return c}});var o=t(1413),r=t(72791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},i=t(8711),d=function(n,e){return r.createElement(i.Z,(0,o.Z)((0,o.Z)({},n),{},{ref:e,icon:a}))};d.displayName="RollbackOutlined";var c=r.forwardRef(d)},19911:function(n,e,t){var o=t(29439),r=t(72791),a=t(96096);e.Z=function(){var n=r.useState(!1),e=(0,o.Z)(n,2),t=e[0],i=e[1];return r.useEffect((function(){i((0,a.fk)())}),[]),t}},79426:function(n,e,t){var o=(0,t(72791).createContext)({});e.Z=o},89752:function(n,e,t){var o=t(4942),r=t(87462),a=t(71002),i=t(72791),d=t(81694),c=t.n(d),l=t(79426),u=t(69077),s=function(n,e){var t={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(n);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(t[o[r]]=n[o[r]])}return t};var f=["xs","sm","md","lg","xl","xxl"],m=i.forwardRef((function(n,e){var t,d=i.useContext(u.E_),m=d.getPrefixCls,p=d.direction,g=i.useContext(l.Z),v=g.gutter,Z=g.wrap,y=g.supportFlexGap,h=n.prefixCls,x=n.span,$=n.order,b=n.offset,M=n.push,j=n.pull,F=n.className,w=n.children,P=n.flex,D=n.style,O=s(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),I=m("col",h),C={};f.forEach((function(e){var t,i={},d=n[e];"number"===typeof d?i.span=d:"object"===(0,a.Z)(d)&&(i=d||{}),delete O[e],C=(0,r.Z)((0,r.Z)({},C),(t={},(0,o.Z)(t,"".concat(I,"-").concat(e,"-").concat(i.span),void 0!==i.span),(0,o.Z)(t,"".concat(I,"-").concat(e,"-order-").concat(i.order),i.order||0===i.order),(0,o.Z)(t,"".concat(I,"-").concat(e,"-offset-").concat(i.offset),i.offset||0===i.offset),(0,o.Z)(t,"".concat(I,"-").concat(e,"-push-").concat(i.push),i.push||0===i.push),(0,o.Z)(t,"".concat(I,"-").concat(e,"-pull-").concat(i.pull),i.pull||0===i.pull),(0,o.Z)(t,"".concat(I,"-rtl"),"rtl"===p),t))}));var N=c()(I,(t={},(0,o.Z)(t,"".concat(I,"-").concat(x),void 0!==x),(0,o.Z)(t,"".concat(I,"-order-").concat($),$),(0,o.Z)(t,"".concat(I,"-offset-").concat(b),b),(0,o.Z)(t,"".concat(I,"-push-").concat(M),M),(0,o.Z)(t,"".concat(I,"-pull-").concat(j),j),t),F,C),S={};if(v&&v[0]>0){var k=v[0]/2;S.paddingLeft=k,S.paddingRight=k}if(v&&v[1]>0&&!y){var E=v[1]/2;S.paddingTop=E,S.paddingBottom=E}return P&&(S.flex=function(n){return"number"===typeof n?"".concat(n," ").concat(n," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?"0 0 ".concat(n):n}(P),"auto"!==P||!1!==Z||S.minWidth||(S.minWidth=0)),i.createElement("div",(0,r.Z)({},O,{style:(0,r.Z)((0,r.Z)({},S),D),className:N,ref:e}),w)}));m.displayName="Col",e.Z=m},37545:function(n,e,t){var o=t(87462),r=t(4942),a=t(71002),i=t(29439),d=t(72791),c=t(81694),l=t.n(c),u=t(69077),s=t(79426),f=t(79393),m=t(78295),p=t(19911),g=function(n,e){var t={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(n);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(t[o[r]]=n[o[r]])}return t},v=((0,f.b)("top","middle","bottom","stretch"),(0,f.b)("start","end","center","space-around","space-between"),d.forwardRef((function(n,e){var t,c=n.prefixCls,f=n.justify,v=n.align,Z=n.className,y=n.style,h=n.children,x=n.gutter,$=void 0===x?0:x,b=n.wrap,M=g(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),j=d.useContext(u.E_),F=j.getPrefixCls,w=j.direction,P=d.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),D=(0,i.Z)(P,2),O=D[0],I=D[1],C=(0,p.Z)(),N=d.useRef($);d.useEffect((function(){var n=m.ZP.subscribe((function(n){var e=N.current||0;(!Array.isArray(e)&&"object"===(0,a.Z)(e)||Array.isArray(e)&&("object"===(0,a.Z)(e[0])||"object"===(0,a.Z)(e[1])))&&I(n)}));return function(){return m.ZP.unsubscribe(n)}}),[]);var S=F("row",c),k=function(){var n=[0,0];return(Array.isArray($)?$:[$,0]).forEach((function(e,t){if("object"===(0,a.Z)(e))for(var o=0;o<m.c4.length;o++){var r=m.c4[o];if(O[r]&&void 0!==e[r]){n[t]=e[r];break}}else n[t]=e||0})),n}(),E=l()(S,(t={},(0,r.Z)(t,"".concat(S,"-no-wrap"),!1===b),(0,r.Z)(t,"".concat(S,"-").concat(f),f),(0,r.Z)(t,"".concat(S,"-").concat(v),v),(0,r.Z)(t,"".concat(S,"-rtl"),"rtl"===w),t),Z),R={},q=k[0]>0?k[0]/-2:void 0,B=k[1]>0?k[1]/-2:void 0;if(q&&(R.marginLeft=q,R.marginRight=q),C){var T=(0,i.Z)(k,2);R.rowGap=T[1]}else B&&(R.marginTop=B,R.marginBottom=B);var W=d.useMemo((function(){return{gutter:k,wrap:b,supportFlexGap:C}}),[k,b,C]);return d.createElement(s.Z.Provider,{value:W},d.createElement("div",(0,o.Z)({},M,{className:E,style:(0,o.Z)((0,o.Z)({},R),y),ref:e}),h))})));v.displayName="Row",e.Z=v},92632:function(n,e,t){t.d(e,{g1:function(){return o},os:function(){return r}});function o(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}function r(n){var e=n.getBoundingClientRect(),t=document.documentElement;return{left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}}}]);
//# sourceMappingURL=2540.211a843a.chunk.js.map