"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[3117],{68470:function(e,t,n){n(72791);var r=n(80184),s=function(e){var t=e.children,n=e.className,s=e.alignItems,i=e.justifyContent,a=e.mobileFlex,l=e.flexDirection;return(0,r.jsx)("div",{className:"".concat(a?"d-flex":"d-md-flex"," ").concat(n," ").concat(l?"flex-"+l:""," ").concat(s?"align-items-"+s:""," ").concat(i?"justify-content-"+i:""),children:t})};s.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},t.Z=s},68694:function(e,t,n){n.d(t,{Cm:function(){return h},Cx:function(){return x},FQ:function(){return Z},JX:function(){return f},Z2:function(){return g},dT:function(){return j},gt:function(){return p},tL:function(){return v}});var r,s,i,a,l,o,d,c,u=n(30168),m=n(27570),f=(0,m.Ps)(r||(r=(0,u.Z)(["\n    query allStudents ($filter: String) {\n        allStudents (filter: $filter) {\n            id\n            familyName\n            name\n            studentCode\n        }\n\t}\n"]))),x=(0,m.Ps)(s||(s=(0,u.Z)(["\n    query allTeachers ($filter: String) {\n        allTeachers (filter: $filter) {\n            id\n            familyName\n            name\n            teacherCode\n        }\n    }\n"]))),Z=(0,m.Ps)(i||(i=(0,u.Z)(["\n    query allClassess ($filter: String, $program: Int) {\n        allClassess (filter: $filter, program: $program) {\n            id\n            classes\n        }\n\t}\n"]))),h=(0,m.Ps)(a||(a=(0,u.Z)(['\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "subject", modelName: "Subject", filter: $filter) {\n            count\n        }\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            subject\n            content\n            createUserid {\n                firstName\n                lastName\n            }\n        }\n    }\n']))),j=(0,m.Ps)(l||(l=(0,u.Z)(["\n    query selectProgram {\n        allPrograms {\n            id\n            program\n        }\n    }\n"]))),v=(0,m.Ps)(o||(o=(0,u.Z)(["\n    query sectionsByProgram ($program: Int!) {\n        sectionsByProgram (program: $program) {\n            id\n            section \n            classes {\n                classes\n            }\n        }\n    }\n"]))),p=(0,m.Ps)(d||(d=(0,u.Z)(["\n    query sectionsByClasses ($classes: Int!){\n        sectionsByClasses (classes: $classes) {\n            id \n            section\n        }\n    }\n"]))),g=(0,m.Ps)(c||(c=(0,u.Z)(['\n    query allStudentsPagination (\n        $page: Int\n        $perPage: Int\n        $filter: String = ""\n    ) {\n        allStudentsPagination (\n            page: $page\n            perPage: $perPage\n            filter: $filter\n        ) {\n            page\n            perPage\n            pageCount\n            totalCount\n            records {\n                id\n                name\n                familyName\n            }\n        }\n    }\n'])))},19545:function(e,t,n){var r=n(29439),s=n(72791),i=n(22949),a=n(73332),l=n(49389),o=n(50419),d=n(37083),c=n(66106),u=n(30914),m=n(11561),f=n(84376),x=n(96578),Z=n(86586),h=n(41920),j=n(7378),v=n(20077),p=n(82259),g=n(72426),b=n.n(g),y=n(82630),C=n(68694),w=n(80184);t.Z=function(e){var t=e.editData,n=e.formType,g=e.setIsModalVisible,P=e.refetch,q=i.Z.Option,N=a.Z.useForm(),S=(0,r.Z)(N,1)[0],I=l.Z.TextArea,z="YYYY-MM-DD",T=(0,f.D)(v.vm,{onCompleted:function(e){P(),o.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),S.resetFields(),g(!1)}}),E=(0,r.Z)(T,2),k=E[0],D=E[1].loading,M=(0,f.D)(p.x,{onCompleted:function(e){P(),o.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),g(!1)}}),$=(0,r.Z)(M,2),O=$[0],Y=$[1].loading,B=(0,x.a)(j.$5).data,F=(0,Z.t)(C.FQ),L=(0,r.Z)(F,2),R=L[0],H=L[1].data,V=(0,x.a)(h.YP).data,_=(0,x.a)(h.$_).data,A=(0,x.a)(h.NC).data,Q=(0,x.a)(h.Fm).data,U=(0,x.a)(j.Ds).data,G=(0,x.a)(j.w9).data,J=(0,x.a)(h.gw).data,K=(0,x.a)(h.YV).data,X=(0,Z.t)(C.gt),W=(0,r.Z)(X,2),ee=W[0],te=W[1].data,ne=(0,x.a)(h.nh).data;(0,s.useEffect)((function(){if("edit"===n){var e={username:t.user.username,email:t.user.email,studentCode:t.studentCode,surname:t.surname,familyName:t.familyName,name:t.name,religion:t.religion,registerNo:t.registerNo,nationality:t.nationality,state:t.state,phone:t.phone,address:t.address,citizen:t.citizen,activity:t.activity.id,sex:t.sex,classtime:t.classtime.id,birthCity:t.birthCity.id,birthDistrict:t.birthDistrict.id,status:t.status.id,statusExtra:t.statusExtra.id,school:t.school.id,classes:t.classes.id,section:t.section.id,program:t.program.id,joinSchoolyear:t.joinSchoolyear.id,joinDate:b()(t.joinDate),birthdate:b()(t.birthdate)};ae(e.birthCity),R({variables:{program:e.program,offset:1,limit:1,filter:""}}),me(e.program),ve(b()(e.joinDate).format("YYYY-MM-DD")),ye(b()(e.birthdate).format("YYYY-MM-DD")),S.setFieldsValue(e)}else"create"===n&&S.resetFields()}),[R,S,t,n]);var re=(0,s.useState)(""),se=(0,r.Z)(re,2),ie=se[0],ae=se[1],le=null,oe=null;ie&&(le=ie),le&&(oe=null===A||void 0===A?void 0:A.allDistricts.filter((function(e){return e.cityID.id===le})).map((function(e){return(0,w.jsx)(q,{value:e.id,children:e.name},e.id)})));var de=(0,s.useState)(""),ce=(0,r.Z)(de,2),ue=ce[0],me=ce[1],fe=null,xe=null;ue&&(fe=ue),fe&&(xe=null===H||void 0===H?void 0:H.allClassess.map((function(e){return(0,w.jsx)(q,{value:e.id,children:e.classes},e.id)})));var Ze=(0,s.useState)(""),he=(0,r.Z)(Ze,2),je=he[0],ve=he[1],pe=(0,s.useState)(""),ge=(0,r.Z)(pe,2),be=ge[0],ye=ge[1],Ce=new RegExp(/^[7-9][0-9]{3}[0-9]{4}$/),we=new RegExp(/[\u0401\u0410-\u042F\u04AE\u04E8]{2}([0-9]){8}$/);return(0,w.jsx)(d.Z,{spinning:D||Y,tip:"\u0410\u0447\u0430\u0430\u043b\u043b\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",children:(0,w.jsx)(a.Z,{id:"StudentForm",layout:"vertical",form:S,name:"control-hooks",onFinish:function(e){"edit"===n?(e.joinDate=je,e.birthdate=be,e.id=t.id,O({variables:e})):(e.joinDate=je,e.birthdate=be,k({variables:e}))},size:"small",children:(0,w.jsxs)(c.Z,{gutter:[16,24],children:[(0,w.jsxs)(u.Z,{className:"gutter-row",span:12,children:[(0,w.jsx)(a.Z.Item,{name:"school",label:(0,w.jsx)(y.Z,{id:"school"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{children:null===Q||void 0===Q?void 0:Q.allSchools.map((function(e,t){return(0,w.jsx)(q,{value:e.id,children:e.name},t)}))})}),(0,w.jsx)(a.Z.Item,{name:"program",label:(0,w.jsx)(y.Z,{id:"program"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{onChange:function(e){R({variables:{program:e,offset:1,limit:1,filter:""}}),me(e)},children:null===V||void 0===V?void 0:V.allPrograms.map((function(e,t){return(0,w.jsx)(q,{value:e.id,children:e.program},t)}))})}),(0,w.jsx)(a.Z.Item,{name:"classes",label:(0,w.jsx)(y.Z,{id:"classes"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{onChange:function(e){return ee({variables:{classes:e}})},children:xe})}),(0,w.jsx)(a.Z.Item,{name:"section",label:(0,w.jsx)(y.Z,{id:"section"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{children:null===te||void 0===te?void 0:te.sectionsByClasses.map((function(e,t){return(0,w.jsx)(q,{value:e.id,children:e.section},t)}))})}),(0,w.jsx)(a.Z.Item,{name:"studentCode",label:(0,w.jsx)(y.Z,{id:"studentCode"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(l.Z,{})}),(0,w.jsx)(a.Z.Item,{name:"status",label:(0,w.jsx)(y.Z,{id:"status"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{children:null===U||void 0===U?void 0:U.allStudentStatuss.map((function(e,t){return(0,w.jsx)(q,{value:e.id,children:e.name},t)}))})}),(0,w.jsx)(a.Z.Item,{name:"statusExtra",label:(0,w.jsx)(y.Z,{id:"student-status-extra"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{children:null===G||void 0===G?void 0:G.allStudentStatusExtras.map((function(e,t){return(0,w.jsx)(q,{value:e.id,children:e.name},t)}))})}),(0,w.jsx)(a.Z.Item,{name:"joinDate",label:(0,w.jsx)(y.Z,{id:"joinDate"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(m.Z,{style:{width:"100%"},onChange:function(e){ve(b()(e).format("YYYY-MM-DD"))},format:z})}),(0,w.jsx)(a.Z.Item,{name:"nationality",label:(0,w.jsx)(y.Z,{id:"nationality"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(l.Z,{})}),(0,w.jsx)(a.Z.Item,{name:"phone",label:(0,w.jsx)(y.Z,{id:"parent_phone"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})},{validator:function(e,t){return Ce.test(t)?Promise.resolve():Promise.reject("\u0423\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!")}}],children:(0,w.jsx)(l.Z,{})}),(0,w.jsx)(a.Z.Item,{name:"state",label:(0,w.jsx)(y.Z,{id:"state"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(l.Z,{})}),(0,w.jsx)(a.Z.Item,{name:"classtime",label:(0,w.jsx)(y.Z,{id:"classtime"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{children:null===K||void 0===K?void 0:K.allClasstimes.map((function(e,t){return(0,w.jsx)(q,{value:e.id,children:e.name},t)}))})}),(0,w.jsx)(a.Z.Item,{name:"address",label:(0,w.jsx)(y.Z,{id:"address"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(I,{rows:2})})]}),(0,w.jsxs)(u.Z,{className:"gutter-row",span:12,children:[(0,w.jsx)(a.Z.Item,{name:"religion",label:(0,w.jsx)(y.Z,{id:"religion"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(l.Z,{})}),(0,w.jsx)(a.Z.Item,{name:"surname",label:(0,w.jsx)(y.Z,{id:"surname"}),rules:[{required:!0}],children:(0,w.jsx)(l.Z,{})}),(0,w.jsx)(a.Z.Item,{name:"familyName",label:(0,w.jsx)(y.Z,{id:"familyName"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(l.Z,{})}),(0,w.jsx)(a.Z.Item,{name:"name",label:(0,w.jsx)(y.Z,{id:"name"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(l.Z,{})}),(0,w.jsx)(a.Z.Item,{name:"registerNo",label:(0,w.jsx)(y.Z,{id:"registerNo"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})},{validator:function(e,t){return we.test(t)?Promise.resolve():Promise.reject("\u0420\u0435\u0433\u0438\u0441\u0442\u0435\u0440\u0438\u0439\u043d \u0434\u0443\u0433\u0430\u0430\u0440 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!")}}],children:(0,w.jsx)(l.Z,{})}),(0,w.jsx)(a.Z.Item,{name:"birthdate",label:(0,w.jsx)(y.Z,{id:"birthdate"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(m.Z,{style:{width:"100%"},onChange:function(e){ye(b()(e).format("YYYY-MM-DD"))},format:z})}),(0,w.jsx)(a.Z.Item,{name:"sex",label:(0,w.jsx)(y.Z,{id:"sex"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsxs)(i.Z,{children:[(0,w.jsx)(q,{value:"\u042d\u0440\u044d\u0433\u0442\u044d\u0439",children:(0,w.jsx)(y.Z,{id:"sex.male"})},"0"),(0,w.jsx)(q,{value:"\u042d\u043c\u044d\u0433\u0442\u044d\u0439",children:(0,w.jsx)(y.Z,{id:"sex.female"})},"1")]})}),(0,w.jsx)(a.Z.Item,{name:"birthCity",label:(0,w.jsx)(y.Z,{id:"birthCity"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{onChange:function(e){ae(e)},children:null===_||void 0===_?void 0:_.allCitys.map((function(e,t){return(0,w.jsx)(q,{value:e.id,children:e.name},t)}))})}),(0,w.jsx)(a.Z.Item,{name:"birthDistrict",label:(0,w.jsx)(y.Z,{id:"birthDistrict"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{children:oe})}),(0,w.jsx)(a.Z.Item,{name:"activity",label:(0,w.jsx)(y.Z,{id:"activity"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{children:null===B||void 0===B?void 0:B.allActivitys.map((function(e,t){return(0,w.jsx)(q,{value:e.id,children:e.name},t)}))})}),(0,w.jsx)(a.Z.Item,{name:"joinSchoolyear",label:(0,w.jsx)(y.Z,{id:"joinSchoolyear"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})}],children:(0,w.jsx)(i.Z,{children:null===ne||void 0===ne?void 0:ne.allSchoolyears.map((function(e,t){return(0,w.jsxs)(q,{value:e.id,children:[e.schoolyear," ",e.season]},t)}))})}),(0,w.jsx)(a.Z.Item,{name:"username",label:(0,w.jsx)(y.Z,{id:"username"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})},{validator:function(e,r){return s=r,(null===J||void 0===J?void 0:J.allUsers.some((function(e){return("edit"!==n||t.user.username!==s)&&e.username===s})))?Promise.reject("\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u0431\u04af\u0440\u0442\u0433\u044d\u043b\u0442\u044d\u0439 \u0431\u0430\u0439\u043d\u0430"):Promise.resolve();var s}}],children:(0,w.jsx)(l.Z,{})}),"create"===n&&(0,w.jsx)(a.Z.Item,{name:"password",label:(0,w.jsx)(y.Z,{id:"password"}),rules:[{required:!0,message:(0,w.jsx)(y.Z,{id:"form.required"})},{min:8,message:"\u041d\u0443\u0443\u0446 \u04af\u0433 8-\u0430\u0430\u0441 \u0443\u0440\u0442\u0442\u0430\u0439 \u0434\u044d\u044d\u0448 \u0431\u0430\u0439\u0445 \u0451\u0441\u0442\u043e\u0439"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("username")!==n?Promise.resolve():Promise.reject("\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u043d\u0443\u0443\u0446 \u04af\u0433 \u0445\u043e\u0451\u0440 \u0438\u0436\u0438\u043b \u0431\u0430\u0439\u0445 \u0431\u043e\u043b\u043e\u043c\u0433\u04af\u0439!")}}}],children:(0,w.jsx)(l.Z.Password,{})})]})]})})})}},59222:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(72791),s=n(29439),i=n(20003),a=n(22949),l=n(50419),o=n(87309),d=n(66871),c=n(49389),u=n(59432),m=n(36795),f=n(82464),x=n(11730),Z=n(31549),h=n(2703),j=n(19545),v=n(86586),p=n(84376),g=n(64856),b=n(41920),y=n(82630),C=n(36319),w=n(68470),P=n(53719),q=n(68694),N=n(80184),S=i.Z.confirm,I=a.Z.Option;var z=function(e){var t=(0,r.useState)([]),n=(0,s.Z)(t,2),z=n[0],T=n[1],E=(0,r.useState)(!1),k=(0,s.Z)(E,2),D=k[0],M=k[1],$=(0,r.useState)([]),O=(0,s.Z)($,2),Y=O[0],B=O[1],F=(0,r.useState)(""),L=(0,s.Z)(F,2),R=L[0],H=L[1],V=(0,r.useState)(""),_=(0,s.Z)(V,2),A=_[0],Q=_[1],U=(0,r.useState)(0),G=(0,s.Z)(U,2),J=G[0],K=G[1],X=(0,r.useState)(0),W=(0,s.Z)(X,2),ee=W[0],te=W[1],ne=(0,r.useState)(0),re=(0,s.Z)(ne,2),se=re[0],ie=re[1],ae=(0,r.useState)([]),le=(0,s.Z)(ae,2),oe=le[0],de=le[1],ce=(0,r.useState)([]),ue=(0,s.Z)(ce,2),me=ue[0],fe=ue[1],xe=(0,r.useState)([]),Ze=(0,s.Z)(xe,2),he=Ze[0],je=Ze[1],ve=(0,r.useContext)(P.S).user,pe=(0,v.t)(b.tz,{variables:{variables:{filter:A,classes:ee,section:se}},onCompleted:function(e){T(e.allStudents)}}),ge=(0,s.Z)(pe,2),be=ge[0],ye=ge[1],Ce=ye.loading,we=ye.refetch,Pe=(0,v.t)(q.dT,{onCompleted:function(e){de(e.allPrograms)}}),qe=(0,s.Z)(Pe,1)[0],Ne=(0,v.t)(q.FQ,{variables:{variables:{filter:"",program:J}},onCompleted:function(e){fe(e.allClassess)}}),Se=(0,s.Z)(Ne,1)[0],Ie=(0,v.t)(q.gt,{onCompleted:function(e){je(e.sectionsByClasses)}}),ze=(0,s.Z)(Ie,1)[0],Te=(0,p.D)(g.mL,{onCompleted:function(e){we(),l.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430")}}),Ee=(0,s.Z)(Te,1)[0];(0,r.useEffect)((function(){0===J&&!0!==ve.isStudent&&!0!==ve.isTeacher&&""===A||be({variables:{filter:A,program:J,classes:ee,section:se}}),!0!==ve.isStudent&&!0!==ve.isTeacher&&qe()}),[ve,A,J,ee,se,qe,be]),(0,r.useEffect)((function(){0!==J&&Se()}),[J,Se]);var ke=[{key:"studentCode",title:(0,N.jsx)(y.Z,{id:"studentCode"}),dataIndex:"studentCode",width:"8vw",sorter:function(e,t){return h.ZP.antdTableSorter(e,t,"studentCode")}},{key:"classes",title:(0,N.jsx)(y.Z,{id:"classes"}),dataIndex:["classes","classes"],width:"10vw",sorter:function(e,t){return h.ZP.antdTableSorter(e,t,"classes")},render:function(e,t){return(0,N.jsxs)("span",{children:[t.classes.classes," - ",t.section.section," ",(0,N.jsx)("br",{})]})}},{key:"familyName",title:(0,N.jsx)(y.Z,{id:"familyName"}),dataIndex:"familyName",width:"10vw",sorter:function(e,t){return h.ZP.antdTableSorter(e,t,"familyName")}},{key:"name",title:(0,N.jsx)(y.Z,{id:"name"}),dataIndex:"name",width:"10vw",sorter:function(e,t){return h.ZP.antdTableSorter(e,t,"name")}},{key:"registerNo",title:(0,N.jsx)(y.Z,{id:"registerNo"}),dataIndex:"registerNo",width:"10vw",sorter:function(e,t){return h.ZP.antdTableSorter(e,t,"registerNo")}},{key:"phone",title:(0,N.jsx)(y.Z,{id:"phone"}),dataIndex:"phone",width:"10vw",sorter:function(e,t){return h.ZP.antdTableSorter(e,t,"phone")},render:function(e){return(0,N.jsx)("span",{children:e.substr(0,4)+"-"+e.substr(4,9)})}},{key:"address",title:(0,N.jsx)(y.Z,{id:"address"}),dataIndex:"address",sorter:function(e,t){return h.ZP.antdTableSorter(e,t,"address")}}];return!0!==e.permissions.edit&&!0!==e.permissions.destroy||ke.push({key:"actions",title:(0,N.jsx)(y.Z,{id:"main.action"}),width:"15vw",dataIndex:"actions",render:function(t,n){return(0,N.jsxs)("div",{className:"text-center",children:[e.permissions.password&&(0,N.jsx)(C.Z,{user:n.user.id}),!0===e.permissions.edit&&(0,N.jsxs)(o.Z,{size:"small",onClick:function(){return B(n),H("edit"),void M(!0)},type:"text",icon:(0,N.jsx)(m.Z,{twoToneColor:"#ffdb00"}),children:[" ",(0,N.jsx)(y.Z,{id:"edit"})]}),!0===e.permissions.destroy&&(0,N.jsxs)(o.Z,{size:"small",onClick:function(){return e=n,void S({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){Ee({variables:{id:e.id}})}});var e},type:"text",icon:(0,N.jsx)(f.Z,{twoToneColor:"#f42f2f"}),children:[" ",(0,N.jsx)(y.Z,{id:"delete"})]})]})}}),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(i.Z,{title:"create"===R?(0,N.jsx)(y.Z,{id:"add_kid"}):(0,N.jsx)(y.Z,{id:"edit"}),visible:D,width:"80vw",okText:(0,N.jsx)(y.Z,{id:"main.okText"}),cancelText:(0,N.jsx)(y.Z,{id:"main.cancelText"}),onCancel:function(){M(!1)},okButtonProps:{form:"StudentForm",key:"submit",htmlType:"submit"},children:(0,N.jsx)(j.Z,{refetch:we,formType:R,editData:Y,setIsModalVisible:M})}),(0,N.jsxs)(d.Z,{children:[(0,N.jsxs)(w.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:[(0,N.jsx)(w.Z,{className:"mb-1",mobileFlex:!1,children:(0,N.jsx)("div",{className:"mr-md-3 mb-3",children:(0,N.jsx)(c.Z,{placeholder:"\u0425\u0430\u0439\u0445",prefix:(0,N.jsx)(x.Z,{}),onChange:function(e){return function(e){var t=e.currentTarget.value;Q(t)}(e)}})})}),!0===e.permissions.create&&(0,N.jsx)("div",{className:"mr-md-3 mb-3 ",children:(0,N.jsxs)(o.Z,{onClick:function(){H("create"),M(!0)},type:"primary",icon:(0,N.jsx)(Z.Z,{}),block:!0,children:[" ",(0,N.jsx)(y.Z,{id:"add_kid"})]})})]}),!1===ve.isTeacher&&(0,N.jsxs)("div",{className:"grid gap-2 mb-4 md:grid-cols-3",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"p-1",children:(0,N.jsx)(y.Z,{id:"program"})}),(0,N.jsx)(a.Z,{className:"w-full",onChange:function(e){K(e)},children:oe.map((function(e,t){return(0,N.jsx)(I,{value:e.id,children:e.program},t)}))})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"p-1",children:(0,N.jsx)(y.Z,{id:"classes"})}),(0,N.jsx)(a.Z,{className:"w-full",onChange:function(e){te(e),ze({variables:{classes:e}})},children:me.map((function(e,t){return(0,N.jsx)(I,{value:e.id,children:e.classes},t)}))})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"p-1",children:(0,N.jsx)(y.Z,{id:"section"})}),(0,N.jsx)(a.Z,{className:"w-full",onChange:function(e){ie(e)},children:he.map((function(e,t){return(0,N.jsx)(I,{value:e.id,children:e.section},t)}))})]})]}),(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsx)(u.Z,{size:"small",columns:ke,dataSource:z,rowKey:"id",bordered:!0,loading:Ce})})]})]})},T=n(59288),E=n(38937),k=function(e){var t={create:(0,T.C)("add_student"),edit:(0,T.C)("change_student"),destroy:(0,T.C)("delete_student"),password:(0,T.C)("change_user_password")};return Object.values(t).indexOf("loading")>-1?(0,N.jsx)(E.Z,{cover:"content"}):(0,N.jsx)(z,{title:e.title,permissions:t})}},82464:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),s=n(72791),i={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:t}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:e}}]}},name:"delete",theme:"twotone"},a=n(8711),l=function(e,t){return s.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};l.displayName="DeleteTwoTone";var o=s.forwardRef(l)},36795:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),s=n(72791),i={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:t}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:e}}]}},name:"edit",theme:"twotone"},a=n(8711),l=function(e,t){return s.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};l.displayName="EditTwoTone";var o=s.forwardRef(l)},24215:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),s=n(72791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},a=n(8711),l=function(e,t){return s.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};l.displayName="EyeOutlined";var o=s.forwardRef(l)},70349:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),s=n(72791),i={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304z",fill:e}},{tag:"path",attrs:{d:"M232 840h560V536H232v304zm280-226a48.01 48.01 0 0128 87v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 0128-87z",fill:t}},{tag:"path",attrs:{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z",fill:e}}]}},name:"lock",theme:"twotone"},a=n(8711),l=function(e,t){return s.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};l.displayName="LockTwoTone";var o=s.forwardRef(l)},31549:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),s=n(72791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},a=n(8711),l=function(e,t){return s.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};l.displayName="PlusCircleOutlined";var o=s.forwardRef(l)},49389:function(e,t,n){n.d(t,{Z:function(){return E}});var r=n(6189),s=n(4942),i=n(72791),a=n(81694),l=n.n(a),o=n(69077),d=function(e){return i.createElement(o.C,null,(function(t){var n,r=t.getPrefixCls,a=t.direction,o=e.prefixCls,d=e.className,c=void 0===d?"":d,u=r("input-group",o),m=l()(u,(n={},(0,s.Z)(n,"".concat(u,"-lg"),"large"===e.size),(0,s.Z)(n,"".concat(u,"-sm"),"small"===e.size),(0,s.Z)(n,"".concat(u,"-compact"),e.compact),(0,s.Z)(n,"".concat(u,"-rtl"),"rtl"===a),n),c);return i.createElement("span",{className:m,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)}))},c=n(87462),u=n(88834),m=n(11730),f=n(87309),x=n(1815),Z=n(61113),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},j=i.forwardRef((function(e,t){var n,a,d=e.prefixCls,j=e.inputPrefixCls,v=e.className,p=e.size,g=e.suffix,b=e.enterButton,y=void 0!==b&&b,C=e.addonAfter,w=e.loading,P=e.disabled,q=e.onSearch,N=e.onChange,S=h(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),I=i.useContext(o.E_),z=I.getPrefixCls,T=I.direction,E=i.useContext(x.Z),k=p||E,D=i.useRef(null),M=function(e){var t;document.activeElement===(null===(t=D.current)||void 0===t?void 0:t.input)&&e.preventDefault()},$=function(e){var t;q&&q(null===(t=D.current)||void 0===t?void 0:t.input.value,e)},O=z("input-search",d),Y=z("input",j),B="boolean"===typeof y?i.createElement(m.Z,null):null,F="".concat(O,"-button"),L=y||{},R=L.type&&!0===L.type.__ANT_BUTTON;a=R||"button"===L.type?(0,Z.Tm)(L,(0,c.Z)({onMouseDown:M,onClick:$,key:"enterButton"},R?{className:F,size:k}:{})):i.createElement(f.Z,{className:F,type:y?"primary":void 0,size:k,disabled:P,key:"enterButton",onMouseDown:M,onClick:$,loading:w,icon:B},y),C&&(a=[a,(0,Z.Tm)(C,{key:"addonAfter"})]);var H=l()(O,(n={},(0,s.Z)(n,"".concat(O,"-rtl"),"rtl"===T),(0,s.Z)(n,"".concat(O,"-").concat(k),!!k),(0,s.Z)(n,"".concat(O,"-with-button"),!!y),n),v);return i.createElement(r.ZP,(0,c.Z)({ref:(0,u.sQ)(D,t),onPressEnter:$},S,{size:k,prefixCls:Y,addonAfter:a,suffix:g,onChange:function(e){e&&e.target&&"click"===e.type&&q&&q(e.target.value,e),N&&N(e)},className:H,disabled:P}))}));j.displayName="Search";var v=j,p=n(74033),g=n(29439),b=n(41818),y=n(24215),C=n(1413),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},P=n(8711),q=function(e,t){return i.createElement(P.Z,(0,C.Z)((0,C.Z)({},e),{},{ref:t,icon:w}))};q.displayName="EyeInvisibleOutlined";var N=i.forwardRef(q),S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},I={click:"onClick",hover:"onMouseOver"},z=i.forwardRef((function(e,t){var n=(0,i.useState)(!1),a=(0,g.Z)(n,2),d=a[0],u=a[1],m=function(){e.disabled||u(!d)},f=function(n){var a=n.getPrefixCls,o=e.className,u=e.prefixCls,f=e.inputPrefixCls,x=e.size,Z=e.visibilityToggle,h=S(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),j=a("input",f),v=a("input-password",u),p=Z&&function(t){var n,r=e.action,a=e.iconRender,l=I[r]||"",o=(void 0===a?function(){return null}:a)(d),c=(n={},(0,s.Z)(n,l,m),(0,s.Z)(n,"className","".concat(t,"-icon")),(0,s.Z)(n,"key","passwordIcon"),(0,s.Z)(n,"onMouseDown",(function(e){e.preventDefault()})),(0,s.Z)(n,"onMouseUp",(function(e){e.preventDefault()})),n);return i.cloneElement(i.isValidElement(o)?o:i.createElement("span",null,o),c)}(v),g=l()(v,o,(0,s.Z)({},"".concat(v,"-").concat(x),!!x)),y=(0,c.Z)((0,c.Z)({},(0,b.Z)(h,["suffix","iconRender"])),{type:d?"text":"password",className:g,prefixCls:j,suffix:p});return x&&(y.size=x),i.createElement(r.ZP,(0,c.Z)({ref:t},y))};return i.createElement(o.C,null,f)}));z.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?i.createElement(y.Z,null):i.createElement(N,null)}},z.displayName="Password";var T=z;r.ZP.Group=d,r.ZP.Search=v,r.ZP.TextArea=p.Z,r.ZP.Password=T;var E=r.ZP}}]);
//# sourceMappingURL=3117.59499cdd.chunk.js.map