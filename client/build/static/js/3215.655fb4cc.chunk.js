(self.webpackChunkemind=self.webpackChunkemind||[]).push([[3215],{29517:function(e,n,s){"use strict";s.r(n);var i=s(29439),r=s(72791),t=s(30941),c=s(66871),l=s(36755),a=s(20003),d=s(87309),o=s(53834),u=s(87241),x=s(96578),h=s(64880),f=s(91523),j=s(6491),m=s(10586),p=s(24112),v=s(72426),g=s.n(v),b=s(38937),w=s(25566),Z=s(59305),y=s(82630),N=s(80184);t.Z.Title,t.Z.Paragraph;j.v0.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(j.v0.version,"/pdf.worker.js");y.Z,y.Z,y.Z;n.default=function(e){var n=(0,h.UO)(),s=(0,r.useState)(1),t=(0,i.Z)(s,2),v=t[0],S=t[1],k=(0,r.useState)(null),B=(0,i.Z)(k,2),O=B[0],_=B[1],C=(0,r.useState)(!1),I=(0,i.Z)(C,2),M=I[0],T=I[1],A=(0,r.useState)(),L=(0,i.Z)(A,2),z=(L[0],L[1]),F=(0,x.a)(w.oJ,{variables:{id:n.subLesson}}),P=F.data,D=F.loading,H=function(e){T(!0),z(J(e))},R=function(){T(!1)},U=function(){S(v-1)},G=function(){S(v+1)},J=function(e){var n=e.file;switch(function(e){switch(e.split(".").pop()){case"jpg":case"jpeg":case"webp":case"svg":case"png":return"image";case"mp3":case"m4a":case"flac":return"audio";case"mp4":return"video";case"pdf":return"pdf";default:return Z._O+e}}(n)){case"audio":return(0,N.jsx)(p.Z,{className:"react-player",width:"100%",height:"50px",controls:!0,url:Z._O+n});case"video":return(0,N.jsx)(p.Z,{width:"100%",height:"100%",controls:!0,url:Z._O+n});case"image":return(0,N.jsx)(c.Z,{children:(0,N.jsx)(l.Z,{className:"img-fluid items-",width:200,alt:"Preview",src:Z._O+n})});case"pdf":return(0,N.jsxs)("div",{children:[(0,N.jsxs)(a.Z,{forceRender:!0,width:"50vw",visible:M,onCancel:R,footer:[(0,N.jsx)(d.Z,{type:"text",disabled:1===v&&!0,onClick:U,children:(0,N.jsx)(y.Z,{id:"main.previous"})},"back"),(0,N.jsx)(d.Z,{type:"primary",disabled:v===O&&!0,onClick:G,children:(0,N.jsx)(y.Z,{id:"main.next"})},"next")],children:[(0,N.jsx)(m.SizeMe,{monitorHeight:!0,refreshRate:128,refreshMode:"debounce",render:function(e){var s=e.size;return(0,N.jsx)(j.BB,{file:Z._O+n,onLoadSuccess:function(e){var n=e.numPages;return _(n)},renderTextLayer:!1,loading:(0,N.jsx)(b.Z,{cover:"content"}),renderMode:"svg",children:(0,N.jsx)(j.T3,{className:"test",width:s.width,pageNumber:v,renderTextLayer:!1,renderAnnotationLayer:!1})})}}),(0,N.jsxs)("p",{children:["\u041d\u0438\u0439\u0442 ",O," \u0445\u0443\u0443\u0434\u0441\u0430\u0430\u0441 ",v,"-\u0433 \u0445\u0430\u0440\u0443\u0443\u043b\u0436 \u0431\u0430\u0439\u043d\u0430 "]})]}),(0,N.jsx)(d.Z,{type:"primary",onClick:H,children:(0,N.jsx)(y.Z,{id:"show-file"})})]});default:return(0,N.jsx)("div",{children:(0,N.jsx)(d.Z,{type:"primary",onClick:function(){return window.open(Z._O+n,"_blank")},children:(0,N.jsx)(y.Z,{id:"show-file"})})})}};return D?(0,N.jsx)(b.Z,{cover:"content"}):(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)("div",{className:"flex justify-between",children:(0,N.jsx)(f.rU,{to:"".concat(Z.sH,"/online-lesson/lessons"),children:(0,N.jsxs)(d.Z,{size:"small",type:"primary",icon:(0,N.jsx)(o.Z,{}),children:[" ",(0,N.jsx)(y.Z,{id:"back"})]})})}),(0,N.jsx)("div",{className:"grid gap-4 ".concat(e.viewAttendance?"lg:grid-cols-3":"lg:grid-cols-1"," mt-4"),children:(0,N.jsxs)("div",{className:"".concat(e.viewAttendance?"lg:col-span-2":"lg:col-span-1"," bg-white p-6 shadow-md rounded-lg"),children:[(0,N.jsx)("h1",{className:"text-xl font-bold",children:P.onlineSubById.title}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h5",{className:"text-sm font-semibold",children:(0,N.jsx)(y.Z,{id:"added-date"})}),(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(u.Z,{className:"mr-2"}),g()(P.onlineSubById.createdAt).format("MMMM DD")]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h5",{className:"text-sm font-semibold",children:(0,N.jsx)(y.Z,{id:"onlineType"})}),(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("span",{className:"w-4 h-4 bg-cyan-400 rounded-full mr-2"}),(0,N.jsx)("span",{children:P.onlineSubById.onlineType.name})]})]})]}),(0,N.jsx)("p",{className:"mt-4 text-gray-700",children:P.onlineSubById.description}),(0,N.jsx)("p",{children:P.onlineSubById.content}),(0,N.jsx)("div",{children:P.onlineSubById.onlineSubFileSet.map((function(e,n){return(0,N.jsx)(J,{file:e.onlineFile.file},n)}))}),(0,N.jsx)("div",{className:"flex flex-row-reverse justify-end -space-x-3 space-x-reverse",children:P.onlineSubById.onlineAttendanceSet.map((function(e,n){return(0,N.jsx)("div",{className:"relative flex h-8 w-8 shrink-0 select-none items-center justify-center rounded-full bg-gray-100 text-sm font-bold uppercase text-gray-800 ring ring-white",children:(0,N.jsx)("img",{className:"h-full w-full rounded-full object-cover object-center",src:Z._O+e.student.photo,alt:""})})}))})]})})]})})}},14601:function(){},32767:function(){},28251:function(){},57677:function(){},1543:function(){},87324:function(){}}]);
//# sourceMappingURL=3215.655fb4cc.chunk.js.map