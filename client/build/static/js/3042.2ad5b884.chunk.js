"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[3042],{3042:function(e,s,r){r.r(s);var i=r(29439),d=r(72791),m=r(49389),n=r(73332),l=r(50419),a=r(66871),t=r(66106),x=r(30914),c=r(66446),o=r(87309),j=r(29529),Z=r(6443),u=r(53719),h=r(59305),f=r(82630),p=r(96578),g=r(84376),b=r(81905),q=r(80184),v=m.Z.TextArea;s.default=function(){var e=new RegExp(/^[7-9][0-9]{3}[0-9]{4}$/),s=n.Z.useForm(),r=(0,i.Z)(s,1)[0],C=(0,d.useContext)(u.S),y=(0,d.useState)(C.user),I=(0,i.Z)(y,1)[0],P=(0,p.a)(b.Pl,{onCompleted:function(e){r.setFieldsValue(e.accountSelf)}}).refetch,k=(0,g.D)(b.r0,{onCompleted:function(e){l.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0448\u0438\u043d\u044d\u0447\u0438\u043b\u043b\u044d\u044d!"),P()}}),N=(0,i.Z)(k,2),w=N[0],S=N[1].loading;return(0,q.jsx)(a.Z,{children:(0,q.jsxs)(t.Z,{children:[(0,q.jsx)(x.Z,{xs:24,sm:24,md:8,className:"text-center mt-4",children:I.isStudent?(0,q.jsx)(c.C,{size:300,src:h._O+I.student.photo}):I.isTeacher?(0,q.jsx)(c.C,{size:300,src:h._O+I.teacher.photo}):(0,q.jsx)(c.C,{size:300,style:{backgroundColor:"#87d068"},icon:(0,q.jsx)(j.Z,{})})}),(0,q.jsx)(x.Z,{xs:24,sm:24,md:16,children:(0,q.jsx)("div",{className:"mt-4",children:(0,q.jsx)(n.Z,{name:"basicInformation",layout:"vertical",onFinish:function(e){w({variables:e})},form:r,children:(0,q.jsx)(t.Z,{children:(0,q.jsxs)(x.Z,{xs:24,sm:24,md:24,lg:24,children:[(0,q.jsxs)(t.Z,{gutter:Z.KP,children:[(0,q.jsx)(x.Z,{xs:24,sm:24,md:12,children:(0,q.jsx)(n.Z.Item,{label:(0,q.jsx)(f.Z,{id:"familyName"}),name:"familyName",rules:[{required:!0,message:(0,q.jsx)(f.Z,{id:"form.required"})}],children:(0,q.jsx)(m.Z,{})})}),(0,q.jsx)(x.Z,{xs:24,sm:24,md:12,children:(0,q.jsx)(n.Z.Item,{label:(0,q.jsx)(f.Z,{id:"name"}),name:"name",rules:[{required:!0,message:(0,q.jsx)(f.Z,{id:"form.required"})}],children:(0,q.jsx)(m.Z,{})})}),(0,q.jsx)(x.Z,{xs:24,sm:24,md:24,children:(0,q.jsx)(n.Z.Item,{label:(0,q.jsx)(f.Z,{id:"email"}),name:"email",rules:[{required:!0,message:(0,q.jsx)(f.Z,{id:"form.required"})},{type:"email",message:"\u0418-\u043c\u044d\u0439\u043b \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430"}],children:(0,q.jsx)(m.Z,{})})}),(0,q.jsx)(x.Z,{xs:24,sm:24,md:12,children:(0,q.jsx)(n.Z.Item,{label:(0,q.jsx)(f.Z,{id:"phone"}),name:"phone",rules:[{required:!0,message:(0,q.jsx)(f.Z,{id:"form.required"})},{validator:function(s,r){return e.test(r)?Promise.resolve():Promise.reject("\u0423\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!")}}],children:(0,q.jsx)(m.Z,{})})}),(0,q.jsx)(x.Z,{xs:24,sm:24,md:12,children:(0,q.jsx)(n.Z.Item,{label:(0,q.jsx)(f.Z,{id:"phone2"}),name:"phone2",rules:[{required:!0,message:(0,q.jsx)(f.Z,{id:"form.required"})},{validator:function(s,r){return e.test(r)?Promise.resolve():Promise.reject("\u0423\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!")}}],children:(0,q.jsx)(m.Z,{})})}),(0,q.jsx)(x.Z,{xs:24,sm:24,md:12,children:(0,q.jsx)(n.Z.Item,{label:(0,q.jsx)(f.Z,{id:"address"}),name:"address",rules:[{required:!0,message:(0,q.jsx)(f.Z,{id:"form.required"})}],children:(0,q.jsx)(v,{rows:4})})})]}),(0,q.jsx)(n.Z.Item,{className:"text-right",children:(0,q.jsx)(o.Z,{type:"primary",htmlType:"submit",loading:S,children:(0,q.jsx)(f.Z,{id:"main.okText"})})})]})})})})})]})})}}}]);
//# sourceMappingURL=3042.2ad5b884.chunk.js.map