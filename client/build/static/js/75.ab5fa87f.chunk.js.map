{"version":3,"file":"static/js/75.ab5fa87f.chunk.js","mappings":"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","sources":["components/shared-components/Flex/index.js","graphql/support.js","layouts/inner-app-layout/index.js","views/app-views/dev-teacher/form.js","views/app-views/dev-teacher/index.js","../node_modules/@ant-design/icons-svg/es/asn/PlusCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"],"sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Flex = props => {\r\n\tconst { children, className, alignItems, justifyContent, mobileFlex, flexDirection } = props\r\n\tconst getFlexResponsive = () => mobileFlex ? 'd-flex' : 'd-md-flex'\r\n\treturn (\r\n\t\t<div className={`${getFlexResponsive()} ${className} ${flexDirection?('flex-' + flexDirection): ''} ${alignItems?('align-items-' + alignItems):''} ${justifyContent?('justify-content-' + justifyContent):''}` }>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nFlex.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\talignItems: PropTypes.string,\r\n\tflexDirection: PropTypes.string,\r\n\tjustifyContent: PropTypes.string,\r\n\tmobileFlex: PropTypes.bool\r\n}\r\n\r\nFlex.defaultProps = {\r\n\tmobileFlex: true,\r\n\tflexDirection: 'row',\r\n\tclassName: ''\r\n};\r\n\r\n\r\nexport default Flex\r\n","import { gql } from '@apollo/client'; \r\n\r\nexport const ALL_SUPPORTS = gql`\r\n    query allSupports {\r\n        allSupports {\r\n            id\r\n            title\r\n            description\r\n            supportfileSet {\r\n                id\r\n                file\r\n            }\r\n            supportgroupSet {\r\n                group {\r\n                    id\r\n                }\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const CREATE_SUPPORT = gql`\r\n    mutation createSupport ($description: String, $title: String){\r\n        createSupport (description: $description, title: $title) {\r\n            support {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_SUPPORT = gql`\r\n    mutation updateSupport ($description: String, $id: Int, $title: String){\r\n        updateSupport (description: $description, id: $id, title: $title) {\r\n            support {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const DELETE_SUPPORT = gql`\r\n    mutation deleteSupport ($id: Int){\r\n        deleteSupport (id: $id) {\r\n            support {\r\n                title\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const CREATE_SUPPORT_FILE = gql`\r\n    mutation createSupportFile ($support: Int, $file: Upload) {\r\n        createSupportFile (support: $support, file: $file) {\r\n            supportFile {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const DELETE_SUPPORT_FILE = gql`\r\n    mutation deleteSupportFile ($id: Int) {\r\n        deleteSupportFile (id: $id) {\r\n            supportFile {\r\n                file\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const ATTACH_OR_DETACH_SUPPORT_GROUP = gql`\r\n    mutation attachOrDetachSupportGroup($group: Int, $support: Int){\r\n        attachOrDetachSupportGroup (group: $group, support: $support){\r\n            supportGroup {\r\n                __typename\r\n            }\r\n        }\r\n    }\r\n`","import React, { useState } from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport { Grid, Drawer } from \"antd\";\r\nimport utils from 'utils'\r\nimport { MenuOutlined } from '@ant-design/icons';\r\n\r\nconst { useBreakpoint } = Grid;\r\n\r\nconst SideContent = props => {\r\n\tconst { sideContent, sideContentWidth = 250, border } = props\r\n\treturn (\r\n\t\t<div className={`side-content ${border? 'with-border': ''}`} style={{width: `${sideContentWidth}px`}}>\r\n\t\t\t{sideContent}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst SideContentMobile = props => {\r\n\tconst { sideContent, visible, onSideContentClose } = props\r\n\treturn (\r\n\t\t<Drawer\r\n\t\t\twidth={320}\r\n\t\t\tplacement=\"left\"\r\n\t\t\tclosable={false}\r\n\t\t\tonClose={onSideContentClose}\r\n\t\t\tvisible={visible}\r\n\t\t\tbodyStyle={{paddingLeft: 0, paddingRight: 0}}\r\n\t\t>\r\n\t\t\t<div className=\"h-100\">\r\n\t\t\t\t{sideContent}\r\n\t\t\t</div>\r\n\t\t</Drawer>\r\n\t)\r\n}\r\n\r\nexport const InnerAppLayout = props => {\r\n\tconst { mainContent, pageHeader, sideContentGutter = true } = props\r\n\tconst isMobile = !utils.getBreakPoint(useBreakpoint()).includes('lg')\r\n\tconst [visible, setVisible] = useState(false);\r\n\r\n\tconst close = (e) => {\r\n\t\tsetVisible(false)\r\n\t} \r\n\r\n\tconst openSideContentMobile = () => {\r\n\t\tsetVisible(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"inner-app-layout\">\r\n\t\t\t{isMobile ? \r\n\t\t\t\t<SideContentMobile \r\n\t\t\t\t\tvisible={visible} \r\n\t\t\t\t\tonSideContentClose={close}\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t/> \r\n\t\t\t\t: \r\n\t\t\t\t<SideContent {...props} />\r\n\t\t\t}\r\n\t\t\t<div className={`main-content ${pageHeader? 'has-page-header' : ''} ${sideContentGutter? 'gutter' : 'no-gutter'}`}>\r\n\t\t\t\t{isMobile ? \r\n\t\t\t\t\t<div className={`font-size-lg mb-3 ${!sideContentGutter ? 'pt-3 px-3' : ''}`}>\r\n\t\t\t\t\t\t<MenuOutlined onClick={() => openSideContentMobile()}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t:\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\t\t\t\t{mainContent}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nInnerAppLayout.propTypes = {\r\n\tsideContent: PropTypes.node,\r\n\tmainContent: PropTypes.node,\r\n\tpageHeader: PropTypes.bool,\r\n\tsideContentWidth: PropTypes.number,\r\n\tborder: PropTypes.bool,\r\n\tsideContentGutter: PropTypes.bool\r\n};\r\n\r\nexport default InnerAppLayout\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Form, message, Input, Spin, Select } from 'antd';\r\nimport { useMutation, useQuery } from '@apollo/client';\r\nimport { ATTACH_OR_DETACH_SUPPORT_GROUP, CREATE_SUPPORT, UPDATE_SUPPORT } from 'graphql/support'\r\nimport IntlMessage from 'components/util-components/IntlMessage';\r\nimport { ALL_GROUPS } from 'graphql/role';\r\n\r\nfunction DevTeacherForm ({ refetch, handleCancel, type, formDatas }) {\r\n    \r\n    const [form] = Form.useForm();\r\n    const { Option } = Select;\r\n    const { TextArea } = Input;\r\n\r\n    const [groups, setGroups] = useState([])\r\n\r\n    const [selectedGroups, setSelectedGroups] = useState([])\r\n\r\n    const [attachOrDetachSupportGroup] = useMutation(ATTACH_OR_DETACH_SUPPORT_GROUP, {\r\n        onCompleted: data => {\r\n            refetch()\r\n        }\r\n    })\r\n\r\n    const [createSupport, { loading: createLoading }] = useMutation(CREATE_SUPPORT, {\r\n        onCompleted: data => {\r\n            handleCancel()\r\n            message.success('Амжилттай хадгаллаа');\r\n            selectedGroups.map(item => (\r\n                attachOrDetachSupportGroup({ variables: { group: item, support: data.createSupport.support.id } })\r\n            ))\r\n        }\r\n    })\r\n\r\n    const [updateSupport] = useMutation(UPDATE_SUPPORT, {\r\n        onCompleted: data => {\r\n            handleCancel()\r\n            message.success('Амжилттай хадгаллаа');\r\n        }\r\n    })\r\n    \r\n    useQuery(ALL_GROUPS, {\r\n        onCompleted: data => {\r\n            setGroups(data.allGroups);\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (type === \"edit\") {\r\n            const formData = {\r\n                description: formDatas.description,\r\n                title: formDatas.title,\r\n                group: formDatas.supportgroupSet.map(item => (\r\n                    item.group.id\r\n                )),\r\n            }\r\n            form.setFieldsValue(formData)\r\n        } else {\r\n            form.resetFields()\r\n        }\r\n    }, [formDatas, type, form])\r\n    \r\n\r\n    const onFinish = values => {\r\n        setSelectedGroups(values.group);\r\n        if (type === \"create\") {\r\n            createSupport({ variables: values })\r\n        } else if (type === \"edit\") {\r\n            values.id = formDatas.id\r\n            updateSupport({ variables: values })\r\n        }\r\n    };\r\n\r\n    function onGroupDeselect(value) {\r\n        if (type === \"edit\") {\r\n            attachOrDetachSupportGroup({ variables: { group: value, support: formDatas.id } })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Spin spinning={createLoading} tip=\"Ачааллаж байна...\">\r\n            <Form  \r\n                id=\"SupportForm\"\r\n                layout={'vertical'}\r\n                form={form}\r\n                name=\"lesson\" \r\n                onFinish={onFinish}\r\n            >\r\n                <Form.Item name=\"title\" label={<IntlMessage id=\"title\" />} rules={[\r\n                    {\r\n                        required: true,\r\n                        message: <IntlMessage id=\"form.required\" />\r\n                    },\r\n                ]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"group\" label={<IntlMessage id=\"group\" />} rules={[\r\n                    {\r\n                        required: true,\r\n                        message: `Хоосон орхих боломжгүй`\r\n                    }\r\n                ]}>\r\n                    <Select\r\n                        mode=\"multiple\"\r\n                        onDeselect={e => onGroupDeselect(e)}\r\n                        onSelect={e => onGroupDeselect(e)}\r\n                    >\r\n                        { groups.map((item, index) => (\r\n                            <Option key={index} value={item.id} >{item.name}</Option>\r\n                        ))}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item name=\"description\" label={<IntlMessage id=\"description\" />} rules={[\r\n                    {\r\n                        required: true,\r\n                        message: <IntlMessage id=\"form.required\" />\r\n                    },\r\n                ]}>\r\n                    <TextArea rows={4} />\r\n                </Form.Item>\r\n            </Form>\r\n        </Spin>\r\n    );\r\n};\r\n\r\nexport default DevTeacherForm","import React, { useState } from 'react';\r\nimport { Menu, Modal, Button, Typography, Upload, message, Card, Image  } from 'antd';\r\nimport InnerAppLayout from 'layouts/inner-app-layout';\r\nimport { CheckPer } from 'hooks/checkPermission';\r\nimport { PlusCircleOutlined, UploadOutlined, DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport SupportForm from './form';\r\nimport Flex from 'components/shared-components/Flex';\r\nimport { useMutation, useQuery } from '@apollo/client';\r\nimport { ALL_SUPPORTS, CREATE_SUPPORT_FILE, DELETE_SUPPORT } from 'graphql/support';\r\nimport Loading from 'components/shared-components/Loading';\r\nimport IntlMessage from 'components/util-components/IntlMessage';\r\nimport ReactPlayer from 'react-player';\r\nimport { BASE_SERVER_URL } from 'configs/AppConfig';\r\nimport { SizeMe } from 'react-sizeme';\r\nimport { Document, Page } from 'react-pdf';\r\n\r\nconst { Title, Paragraph } = Typography;\r\nconst { confirm } = Modal;\r\n\r\nconst SettingsMenu = ({ supports, setSelectedSupport }) => {\r\n\r\n\tfunction onClick(params) {\r\n\t\tsetSelectedSupport(params);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"w-100\">\r\n\t\t\t<Menu\r\n\t\t\t\tdefaultSelectedKeys={`support-${0}`}\r\n\t\t\t\tmode=\"inline\"\r\n\t\t\t>\r\n\t\t\t\t{ supports.map((elm, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Menu.Item onClick={() => onClick(elm)} key={`support-${index}`}>\r\n\t\t\t\t\t\t\t<span>{elm.title}</span>\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\t})}\r\n\t\t\t</Menu>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst DevTeacher = props => {\r\n\t\r\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\r\n\tconst [supports, setSupports] = useState([]);\r\n\tconst [selectedSupport, setSelectedSupport] = useState()\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    const [numPages, setNumPages] = useState(null);\r\n\r\n\tconst [formType, setFormType] = useState();\r\n\r\n\tconst permissions = {\r\n\t\tcreateSupport: CheckPer('add_support'),\r\n\t\teditSupport: CheckPer('change_support'),\r\n\t\tdeleteSupport: CheckPer('delete_support'),\r\n\t\tcreateFile: CheckPer('add_supportfile')\r\n\t}\r\n\r\n\tconst { loading, refetch } = useQuery(ALL_SUPPORTS, {\r\n\t\tonCompleted: data => {\r\n\t\t\tsetSupports(data.allSupports);\r\n\t\t\tif (data.allSupports[0]) {\r\n\t\t\t\tsetSelectedSupport(data.allSupports[0])\r\n\t\t\t} else {\r\n\t\t\t\tsetSelectedSupport()\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tconst [deleteSupport] = useMutation(DELETE_SUPPORT, {\r\n\t\tonCompleted: data => {\r\n            message.success('Амжилттай устлаа');\r\n\t\t\trefetch()\r\n\t\t}\r\n\t})\r\n\r\n\tconst [upload, { loading: uploadLoading }] = useMutation(CREATE_SUPPORT_FILE, {\r\n\t\tonCompleted: data => {\r\n            message.success('Амжилттай хадгаллаа');\r\n\t\t\trefetch()\r\n\t\t}\r\n\t})\r\n\r\n\tconst fileUploading = value => {\r\n        upload({ variables: { file: value.file, support: selectedSupport.id } });\r\n        value.onSuccess(\"Ok\");\r\n    };\r\n\r\n\tfunction onDelete(id) {\r\n\t\tconfirm({\r\n\t\t  title: 'Устгах уу?',\r\n\t\t  okText: 'Устгах',\r\n\t\t  okType: 'danger',\r\n\t\t  cancelText: 'Болих',\r\n\t\t  onOk() {\r\n\t\t\tdeleteSupport({ variables: { id: id } }); \r\n\t\t  },\r\n\t\t});\r\n\t}\r\n\r\n\tconst showModal = (type) => {\r\n\t\tsetIsModalOpen(true);\r\n\t\tsetFormType(type)\r\n\t};\r\n\t\r\n\tconst handleOk = () => {\r\n\t\tsetIsModalOpen(false);\r\n\t};\r\n\t\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalOpen(false);\r\n\t};\r\n\r\n    const goToPrevPage = () => {\r\n        setPageNumber(pageNumber - 1)\r\n    }\r\n\tconst goToNextPage = () => {\r\n        setPageNumber(pageNumber + 1)\r\n    }\r\n\r\n\tconst checkFileType = (file) => {\r\n\t\tconst type = file.split('.').pop()\r\n\t\tswitch(type) {\r\n\t\t\tcase 'jpg':\r\n\t\t\tcase 'jpeg':\r\n\t\t\tcase 'webp':\r\n\t\t\tcase 'svg':\r\n\t\t\tcase 'png':\r\n\t\t\t\treturn `image`;\r\n\t\t\tcase 'mp3':\r\n\t\t\tcase 'm4a':\r\n\t\t\tcase 'flac':\r\n\t\t\t\treturn `audio`;\r\n\t\t\tcase 'mp4':\r\n\t\t\t\treturn `video`;\r\n\t\t\tcase `pdf`:\r\n\t\t\t\treturn `pdf`;\r\n\t\t\tdefault:\r\n\t\t\t\treturn BASE_SERVER_URL+file;\r\n\t\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tconst FilePreview = ({ file }) => {\r\n        \r\n        switch (checkFileType(file)) {\r\n            case `audio`:\r\n                return (\r\n                    <ReactPlayer \r\n                        className=\"react-player\"\r\n                        width=\"100%\"\r\n                        height=\"50px\"\r\n                        controls={true}\r\n                        url={BASE_SERVER_URL+file} \r\n                    />\r\n                )\r\n            case `video`:\r\n                return (\r\n                    <ReactPlayer\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        controls={true}\r\n                        url={BASE_SERVER_URL+file} \r\n                    />\r\n                )\r\n            case 'image':\r\n                return (\r\n                    <Card\r\n                        bodyStyle={{padding: 0}}\r\n                        cover={\r\n                            <div className=\"p-2\">\r\n                                <Image className=\"img-fluid\" alt=\"Preview\" src={BASE_SERVER_URL+file} preview={false} />\r\n                            </div>\r\n                        }\r\n                    >\r\n                    </Card>\r\n                )\r\n            case `pdf`:\r\n                return (\r\n                  // <div>\r\n                  //       <SizeMe\r\n                  //           monitorHeight\r\n                  //           refreshRate={128}\r\n                  //           refreshMode={\"debounce\"}\r\n                  //           render={({ size }) => (\r\n                  //               <Document \r\n                  //                   file={BASE_SERVER_URL+file}\r\n                  //                   onLoadSuccess={({ numPagess })=>setNumPages(numPagess)}\r\n                  //                   renderTextLayer={false}\r\n                  //                   loading={<Loading cover=\"content\" />}\r\n                  //                   renderMode=\"svg\"\r\n                  //               >\r\n                  //                   <Page\r\n                  //                       className=\"test\"\r\n                  //                       width={size.width} \r\n                  //                       pageNumber={pageNumber}\r\n                  //                       renderTextLayer={false}\r\n                  //                       renderAnnotationLayer={false}\r\n                  //                   />\r\n                  //               </Document>\r\n                  //           )}\r\n                  //       />\r\n                  //       <p>Нийт {numPages} хуудсаас {pageNumber}-г харуулж байна </p>\r\n                  //       <div>\r\n                  //           <Button key=\"back\" type='text' disabled={pageNumber === 1 && true} onClick={goToPrevPage}>\r\n                  //               <IntlMessage id=\"main.previous\" />\r\n                  //           </Button>\r\n                  //           <Button key=\"next\" type=\"primary\" disabled={pageNumber === numPages && true} onClick={goToNextPage}>\r\n                  //               <IntlMessage id=\"main.next\" />\r\n                  //           </Button>\r\n                  //       </div>\r\n                  //   </div>\r\n\r\n                    //undsen show file\r\n                    <div>\r\n                        <Modal\r\n                            forceRender\r\n                            width={'80vw'}\r\n                            visible={isModalVisible}\r\n                            onCancel={handleCancel}\r\n                            footer={[\r\n                                <Button key=\"back\" type='text' disabled={pageNumber === 1 && true} onClick={goToPrevPage}>\r\n                                  <IntlMessage id=\"main.previous\" />\r\n                                </Button>,\r\n                                <Button key=\"next\" type=\"primary\" disabled={pageNumber === numPages && true} onClick={goToNextPage}>\r\n                                  <IntlMessage id=\"main.next\" />\r\n                                </Button>,\r\n                            ]}\r\n                        >\r\n                            <SizeMe\r\n                                monitorHeight\r\n                                refreshRate={128}\r\n                                refreshMode={\"debounce\"}\r\n                                render={({ size }) => (\r\n                                    <Document \r\n                                        file={BASE_SERVER_URL+file}\r\n                                        onLoadSuccess={({ numPages })=>setNumPages(numPages)}\r\n                                        renderTextLayer={false}\r\n                                        loading={<Loading cover=\"content\" />}\r\n                                        renderMode=\"svg\"\r\n                                    >\r\n                                        <Page\r\n                                            className=\"test\"\r\n                                            width={size.width} \r\n                                            pageNumber={pageNumber}\r\n                                            renderTextLayer={false}\r\n                                            renderAnnotationLayer={false}\r\n                                        />\r\n                                    </Document>\r\n                                )}\r\n                            />\r\n                            <p>Нийт {numPages} хуудсаас {pageNumber}-г харуулж байна </p>\r\n                        </Modal>\r\n                        {/* <Button type='primary' onClick={showModal} ><IntlMessage id=\"show-file\" /></Button> */}\r\n                        <Button type='primary' onClick={() => window.open(BASE_SERVER_URL+file, '_blank')} ><IntlMessage id=\"show-file\" /></Button>\r\n                    </div>\r\n                )\r\n            default:\r\n                return(\r\n                    <div>\r\n                        <Button type='primary' onClick={() => window.open(BASE_SERVER_URL+file, '_blank')} ><IntlMessage id=\"show-file\" /></Button>\r\n                    </div>\r\n                )\r\n        }\r\n\r\n    }\r\n\t\r\n\tif (loading) {\r\n\t\treturn <Loading cover='content' />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ permissions.createSupport &&\r\n\t\t\t\t<Flex justifyContent=\"end\" alignItems=\"center\" className=\"\">\r\n\t\t\t\t\t<div className='mb-4'>\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => showModal('create')} icon={<PlusCircleOutlined />} >\r\n\t\t\t\t\t\t\tНэмэх\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Modal\r\n\t\t\t\t\t\t\tvisible={isModalOpen} \r\n\t\t\t\t\t\t\tokButtonProps={{form:'SupportForm', key: 'submit', htmlType: 'submit'}}\r\n\t\t\t\t\t\t\tokText={<IntlMessage id=\"main.okText\" />}\r\n\t\t\t\t\t\t\tcancelText={<IntlMessage id=\"main.cancelText\" />}\r\n\t\t\t\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<SupportForm formDatas={selectedSupport} type={formType} refetch={refetch} handleCancel={handleCancel} />\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Flex>\r\n\t\t\t}\r\n\t\t\t<InnerAppLayout \r\n\t\t\t\tsideContent={<SettingsMenu supports={supports} setSelectedSupport={setSelectedSupport} />}\r\n\t\t\t\tmainContent={\r\n\t\t\t\t\t<div className=\"p-4\">\r\n\t\t\t\t\t\t{ selectedSupport &&\r\n\t\t\t\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\t\t\t{ permissions.createFile &&\r\n\t\t\t\t\t\t\t\t\t<Upload \r\n\t\t\t\t\t\t\t\t\t\tmultiple={true}\r\n\t\t\t\t\t\t\t\t\t\taccept=\".jpg, .png, .pdf, .mp3, .mp4, .m4a\"\r\n\t\t\t\t\t\t\t\t\t\torientation=\"right\"\r\n\t\t\t\t\t\t\t\t\t\tcustomRequest={fileUploading}\r\n\t\t\t\t\t\t\t\t\t\tshowUploadList={false}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{float: 'right'}} \r\n\t\t\t\t\t\t\t\t\t\t\tsize='small' \r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\" \r\n\t\t\t\t\t\t\t\t\t\t\ticon={<UploadOutlined />} \r\n\t\t\t\t\t\t\t\t\t\t\tloading={uploadLoading} \r\n\t\t\t\t\t\t\t\t\t\t> <IntlMessage id=\"main.upload-file\" /> </Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{ permissions.deleteSupport &&\r\n\t\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\t\tclassName='float-right'\r\n\t\t\t\t\t\t\t\t\t\tsize='small' \r\n\t\t\t\t\t\t\t\t\t\ttype=\"danger\" \r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(selectedSupport.id)}\r\n\t\t\t\t\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\t\t\t\t> <IntlMessage id=\"delete\" /> </Button>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{ permissions.deleteSupport &&\r\n\t\t\t\t\t\t\t\t\t<Button  \r\n\t\t\t\t\t\t\t\t\t\tclassName='float-right mr-4 bg-yellow-400'\r\n\t\t\t\t\t\t\t\t\t\tsize='small' \r\n\t\t\t\t\t\t\t\t\t\tonClick={() => showModal(\"edit\")}\r\n\t\t\t\t\t\t\t\t\t\ticon={<EditOutlined />}\r\n\t\t\t\t\t\t\t\t\t> <IntlMessage id=\"edit\" /> </Button>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t<Title>{selectedSupport.title}</Title>\r\n\t\t\t\t\t\t\t\t\t<Paragraph> {selectedSupport.description} </Paragraph>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t{ selectedSupport.supportfileSet?.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t<FilePreview key={index} file={item.file} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\tsideContentWidth={300}\r\n\t\t\t\tsideContentGutter={false}\r\n\t\t\t\tborder\r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default DevTeacher\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { List, Card, Button, Upload, message, Tabs, Modal, Image } from 'antd';\r\n// import Flex from 'components/shared-components/Flex'\r\n// import { DeleteTwoTone, UploadOutlined, FileOutlined, FileImageOutlined, VideoCameraOutlined } from '@ant-design/icons';\r\n// import { useMutation, useQuery, NetworkStatus } from '@apollo/client'; \r\n// import ReactPlayer from \"react-player\";\r\n// import { SizeMe } from \"react-sizeme\";\r\n// import { Document, Page, pdfjs } from \"react-pdf\";\r\n// import { CREATE_ONLINE_FILE, ALL_ONLINE_FILE, DELETE_ONLINE_FILE } from 'graphql/lesson';\r\n// import { BASE_SERVER_URL } from \"configs/AppConfig\";\r\n// import IntlMessage from \"components/util-components/IntlMessage\";\r\n// import Loading from \"components/shared-components/Loading\";\r\n\r\n// pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\n// const { TabPane } = Tabs;\r\n// const { confirm } = Modal;\r\n// const { Meta } = Card;\r\n\r\n// const Index = () => {\r\n\r\n//     const [images, setImages] = useState([]);\r\n//     const [videos, setVideos] = useState([]);\r\n//     const [isModalVisible, setIsModalVisible] = useState(false);\r\n//     const [selectedFile, setSelectedFile] = useState();\r\n//     const [numPages, setNumPages] = useState(null);\r\n//     const [pageNumber, setPageNumber] = useState(1);\r\n    \r\n//     const filterImage = (values) => {\r\n//         let filterredData = values.filter(file => file.file.split('.').pop() === 'png' \r\n//                             || file.file.split('.').pop() === 'jpeg'\r\n//                             || file.file.split('.').pop() === 'jpg'\r\n//                             || file.file.split('.').pop() === 'webp'\r\n//                             || file.file.split('.').pop() === 'svg').map((image) => (image));\r\n//         setImages(filterredData);\r\n//     };\r\n\r\n//     const filterVideo = (values) => {\r\n//         let filterredData = values.filter(file => file.file.split('.').pop() === 'mp4' \r\n//                             || file.file.split('.').pop() === 'mp3'\r\n//                             || file.file.split('.').pop() === 'flac'\r\n//                             || file.file.split('.').pop() === 'm4a').map((video) => (video));\r\n//         setVideos(filterredData);\r\n//     };\r\n//     const { data, loading, refetch, networkStatus } = useQuery(ALL_ONLINE_FILE, {\r\n//     });\r\n\r\n//     const [upload, { loading: uploadLoaing }] = useMutation(CREATE_ONLINE_FILE, {\r\n//         onCompleted: data => {\r\n//             refetch();\r\n//             message.success(`Амжилттай хууллаа`);\r\n// \t\t}\r\n//     });\r\n\r\n//     const [deleteFile] = useMutation(DELETE_ONLINE_FILE, {\r\n//         onCompleted: data => {\r\n//             refetch();\r\n//             message.success(`Амжилттай устлаа`);\r\n//         }\r\n//     });\r\n    \r\n//     useEffect(() => {\r\n//         if (networkStatus === NetworkStatus.ready) {\r\n//             filterImage(data.allOnlineFiles);\r\n//             filterVideo(data.allOnlineFiles);\r\n//         }\r\n//     }, [data?.allOnlineFiles, networkStatus])\r\n\r\n//     const showModal = (value) => {\r\n//         setIsModalVisible(true);\r\n//         setSelectedFile(filePreview(value))\r\n//     };\r\n\r\n//     const handleCancel = () => {\r\n//         setIsModalVisible(false);\r\n//     };\r\n\r\n//     const goToPrevPage = () => {\r\n//         setPageNumber(pageNumber - 1)\r\n//     }\r\n// \tconst goToNextPage = () => {\r\n//         setPageNumber(pageNumber + 1)\r\n//     }\r\n\r\n//     const checkPreviewFileType = (file) => {\r\n//         const type = file.split('.').pop()\r\n//         switch(type) {\r\n//             case 'jpg':\r\n//             case 'jpeg':\r\n//             case 'webp':\r\n//             case 'svg':\r\n//             case 'png':\r\n//                 return `image`;\r\n//             case 'mp3':\r\n//             case 'm4a':\r\n//             case 'flac':\r\n//                 return `audio`;\r\n//             case 'mp4':\r\n//                 return `video`;\r\n//             case `pdf`:\r\n//                 return `pdf`;\r\n//             default:\r\n//                 return `${window.location.origin}/img/file/file-icon.png`;\r\n//         }\r\n//     }\r\n\r\n//     const checkFileType = (file) => {\r\n//         const type = file.split('.').pop()\r\n//         switch(type) {\r\n//             case 'jpg':\r\n//             case 'jpeg':\r\n//             case 'webp':\r\n//             case 'svg':\r\n//             case 'png':\r\n//                 return `${BASE_SERVER_URL}${file}`;\r\n//             case 'mp3':\r\n//             case 'm4a':\r\n//             case 'flac':\r\n//                 return `${window.location.origin}/img/file/audio-file-attachment-icon.png`;\r\n//             case 'mp4':\r\n//                 return `${window.location.origin}/img/file/video-file-attachment-icon.png`;\r\n//             default:\r\n//                 return `${window.location.origin}/img/file/file-icon.png`;\r\n//         }\r\n//     }\r\n\r\n//     const filePreview = (file) => {\r\n        \r\n//         switch (checkPreviewFileType(file)) {\r\n//             case `audio`:\r\n//                 return (\r\n//                     <ReactPlayer \r\n//                         className=\"react-player\"\r\n//                         width=\"100%\"\r\n//                         height=\"50px\"\r\n//                         controls={true}\r\n//                         url={BASE_SERVER_URL+file} \r\n//                     />\r\n//                 )\r\n//             case `video`:\r\n//                 return (\r\n//                     <ReactPlayer\r\n//                         width=\"100%\"\r\n//                         height=\"70%\"\r\n//                         controls={true}\r\n//                         url={BASE_SERVER_URL+file} \r\n//                     />\r\n//                 )\r\n//             case 'image':\r\n//                 return (\r\n//                     <Image style={{ maxHeight: '500px' }} preview={false} className=\"img-fluid\" alt=\"Preview\" src={BASE_SERVER_URL+file} />\r\n//                 )\r\n//             case `pdf`:\r\n//                 return (\r\n//                     <div>\r\n//                         <SizeMe\r\n//                             monitorHeight\r\n//                             refreshRate={128}\r\n//                             refreshMode={\"debounce\"}\r\n//                             render={({ size }) => (\r\n//                                 <Document \r\n//                                     file={BASE_SERVER_URL+file}\r\n//                                     onLoadSuccess={({ numPagess })=>setNumPages(numPagess)}\r\n//                                     renderTextLayer={false}\r\n//                                     loading={<Loading cover=\"content\" />}\r\n//                                     renderMode=\"svg\"\r\n//                                 >\r\n//                                     <Page\r\n//                                         className=\"test\"\r\n//                                         width={size.width} \r\n//                                         pageNumber={pageNumber}\r\n//                                         renderTextLayer={false}\r\n//                                         renderAnnotationLayer={false}\r\n//                                     />\r\n//                                 </Document>\r\n//                             )}\r\n//                         />\r\n//                         <p>Нийт {numPages} хуудсаас {pageNumber}-г харуулж байна </p>\r\n//                         <div>\r\n//                             <Button key=\"back\" type='text' disabled={pageNumber === 1 && true} onClick={goToPrevPage}>\r\n//                                 <IntlMessage id=\"main.previous\" />\r\n//                             </Button>\r\n//                             <Button key=\"next\" type=\"primary\" disabled={pageNumber === numPages && true} onClick={goToNextPage}>\r\n//                                 <IntlMessage id=\"main.next\" />\r\n//                             </Button>\r\n//                         </div>\r\n//                     </div>\r\n//                 )\r\n//             default:\r\n//                 break;\r\n//         }\r\n\r\n//     }\r\n    \r\n//     const fileUploading = value => {\r\n//         upload({ variables: { file: value.file } });\r\n//         value.onSuccess(\"Ok\");\r\n//     }\r\n\r\n//     const deleteModal = value => {\r\n//         confirm({\r\n//             title: 'Устгах уу?',\r\n//             okText: 'Устгах',\r\n//             okType: 'danger',\r\n//             cancelText: 'Болих',\r\n//             onOk() {\r\n//                 deleteFile({ variables: { id: value } }); \r\n//             },\r\n//           });\r\n//     }\r\n\r\n//     return (\r\n//         <>\r\n//             <Modal\r\n//                 forceRender\r\n//                 width={'50vw'}\r\n//                 visible={isModalVisible}\r\n//                 onCancel={handleCancel}\r\n//                 footer={<Button type=\"primary\" onClick={handleCancel} >Ok</Button>}\r\n//             >\r\n//                 <div \r\n//                     className=\"mt-4 text-center\"\r\n//                 >\r\n//                     {selectedFile}\r\n//                 </div>\r\n//             </Modal>\r\n//             <Flex justifyContent=\"end\" alignItems=\"center\" className=\"py-2\">\r\n//                 <div>\r\n//                     <Upload \r\n//                         accept=\".jpg, .png, .pdf, .mp3, .mp4, .m4a\"\r\n//                         orientation=\"right\"\r\n//                         customRequest={fileUploading}\r\n//                     >\r\n//                         <Button \r\n//                             style={{float: 'right'}} \r\n//                             size='small' \r\n//                             type=\"primary\" \r\n//                             icon={<UploadOutlined />} \r\n//                             loading={uploadLoaing} \r\n//                         > <IntlMessage id=\"main.upload-file\" /> </Button>\r\n//                     </Upload>\r\n//                 </div>\r\n//             </Flex>\r\n//             <Card className=\"mt-4\" loading={loading}>\r\n//                 <div className={`my-4 container-fluid`}>\r\n//                     <Tabs tabPosition='left' defaultActiveKey=\"1\" size='small'>\r\n//                         <TabPane \r\n//                             key=\"1\"\r\n//                             tab= {\r\n//                                 <span>\r\n//                                     <FileOutlined /> <IntlMessage id=\"main.all-file\" />\r\n//                                 </span>\r\n//                             }\r\n//                         >\r\n//                             <List\r\n//                                 pagination={{\r\n//                                     pageSize: 12,\r\n//                                 }}\r\n//                                 grid={{\r\n//                                     gutter: 16,\r\n//                                     xs: 1,\r\n//                                     sm: 2,\r\n//                                     md: 4,\r\n//                                     lg: 4,\r\n//                                     xl: 6,\r\n//                                     xxl: 6,\r\n//                                 }}\r\n//                                 dataSource={data?.allOnlineFiles}\r\n//                                 renderItem={item => (\r\n//                                     <List.Item>\r\n//                                         <Card\r\n//                                             hoverable\r\n//                                             bordered={false}\r\n//                                             type=\"inner\"\r\n//                                             cover={\r\n//                                                 <Image \r\n//                                                     alt=\"preview\"\r\n//                                                     preview={false}\r\n//                                                     onClick={() => showModal(item.file)}\r\n//                                                     src={checkFileType(item.file)}\r\n//                                                 />\r\n//                                             }\r\n//                                             actions={[\r\n//                                                 <DeleteTwoTone twoToneColor=\"#eb2f96\" key=\"delete\" onClick={event => deleteModal(item.id)} />\r\n//                                             ]}\r\n//                                         >\r\n//                                             <Meta description={item.file}/>\r\n//                                         </Card>\r\n//                                     </List.Item>\r\n//                                 )}\r\n//                             />\r\n//                         </TabPane>\r\n//                         <TabPane \r\n//                             tab={\r\n//                                 <span>\r\n//                                     <FileImageOutlined /> <IntlMessage id=\"main.image\" />\r\n//                                 </span>\r\n//                             }\r\n//                             key=\"2\"\r\n//                         >\r\n//                             <List\r\n//                                 pagination={{\r\n//                                     pageSize: 12,\r\n//                                 }}\r\n//                                 grid={{\r\n//                                     gutter: 16,\r\n//                                     xs: 1,\r\n//                                     sm: 2,\r\n//                                     md: 4,\r\n//                                     lg: 4,\r\n//                                     xl: 6,\r\n//                                     xxl: 6,\r\n//                                 }}\r\n//                                 dataSource={images}\r\n//                                 renderItem={item => (\r\n//                                     <List.Item>\r\n//                                         <Card\r\n//                                             hoverable\r\n//                                             bordered={false}\r\n//                                             type=\"inner\"\r\n//                                             cover={\r\n//                                                 <Image\r\n//                                                     alt=\"preview\"\r\n//                                                     preview={false}\r\n//                                                     onClick={() => showModal(item.file)}\r\n//                                                     src={checkFileType(item.file)}\r\n//                                                 />\r\n                                                \r\n//                                             }\r\n//                                             actions={[\r\n//                                                 <DeleteTwoTone twoToneColor=\"#eb2f96\" key=\"delete\" onClick={event => deleteModal(item.id)} />\r\n//                                             ]}\r\n//                                         >\r\n//                                             <Meta description={item.file}/>\r\n//                                         </Card>\r\n//                                     </List.Item>\r\n//                                 )}\r\n//                             />\r\n//                         </TabPane>\r\n//                         <TabPane \r\n//                             tab={\r\n//                                 <span>\r\n//                                     <VideoCameraOutlined /> <IntlMessage id=\"main.media\" />\r\n//                                 </span>\r\n//                             }\r\n//                             key=\"3\"\r\n//                         >\r\n//                             <List\r\n//                                 pagination={{\r\n//                                     pageSize: 12,\r\n//                                 }}\r\n//                                 grid={{\r\n//                                     gutter: 16,\r\n//                                     xs: 1,\r\n//                                     sm: 2,\r\n//                                     md: 4,\r\n//                                     lg: 4,\r\n//                                     xl: 6,\r\n//                                     xxl: 6,\r\n//                                 }}\r\n//                                 dataSource={videos}\r\n//                                 renderItem={item => (\r\n//                                     <List.Item>\r\n//                                         <Card\r\n//                                             hoverable\r\n//                                             bordered={false}\r\n//                                             type=\"inner\"\r\n//                                             cover={\r\n//                                                 <Image\r\n//                                                     alt=\"preview\"\r\n//                                                     preview={false}\r\n//                                                     onClick={() => showModal(item.file)}\r\n//                                                     src={checkFileType(item.file)}\r\n//                                                 />\r\n                                                \r\n//                                             }\r\n//                                             actions={[\r\n//                                                 <DeleteTwoTone twoToneColor=\"#eb2f96\" key=\"delete\" onClick={event => deleteModal(item.id)} />\r\n//                                             ]}\r\n//                                         >\r\n//                                             <Meta description={item.file}/>\r\n//                                         </Card>\r\n//                                     </List.Item>\r\n//                                 )}\r\n//                             />\r\n//                         </TabPane>\r\n//                     </Tabs>\r\n//                 </div>\r\n//             </Card>\r\n//         </>\r\n//     )\r\n// }\r\n\r\n// export default Index;\r\n","// This icon file is generated automatically.\nvar PlusCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"plus-circle\", \"theme\": \"outlined\" };\nexport default PlusCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar PlusCircleOutlined = function PlusCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PlusCircleOutlinedSvg\n  }));\n};\nPlusCircleOutlined.displayName = 'PlusCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlusCircleOutlined);"],"names":["Flex","props","children","className","alignItems","justifyContent","mobileFlex","flexDirection","defaultProps","ALL_SUPPORTS","gql","CREATE_SUPPORT","UPDATE_SUPPORT","DELETE_SUPPORT","CREATE_SUPPORT_FILE","ATTACH_OR_DETACH_SUPPORT_GROUP","useBreakpoint","Grid","SideContent","sideContent","sideContentWidth","border","style","width","SideContentMobile","visible","onSideContentClose","placement","closable","onClose","bodyStyle","paddingLeft","paddingRight","mainContent","pageHeader","sideContentGutter","isMobile","utils","includes","useState","setVisible","e","onClick","refetch","handleCancel","type","formDatas","Form","form","Option","Select","TextArea","Input","groups","setGroups","selectedGroups","setSelectedGroups","useMutation","onCompleted","data","attachOrDetachSupportGroup","message","map","item","variables","group","support","createSupport","id","createLoading","loading","updateSupport","onGroupDeselect","value","useQuery","ALL_GROUPS","allGroups","useEffect","formData","description","title","supportgroupSet","setFieldsValue","resetFields","spinning","tip","layout","name","onFinish","values","label","IntlMessage","rules","required","mode","onDeselect","onSelect","index","rows","Title","Typography","Paragraph","confirm","Modal","SettingsMenu","supports","setSelectedSupport","defaultSelectedKeys","elm","isModalOpen","setIsModalOpen","setSupports","selectedSupport","isModalVisible","pageNumber","setPageNumber","numPages","setNumPages","formType","setFormType","permissions","CheckPer","editSupport","deleteSupport","createFile","allSupports","upload","uploadLoading","showModal","goToPrevPage","goToNextPage","FilePreview","file","split","pop","BASE_SERVER_URL","checkFileType","height","controls","url","padding","cover","alt","src","preview","forceRender","onCancel","footer","disabled","SizeMe","monitorHeight","refreshRate","refreshMode","render","size","onLoadSuccess","renderTextLayer","Loading","renderMode","renderAnnotationLayer","window","open","icon","PlusCircleOutlined","okButtonProps","key","htmlType","okText","cancelText","multiple","accept","orientation","customRequest","onSuccess","showUploadList","float","UploadOutlined","okType","onOk","DeleteOutlined","EditOutlined","supportfileSet","ref","React","AntdIcon","_objectSpread","PlusCircleOutlinedSvg","displayName"],"sourceRoot":""}