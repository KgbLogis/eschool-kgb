"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[6503],{74021:function(n,e,t){var r=t(29439),i=t(72791),o=t(66871),s=t(49389),a=t(87309),c=t(59432),d=t(11730),l=t(31549),u=t(82630),m=t(68470),f=t(80184);e.Z=function(n){var e=n.fetchData,t=n.loading,$=n.columns,h=n.data,p=n.permissions,g=n.showModal,v=(0,i.useState)(""),S=(0,r.Z)(v,2),Z=(S[0],S[1]);return(0,f.jsxs)(o.Z,{children:[(0,f.jsxs)(m.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:[(0,f.jsx)(m.Z,{className:"mb-1",mobileFlex:!1,children:(0,f.jsx)("div",{className:"mr-md-3 mb-3",children:(0,f.jsx)(s.Z,{placeholder:"\u0425\u0430\u0439\u0445",prefix:(0,f.jsx)(d.Z,{}),onChange:function(n){return function(n){var t=n.currentTarget.value;e({variables:{offset:0,limit:10,filter:t,program:0}}),Z(t)}(n)}})})}),!0===p.create&&(0,f.jsx)("div",{className:"mr-md-3 mb-3",children:(0,f.jsxs)(a.Z,{onClick:g,type:"primary",icon:(0,f.jsx)(l.Z,{}),block:!0,children:[" ",(0,f.jsx)(u.Z,{id:"add_new"})]})})]}),(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsx)(c.Z,{size:"small",columns:$,dataSource:h,rowKey:"id",bordered:!0,loading:t})})]})}},68470:function(n,e,t){t(72791);var r=t(80184),i=function(n){var e=n.children,t=n.className,i=n.alignItems,o=n.justifyContent,s=n.mobileFlex,a=n.flexDirection;return(0,r.jsx)("div",{className:"".concat(s?"d-flex":"d-md-flex"," ").concat(t," ").concat(a?"flex-"+a:""," ").concat(i?"align-items-"+i:""," ").concat(o?"justify-content-"+o:""),children:e})};i.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},e.Z=i},20077:function(n,e,t){t.d(e,{Di:function(){return Z},Gn:function(){return T},IR:function(){return I},JO:function(){return b},LZ:function(){return x},Lp:function(){return P},Mo:function(){return N},OM:function(){return w},Q7:function(){return C},Qe:function(){return y},SX:function(){return k},vm:function(){return j}});var r,i,o,s,a,c,d,l,u,m,f,$,h,p,g,v=t(30168),S=t(27570),Z=(0,S.Ps)(r||(r=(0,v.Z)(["\n    mutation createSchool($name: String, $nameMgl: String) {\n      createSchool(name: $name, nameMgl: $nameMgl) {\n        school {\n          id\n          name\n          nameMgl\n        }\n      }\n    }\n"]))),y=(0,S.Ps)(i||(i=(0,v.Z)(["\n    mutation createSubSchool($name: String, $nameMgl: String, $school: Int!){\n      createSubSchool(name: $name, nameMgl: $nameMgl, school: $school) {\n        subSchool {\n          id\n          name\n          nameMgl \n          school {\n            id\n          }\n        }\n      }\n    }\n"]))),b=((0,S.Ps)(o||(o=(0,v.Z)(["\n    mutation register($email: String!, $username: String!, $isTeacher: Boolean!, $isStudent: Boolean!, $password1: String!, $password2: String!){\n      register(email: $email, username: $username, isTeacher: $isTeacher, isStudent: $isStudent, password1: $password1, password2: $password2) {\n          success\n          errors\n          token\n      } \n    }\n\n"]))),(0,S.Ps)(s||(s=(0,v.Z)(["\n    mutation createTeacher($address: String, $birthCity: Int, $birthDistrict: Int, $birthdate: String, $degree: Int,\n                            $familyName: String, $joinBefore: String, $joinDate: String, $name: String, $phone: String, $phone2: String,\n                            $registerNo: String, $school: Int, $sex: String, $status: Int, $subSchool: Int, $teacherCode: String!,\n                            $username: String!, $password: String!, $email: String!, $access: String!\n                            # $user: Int\n                            ) {\n      createTeacher(address: $address, birthCity: $birthCity, birthDistrict: $birthDistrict, birthdate: $birthdate, degree: $degree,\n                             familyName: $familyName, joinBefore: $joinBefore, joinDate: $joinDate, name: $name, phone: $phone, phone2: $phone2, \n                            registerNo: $registerNo, school: $school, sex: $sex, status: $status, subSchool: $subSchool, \n                            teacherCode: $teacherCode, access: $access,\n                            username: $username, password: $password, email: $email\n                            # user: $user \n                            ) {\n        teacher {\n          id\n        }\n      }\n    }\n"])))),x=(0,S.Ps)(a||(a=(0,v.Z)(["\n    mutation createEmployee(\n                $address: String\n                $birthCity: Int\n                $birthDistrict: Int\n                $birthdate: String\n                $email: String!\n                $employeeCode: String!\n                $familyName: String\n                $group: Int\n                $name: String\n                $password: String!\n                $phone: String\n                $phone2: String\n                $photo: Upload\n                $registerNo: String\n                $sex: String\n                $status: Int\n                $compartment: Int\n                $username: String!\n              ) {\n      createEmployee(\n                address: $address\n                birthCity: $birthCity\n                birthDistrict: $birthDistrict\n                birthdate: $birthdate\n                email: $email\n                employeeCode: $employeeCode\n                familyName: $familyName\n                group: $group\n                name: $name\n                password: $password\n                phone: $phone\n                phone2: $phone2\n                photo: $photo\n                compartment: $compartment\n                registerNo: $registerNo\n                sex: $sex\n                status: $status\n                username: $username\n          ) {\n          employee {\n          id\n        }\n      }\n    }\n"]))),j=(0,S.Ps)(c||(c=(0,v.Z)(['\n    mutation createStudent($activity: Int, $address: String, $birthCity: Int, $birthDistrict: Int, $birthdate: String,\n                            $classes: Int, $classtime: Int, $familyName: String, $joinDate: String,\n                            $joinSchoolyear: String, $name: String, $nationality: String, $phone: String, $program: Int, \n                            $registerNo: String, $religion: String, $school: Int, $section: Int, $sex: String, $state: String, $status: Int, \n                            $statusExtra: Int, $surname: String, $studentCode: String,\n                            $username: String!, $password: String!) {\n      createStudent(activity: $activity, address: $address, birthCity: $birthCity, birthDistrict: $birthDistrict, birthdate: $birthdate, \n                    classes: $classes, familyName: $familyName, joinDate: $joinDate, name: $name, phone: $phone, \n                    registerNo: $registerNo, religion: $religion, school: $school, sex: $sex, status: $status,\n                    surname: $surname, studentCode: $studentCode, classtime: $classtime, joinSchoolyear: $joinSchoolyear, \n                    nationality: $nationality, program: $program, section: $section, state: $state, statusExtra: $statusExtra,\n                    username: $username, password: $password, email: "test@test.mn") {\n        student {\n          id\n        }\n      }\n    }\n']))),C=(0,S.Ps)(d||(d=(0,v.Z)(["\n  mutation createSection($classes: Int, $maxStudentNum: Int, $program: Int, $teacher: Int,  $school: Int, $section: String) {\n    createSection(classes: $classes, program: $program, school: $school, section: $section, maxStudentNum: $maxStudentNum, teacher: $teacher) {\n      section {\n        section\n      }\n    }\n  }\n"]))),I=(0,S.Ps)(l||(l=(0,v.Z)(["\n  mutation createClasses($activity: Int, $classes: String,\n                          $program: Int, $school: Int, $status: String) {\n    createClasses(activity: $activity, classes: $classes,\n                  program: $program, school: $school, status: $status) {\n      classes {\n        classes\n      }\n    }\n  }\n"]))),w=(0,S.Ps)(u||(u=(0,v.Z)(["\n    mutation createProgram($program: String, $programMgl: String,  \n                           $status: String, $maxStudentNum: Int, $school: Int, $subSchool: Int) {\n      createProgram(program: $program, programMgl: $programMgl,  \n                    status: $status, maxStudentNum: $maxStudentNum, school: $school, subSchool: $subSchool) {\n        program {\n          id\n        }\n      }\n    }\n"]))),P=(0,S.Ps)(m||(m=(0,v.Z)(["\n  mutation createSubject($credit: String, $subject: String, $content: String, $school: Int, $subSchool: Int) {\n    createSubject(credit: $credit, subject: $subject, school: $school, content: $content, subSchool: $subSchool) {\n      subject {\n        credit\n      }\n    }\n  }\n"]))),N=((0,S.Ps)(f||(f=(0,v.Z)(["\n  mutation createProgramSubject($program: Int, $subject: Int) {\n    createProgramSubject(program: $program, subject: $subject) {\n      programSubjectType {\n        id\n      }\n    }\n  }\n"]))),(0,S.Ps)($||($=(0,v.Z)(["\n  mutation createRoutineStudent ($routine: Int, $studentCode: String, $section: Int) {\n    createRoutineStudent (routine: $routine, studentCode: $studentCode, section: $section) {\n      routineStudent {\n        id\n      }\n    }\n  }\n"]))),(0,S.Ps)(h||(h=(0,v.Z)(["\n    mutation createParent ($address: String, $familyName: String, $name: String, $phone: String, $profession: String, $student: Int) {\n        createParent (address: $address, familyName: $familyName, name: $name, phone: $phone, profession: $profession, student: $student) {\n            parent {\n                name\n            }\n        }\n    }\n"])))),k=(0,S.Ps)(p||(p=(0,v.Z)(["\n    mutation createEventType ($color: String, $name: String) {\n        createEventType (color: $color, name: $name) {\n            eventType {\n                name\n            }\n        }\n    }\n"]))),T=(0,S.Ps)(g||(g=(0,v.Z)(["\n    mutation createEvent ($content: String, $description: String, $endAt: String, $eventType: Int, $startAt: String, $title: String) {\n        createEvent (content: $content, description: $description, endAt: $endAt, eventType: $eventType, startAt: $startAt, title: $title) {\n            event {\n                title\n            }\n        }\n    }\n"])))},64856:function(n,e,t){t.d(e,{BX:function(){return N},DO:function(){return b},Fo:function(){return I},Jk:function(){return D},MI:function(){return P},NH:function(){return Z},Tu:function(){return y},Ug:function(){return T},Xj:function(){return C},dc:function(){return w},mL:function(){return x},tc:function(){return j},xB:function(){return k}});var r,i,o,s,a,c,d,l,u,m,f,$,h,p,g,v=t(30168),S=t(27570),Z=((0,S.Ps)(r||(r=(0,v.Z)(["\n    mutation deleteCity($id: ID!){\n        deleteCity(id: $id){\n            city{\n              name\n              code\n            }\n        }\n    }\n"]))),(0,S.Ps)(i||(i=(0,v.Z)(["\n    mutation deleteAccount($username: String) {\n        deleteAccount(username: $username) {\n            account {\n                username\n            }\n        }\n    }\n"]))),(0,S.Ps)(o||(o=(0,v.Z)(["\n    mutation deleteTeacher($id: ID!){\n      deleteTeacher(id: $id){\n            teacher{\n              name\n            }\n        }\n    }\n"])))),y=(0,S.Ps)(s||(s=(0,v.Z)(["\n  mutation deleteEmployee($id: ID){\n    deleteEmployee(id: $id){\n      employee{\n        name\n      }\n    }\n  }\n  "]))),b=(0,S.Ps)(a||(a=(0,v.Z)(["\n  mutation deleteSubject ($id: ID) {\n    deleteSubject (id: $id) {\n      subject {\n        credit\n      }\n    }\n  }\n"]))),x=(0,S.Ps)(c||(c=(0,v.Z)(["\n    mutation deleteStudent($id: ID!){\n      deleteStudent(id: $id){\n            student{\n              surname\n            }\n        }\n    }\n"]))),j=(0,S.Ps)(d||(d=(0,v.Z)(["\n  mutation deleteSubSchool($id: ID){\n    deleteSubSchool(id: $id){\n      subSchool{\n        name\n      }\n    }\n}\n"]))),C=(0,S.Ps)(l||(l=(0,v.Z)(["\n  mutation deleteSchool($id: ID!){\n    deleteSchool(id: $id){\n      school{\n        name\n      }\n    }\n}\n"]))),I=(0,S.Ps)(u||(u=(0,v.Z)(["\n  mutation deleteSection($id: ID){\n    deleteSection(id: $id){\n      section{\n        section\n      }\n    }\n}\n"]))),w=(0,S.Ps)(m||(m=(0,v.Z)(["\n  mutation deleteClasses($id: ID!){\n    deleteClasses(id: $id){\n      classes{\n        classes\n      }\n    }\n}\n"]))),P=(0,S.Ps)(f||(f=(0,v.Z)(["\n    mutation deleteProgram($id: ID!){\n        deleteProgram(id: $id){\n            program{\n                program\n            }\n        }\n    }\n"]))),N=(0,S.Ps)($||($=(0,v.Z)(["\n    mutation deleteRoutine ($id: ID) {\n        deleteRoutine (id: $id) {\n            routine {\n                createdAt\n            }\n        }\n    }\n"]))),k=(0,S.Ps)(h||(h=(0,v.Z)(["\n    mutation deleteParent ($id: ID) {\n        deleteParent (id: $id) {\n            parent {\n                name\n            }\n        }\n    }\n"]))),T=(0,S.Ps)(p||(p=(0,v.Z)(["\n    mutation deleteEventType ($id: ID) {\n        deleteEventType (id: $id) {\n            eventType {\n                name\n            }\n        }\n    }\n"]))),D=(0,S.Ps)(g||(g=(0,v.Z)(["\n    mutation deleteEvent ($id: ID) {\n        deleteEvent (id: $id) {\n            event {\n                title\n            }\n        }\n    }\n"])))},68694:function(n,e,t){t.d(e,{Cm:function(){return p},Cx:function(){return $},FQ:function(){return h},JX:function(){return f},Z2:function(){return Z},dT:function(){return g},gt:function(){return S},tL:function(){return v}});var r,i,o,s,a,c,d,l,u=t(30168),m=t(27570),f=(0,m.Ps)(r||(r=(0,u.Z)(["\n    query allStudents ($filter: String) {\n        allStudents (filter: $filter) {\n            id\n            familyName\n            name\n            studentCode\n        }\n\t}\n"]))),$=(0,m.Ps)(i||(i=(0,u.Z)(["\n    query allTeachers ($filter: String) {\n        allTeachers (filter: $filter) {\n            id\n            familyName\n            name\n            teacherCode\n        }\n    }\n"]))),h=(0,m.Ps)(o||(o=(0,u.Z)(["\n    query allClassess ($filter: String, $program: Int) {\n        allClassess (filter: $filter, program: $program) {\n            id\n            classes\n        }\n\t}\n"]))),p=(0,m.Ps)(s||(s=(0,u.Z)(['\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "subject", modelName: "Subject", filter: $filter) {\n            count\n        }\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            subject\n            content\n            createUserid {\n                firstName\n                lastName\n            }\n        }\n    }\n']))),g=(0,m.Ps)(a||(a=(0,u.Z)(["\n    query selectProgram {\n        allPrograms {\n            id\n            program\n        }\n    }\n"]))),v=(0,m.Ps)(c||(c=(0,u.Z)(["\n    query sectionsByProgram ($program: Int!) {\n        sectionsByProgram (program: $program) {\n            id\n            section \n            classes {\n                classes\n            }\n        }\n    }\n"]))),S=(0,m.Ps)(d||(d=(0,u.Z)(["\n    query sectionsByClasses ($classes: Int!){\n        sectionsByClasses (classes: $classes) {\n            id \n            section\n        }\n    }\n"]))),Z=(0,m.Ps)(l||(l=(0,u.Z)(['\n    query allStudentsPagination (\n        $page: Int\n        $perPage: Int\n        $filter: String = ""\n    ) {\n        allStudentsPagination (\n            page: $page\n            perPage: $perPage\n            filter: $filter\n        ) {\n            page\n            perPage\n            pageCount\n            totalCount\n            records {\n                id\n                name\n                familyName\n            }\n        }\n    }\n'])))},2315:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});var r=t(72791),i=t(29439),o=t(20003),s=t(50419),a=t(87309),c=t(36795),d=t(82464),l=t(2703),u=t(22949),m=t(73332),f=t(49389),$=t(37083),h=t(66106),p=t(30914),g=t(69421),v=t(86586),S=t(84376),Z=t(41920),y=t(20077),b=t(82259),x=t(82630),j=t(68694),C=t(38937),I=t(80184),w=u.Z.Option;var P=function(n){var e=n.editData,t=n.formType,o=n.setIsModalVisible,a=n.setTableLoading,c=m.Z.useForm(),d=(0,i.Z)(c,1)[0],l=f.Z.TextArea,P=(0,r.useState)([]),N=(0,i.Z)(P,2),k=N[0],T=N[1],D=(0,v.t)(j.JX,{onCompleted:function(n){T(n.allStudents)}}),E=(0,i.Z)(D,2),M=E[0],q=E[1].loading,L=(0,S.D)(y.Mo,{refetchQueries:[Z.nS],onCompleted:function(n){s.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),d.resetFields(),o(!1),a(!0)}}),R=(0,i.Z)(L,2),O=R[0],B=R[1].loading,F=(0,S.D)(b.Xk,{refetchQueries:[Z.nS],onCompleted:function(n){s.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),d.resetFields(),o(!1),a(!0)}}),A=(0,i.Z)(F,2),W=A[0],H=A[1].loading;(0,r.useEffect)((function(){if("edit"===t){var n={name:e.name,familyName:e.familyName,address:e.address,phone:e.phone,profession:e.profession,student:e.student.id};d.setFieldsValue(n)}}),[e,t,d,M]);var X=new RegExp(/^[7-9][0-9]{3}[0-9]{4}$/);return(0,I.jsx)($.Z,{spinning:B||H,tip:"\u0410\u0447\u0430\u0430\u043b\u043b\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",children:(0,I.jsx)(m.Z,{id:"StudentForm",layout:"vertical",form:d,name:"control-hooks",onFinish:function(n){"edit"===t?(n.id=e.id,W({variables:n})):O({variables:n})},children:(0,I.jsxs)(h.Z,{gutter:[16,24],children:[(0,I.jsxs)(p.Z,{className:"gutter-row",span:12,children:[(0,I.jsx)(m.Z.Item,{name:"familyName",label:(0,I.jsx)(x.Z,{id:"familyName"}),rules:[{required:!0,message:(0,I.jsx)(x.Z,{id:"form.required"})}],children:(0,I.jsx)(f.Z,{})}),(0,I.jsx)(m.Z.Item,{name:"profession",label:(0,I.jsx)(x.Z,{id:"profession"}),rules:[{required:!0,message:(0,I.jsx)(x.Z,{id:"form.required"})}],children:(0,I.jsx)(f.Z,{})}),(0,I.jsx)(m.Z.Item,{name:"address",label:(0,I.jsx)(x.Z,{id:"address"}),rules:[{required:!0,message:(0,I.jsx)(x.Z,{id:"form.required"})}],children:(0,I.jsx)(l,{rows:2})})]}),(0,I.jsxs)(p.Z,{className:"gutter-row",span:12,children:[(0,I.jsx)(m.Z.Item,{name:"name",label:(0,I.jsx)(x.Z,{id:"name"}),rules:[{required:!0,message:(0,I.jsx)(x.Z,{id:"form.required"})}],children:(0,I.jsx)(f.Z,{})}),(0,I.jsx)(m.Z.Item,{name:"student",label:(0,I.jsx)(x.Z,{id:"student"}),rules:[{required:!0,message:(0,I.jsx)(x.Z,{id:"form.required"})}],children:(0,I.jsx)(u.Z,{showSearch:!0,filterOption:!1,notFoundContent:q?(0,I.jsx)(C.Z,{cover:"content"}):(0,I.jsx)(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE}),onSearch:function(n){""!==n&&M({variables:{offset:0,limit:99999999,filter:n}})},children:k.map((function(n,e){return(0,I.jsxs)(w,{value:n.id,children:[" ",n.familyName," ",n.name," / ",n.studentCode," "]},e)}))})}),(0,I.jsx)(m.Z.Item,{name:"phone",label:(0,I.jsx)(x.Z,{id:"phone1"}),rules:[{required:!0,message:(0,I.jsx)(x.Z,{id:"form.required"})},{validator:function(n,e){return X.test(e)?Promise.resolve():Promise.reject("\u0423\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!")}}],children:(0,I.jsx)(f.Z,{})})]})]})})})},N=t(64856),k=t(74021);var T=function(n){var e=(0,r.useState)(1),t=(0,i.Z)(e,2),u=t[0],m=t[1],f=(0,r.useState)([]),$=(0,i.Z)(f,2),h=$[0],p=$[1],g=(0,r.useState)(!1),y=(0,i.Z)(g,2),b=y[0],j=y[1],C=(0,r.useState)([]),w=(0,i.Z)(C,2),T=w[0],D=w[1],E=(0,r.useState)(""),M=(0,i.Z)(E,2),q=M[0],L=M[1],R=(0,v.t)(Z.nS,{fetchPolicy:"network-only",onCompleted:function(n){m(n.count.count),p(n.allParents)}}),O=(0,i.Z)(R,2),B=O[0],F=O[1],A=F.loading,W=F.refetch;(0,r.useEffect)((function(){B({variables:{offset:0,limit:9,filter:""}})}),[B]);var H=o.Z.confirm,X=(0,S.D)(N.xB,{refetchQueries:[Z.nS],onCompleted:function(n){s.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430")}}),z=(0,i.Z)(X,1)[0],_=[{key:"familyName",title:(0,I.jsx)(x.Z,{id:"familyName"}),dataIndex:"familyName",width:"10vw",sorter:function(n,e){return l.ZP.antdTableSorter(n,e,"familyName")}},{key:"name",title:(0,I.jsx)(x.Z,{id:"name"}),dataIndex:"name",width:"10vw",sorter:function(n,e){return l.ZP.antdTableSorter(n,e,"name")}},{key:"profession",title:(0,I.jsx)(x.Z,{id:"profession"}),dataIndex:"profession",sorter:function(n,e){return l.ZP.antdTableSorter(n,e,"profession")}},{key:"phone",title:(0,I.jsx)(x.Z,{id:"phone1"}),dataIndex:"phone",width:"10vw",sorter:function(n,e){return l.ZP.antdTableSorter(n,e,"phone")},render:function(n){return(0,I.jsx)("span",{children:n.substr(0,4)+"-"+n.substr(4,9)})}},{title:(0,I.jsx)(x.Z,{id:"student"}),children:[{key:"student",title:(0,I.jsx)(x.Z,{id:"student"}),dataIndex:"student",width:"10vw",sorter:function(n,e){return l.ZP.antdTableSorter(n,e,"student")},render:function(n){return(0,I.jsxs)("span",{children:[n.familyName," ",n.name]})}},{key:"studentCode",title:(0,I.jsx)(x.Z,{id:"studentCode"}),dataIndex:["student","studentCode"],width:"10vw",sorter:function(n,e){return l.ZP.antdTableSorter(n,e,"studentCode")}}]}];return!0!==n.permissions.edit&&!0!==n.permissions.destroy||_.push({key:"actions",title:(0,I.jsx)(x.Z,{id:"main.action"}),width:"15vw",dataIndex:"actions",render:function(e,t){return(0,I.jsxs)("div",{className:"text-center",children:[!0===n.permissions.edit&&(0,I.jsxs)(a.Z,{size:"small",onClick:function(){return function(n){D(n),L("edit"),j(!0)}(t)},type:"text",icon:(0,I.jsx)(c.Z,{twoToneColor:"#ffdb00"}),children:[" ",(0,I.jsx)(x.Z,{id:"edit"})]}),!0===n.permissions.destroy&&(0,I.jsxs)(a.Z,{size:"small",onClick:function(){return function(n){H({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){z({variables:{id:n.id}})}})}(t)},type:"text",icon:(0,I.jsx)(d.Z,{twoToneColor:"#f42f2f"}),children:[" ",(0,I.jsx)(x.Z,{id:"delete"})]})]})}}),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(o.Z,{title:"create"===q?(0,I.jsx)(x.Z,{id:"add_new"}):(0,I.jsx)(x.Z,{id:"edit"}),visible:b,width:"80vw",okText:(0,I.jsx)(x.Z,{id:"main.okText"}),cancelText:(0,I.jsx)(x.Z,{id:"main.cancelText"}),onCancel:function(){j(!1)},okButtonProps:{form:"StudentForm",key:"submit",htmlType:"submit"},children:(0,I.jsx)(P,{refetch:W,formType:q,editData:T,setIsModalVisible:j})}),(0,I.jsx)(k.Z,{fetchData:B,loading:A,columns:_,data:h,count:u,permissions:n.permissions,showModal:function(){L("create"),j(!0)}})]})},D=t(59288),E=function(n){var e={create:(0,D.C)("add_parent"),edit:(0,D.C)("change_parent"),destroy:(0,D.C)("delete_parent")};return Object.values(e).indexOf("loading")>-1?(0,I.jsx)(C.Z,{cover:"content"}):(0,I.jsx)(T,{title:n.title,permissions:e})}},37295:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(1413),i=t(72791),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},s=t(8711),a=function(n,e){return i.createElement(s.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e,icon:o}))};a.displayName="DownOutlined";var c=i.forwardRef(a)},31549:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(1413),i=t(72791),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},s=t(8711),a=function(n,e){return i.createElement(s.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e,icon:o}))};a.displayName="PlusCircleOutlined";var c=i.forwardRef(a)},19581:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(29439),i=t(72791);function o(){var n=i.useReducer((function(n){return n+1}),0);return(0,r.Z)(n,2)[1]}},14640:function(n,e,t){t.d(e,{Z:function(){return P}});var r=t(15671),i=t(43144),o=t(60136),s=t(29388),a=t(71002),c=t(72791),d=t(75314),l=t(10818),u=t(14937),m=t(69025);var f=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n)return{};var t=e.element,r=void 0===t?document.body:t,i={},o=Object.keys(n);return o.forEach((function(n){i[n]=r.style[n]})),o.forEach((function(e){r.style[e]=n[e]})),i};var $={},h=function(n){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||n){var e="ant-scrolling-effect",t=new RegExp("".concat(e),"g"),r=document.body.className;if(n){if(!t.test(r))return;return f($),$={},void(document.body.className=r.replace(t,"").trim())}var i=(0,m.Z)();if(i&&($=f({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!t.test(r))){var o="".concat(r," ").concat(e);document.body.className=o.trim()}}},p=t(93433),g=0,v=[],S="ant-scrolling-effect",Z=new RegExp("".concat(S),"g"),y=new Map,b=(0,i.Z)((function n(e){var t=this;(0,r.Z)(this,n),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var n;return null===(n=t.options)||void 0===n?void 0:n.container},this.reLock=function(n){var e=v.find((function(n){return n.target===t.lockTarget}));e&&t.unLock(),t.options=n,e&&(e.options=n,t.lock())},this.lock=function(){var n;if(!v.some((function(n){return n.target===t.lockTarget})))if(v.some((function(n){var e,r=n.options;return(null===r||void 0===r?void 0:r.container)===(null===(e=t.options)||void 0===e?void 0:e.container)})))v=[].concat((0,p.Z)(v),[{target:t.lockTarget,options:t.options}]);else{var e=0,r=(null===(n=t.options)||void 0===n?void 0:n.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(e=(0,m.Z)());var i=r.className;if(0===v.filter((function(n){var e,r=n.options;return(null===r||void 0===r?void 0:r.container)===(null===(e=t.options)||void 0===e?void 0:e.container)})).length&&y.set(r,f({width:0!==e?"calc(100% - ".concat(e,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!Z.test(i)){var o="".concat(i," ").concat(S);r.className=o.trim()}v=[].concat((0,p.Z)(v),[{target:t.lockTarget,options:t.options}])}},this.unLock=function(){var n,e=v.find((function(n){return n.target===t.lockTarget}));if(v=v.filter((function(n){return n.target!==t.lockTarget})),e&&!v.some((function(n){var t,r=n.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=e.options)||void 0===t?void 0:t.container)}))){var r=(null===(n=t.options)||void 0===n?void 0:n.container)||document.body,i=r.className;Z.test(i)&&(f(y.get(r),{element:r}),y.delete(r),r.className=r.className.replace(Z,"").trim())}},this.lockTarget=g++,this.options=e})),x=0,j=(0,u.Z)();var C={},I=function(n){if(!j)return null;if(n){if("string"===typeof n)return document.querySelectorAll(n)[0];if("function"===typeof n)return n();if("object"===(0,a.Z)(n)&&n instanceof window.HTMLElement)return n}return document.body},w=function(n){(0,o.Z)(t,n);var e=(0,s.Z)(t);function t(n){var i;return(0,r.Z)(this,t),(i=e.call(this,n)).container=void 0,i.componentRef=c.createRef(),i.rafId=void 0,i.scrollLocker=void 0,i.renderComponent=void 0,i.updateScrollLocker=function(n){var e=(n||{}).visible,t=i.props,r=t.getContainer,o=t.visible;o&&o!==e&&j&&I(r)!==i.scrollLocker.getContainer()&&i.scrollLocker.reLock({container:I(r)})},i.updateOpenCount=function(n){var e=n||{},t=e.visible,r=e.getContainer,o=i.props,s=o.visible,a=o.getContainer;s!==t&&j&&I(a)===document.body&&(s&&!t?x+=1:n&&(x-=1)),("function"===typeof a&&"function"===typeof r?a.toString()!==r.toString():a!==r)&&i.removeCurrentContainer()},i.attachToParent=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n||i.container&&!i.container.parentNode){var e=I(i.props.getContainer);return!!e&&(e.appendChild(i.container),!0)}return!0},i.getContainer=function(){return j?(i.container||(i.container=document.createElement("div"),i.attachToParent(!0)),i.setWrapperClassName(),i.container):null},i.setWrapperClassName=function(){var n=i.props.wrapperClassName;i.container&&n&&n!==i.container.className&&(i.container.className=n)},i.removeCurrentContainer=function(){var n,e;null===(n=i.container)||void 0===n||null===(e=n.parentNode)||void 0===e||e.removeChild(i.container)},i.switchScrollingEffect=function(){1!==x||Object.keys(C).length?x||(f(C),C={},h(!0)):(h(),C=f({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},i.scrollLocker=new b({container:I(n.getContainer)}),i}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){var n=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=(0,d.Z)((function(){n.forceUpdate()})))}},{key:"componentDidUpdate",value:function(n){this.updateOpenCount(n),this.updateScrollLocker(n),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var n=this.props,e=n.visible,t=n.getContainer;j&&I(t)===document.body&&(x=e&&x?x-1:x),this.removeCurrentContainer(),d.Z.cancel(this.rafId)}},{key:"render",value:function(){var n=this.props,e=n.children,t=n.forceRender,r=n.visible,i=null,o={getOpenCount:function(){return x},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(t||r||this.componentRef.current)&&(i=c.createElement(l.Z,{getContainer:this.getContainer,ref:this.componentRef},e(o))),i}}]),t}(c.Component),P=w},69025:function(n,e,t){var r;function i(n){if("undefined"===typeof document)return 0;if(n||void 0===r){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div"),i=t.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var o=e.offsetWidth;t.style.overflow="scroll";var s=e.offsetWidth;o===s&&(s=t.clientWidth),document.body.removeChild(t),r=o-s}return r}function o(n){var e=n.match(/^(.*)px$/),t=Number(null===e||void 0===e?void 0:e[1]);return Number.isNaN(t)?i():t}function s(n){if("undefined"===typeof document||!n||!(n instanceof Element))return{width:0,height:0};var e=getComputedStyle(n,"::-webkit-scrollbar"),t=e.width,r=e.height;return{width:o(t),height:o(r)}}t.d(e,{Z:function(){return i},o:function(){return s}})}}]);
//# sourceMappingURL=6503.548dd184.chunk.js.map