"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[6939],{68470:function(e,n,t){t(72791);var o=t(80184),r=function(e){var n=e.children,t=e.className,r=e.alignItems,i=e.justifyContent,c=e.mobileFlex,a=e.flexDirection;return(0,o.jsx)("div",{className:"".concat(c?"d-flex":"d-md-flex"," ").concat(t," ").concat(a?"flex-"+a:""," ").concat(r?"align-items-"+r:""," ").concat(i?"justify-content-"+i:""),children:n})};r.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},n.Z=r},27308:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var o=t(29439),r=t(72791),i=t(66871),c=t(87309),a=t(59432),d=t(53834),u=t(64880),l=t(68470),s=t(82630),f=t(80184),m=function(e){var n=e.loading,t=e.columns,o=e.list,r=(0,u.k6)();return(0,f.jsxs)(i.Z,{children:[(0,f.jsx)(l.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:(0,f.jsx)(l.Z,{mobileFlex:!1,children:(0,f.jsx)("div",{className:"text-right",children:(0,f.jsxs)(c.Z,{onClick:function(){return r.goBack()},type:"default",icon:(0,f.jsx)(d.Z,{}),block:!0,children:[" ",(0,f.jsx)(s.Z,{id:"back"})]})})})}),(0,f.jsx)(a.Z,{pagination:!1,className:"mt-4",loading:n,size:"small",columns:t,dataSource:o,rowKey:"name",bordered:!0})]})},v=t(96578),h=t(86586),g=t(84376),p=t(48936),b=t(50419),x=t(32014),k=function(e){var n=(0,u.TH)(),t=(0,r.useState)([]),i=(0,o.Z)(t,2),c=i[0],a=i[1],d=(0,r.useState)([]),l=(0,o.Z)(d,2),s=l[0],k=l[1],Z=(0,r.useState)(!0),w=(0,o.Z)(Z,2),C=w[0],y=w[1],N=(0,r.useState)([]),j=(0,o.Z)(N,2),E=j[0],I=j[1],_=(0,v.a)(p._I,{onCompleted:function(e){a(e.permissions)}}).loading,D=(0,h.t)(p.O7,{fetchPolicy:"network-only",onCompleted:function(e){k(e.groupPermissions)}}),M=(0,o.Z)(D,2),R=M[0],S=M[1].loading,P=(0,h.t)(p.I6,{onError:function(e){y(!1)},fetchPolicy:"network-only",onCompleted:function(e){I(e.customUserPermissions)}}),F=(0,o.Z)(P,2),O=F[0],z=F[1],B=z.loading,H=z.refetch,V=(0,g.D)(p.eV,{onCompleted:function(e){H(),b.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430")}}),W=(0,o.Z)(V,2),L=W[0],J=W[1].loading;(0,r.useEffect)((function(){n.state&&(R({variables:{userId:n.state.user}}),O({variables:{userId:n.state.user}}))}),[R,O,n.state]),(0,r.useEffect)((function(){(_||S||J||B)&&y(!0),_||S||J||B||y(!1)}),[_,S,J,B]);var K=[{key:"name",title:"\u041d\u044d\u0440",dataIndex:"name"},{key:"add",title:"\u041d\u044d\u043c\u044d\u0445",dataIndex:"add",render:function(e,n){return n.add&&(0,f.jsx)(x.Z,{onChange:function(e){return Q(e,"add_".concat(n.codeName))},checked:T("add_".concat(n.codeName)).isChecked,disabled:T("add_".concat(n.codeName)).isDisabled})}},{key:"change",title:"\u0417\u0430\u0441\u0430\u0445",dataIndex:"change",render:function(e,n){return n.change&&(0,f.jsx)(x.Z,{onChange:function(e){return Q(e,"change_".concat(n.codeName))},checked:T("change_".concat(n.codeName)).isChecked,disabled:T("change_".concat(n.codeName)).isDisabled})}},{key:"delete",title:"\u0423\u0441\u0442\u0433\u0430\u0445",dataIndex:"delete",render:function(e,n){return n.delete&&(0,f.jsx)(x.Z,{onChange:function(e){return Q(e,"delete_".concat(n.codeName))},checked:T("delete_".concat(n.codeName)).isChecked,disabled:T("delete_".concat(n.codeName)).isDisabled})}},{key:"view",title:"\u0425\u0430\u0440\u0430\u0445",dataIndex:"view",render:function(e,n){return n.view&&(0,f.jsx)(x.Z,{onChange:function(e){return Q(e,"view_".concat(n.codeName))},checked:T("view_".concat(n.codeName)).isChecked,disabled:T("view_".concat(n.codeName)).isDisabled})}}],Q=function(e,t){L({variables:{action:e.target.checked,codename:t,teacherCode:n.state.teacherCode}})},T=function(e){var n=s.some((function(n){return n.codename===e})),t=E.some((function(n){return n.codename===e}));return{isDisabled:n,isChecked:n||t}};return n.state?(0,f.jsx)(m,{list:c,columns:K,loading:C}):null}},37295:function(e,n,t){t.d(n,{Z:function(){return d}});var o=t(1413),r=t(72791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},c=t(8711),a=function(e,n){return r.createElement(c.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:n,icon:i}))};a.displayName="DownOutlined";var d=r.forwardRef(a)},53834:function(e,n,t){t.d(n,{Z:function(){return d}});var o=t(1413),r=t(72791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},c=t(8711),a=function(e,n){return r.createElement(c.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:n,icon:i}))};a.displayName="RollbackOutlined";var d=r.forwardRef(a)},19581:function(e,n,t){t.d(n,{Z:function(){return i}});var o=t(29439),r=t(72791);function i(){var e=r.useReducer((function(e){return e+1}),0);return(0,o.Z)(e,2)[1]}},69025:function(e,n,t){var o;function r(e){if("undefined"===typeof document)return 0;if(e||void 0===o){var n=document.createElement("div");n.style.width="100%",n.style.height="200px";var t=document.createElement("div"),r=t.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",t.appendChild(n),document.body.appendChild(t);var i=n.offsetWidth;t.style.overflow="scroll";var c=n.offsetWidth;i===c&&(c=t.clientWidth),document.body.removeChild(t),o=i-c}return o}function i(e){var n=e.match(/^(.*)px$/),t=Number(null===n||void 0===n?void 0:n[1]);return Number.isNaN(t)?r():t}function c(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var n=getComputedStyle(e,"::-webkit-scrollbar"),t=n.width,o=n.height;return{width:i(t),height:i(o)}}t.d(n,{Z:function(){return r},o:function(){return c}})},84376:function(e,n,t){t.d(n,{D:function(){return l}});var o=t(3431),r=t(72791),i=t(63124),c=t(5970),a=t(72364),d=t(29484),u=t(65046);function l(e,n){var t=(0,u.x)(null===n||void 0===n?void 0:n.client);(0,a.Vp)(e,a.n_.Mutation);var l=(0,r.useState)({called:!1,loading:!1,client:t}),s=l[0],f=l[1],m=(0,r.useRef)({result:s,mutationId:0,isMounted:!0,client:t,mutation:e,options:n});Object.assign(m.current,{client:t,options:n,mutation:e});var v=(0,r.useCallback)((function(e){void 0===e&&(e={});var n=m.current,t=n.client,r=n.options,a=n.mutation,u=(0,o.pi)((0,o.pi)({},r),{mutation:a});m.current.result.loading||u.ignoreResults||!m.current.isMounted||f(m.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:t});var l=++m.current.mutationId,s=(0,i.J)(u,e);return t.mutate(s).then((function(n){var o,r,i,a=n.data,u=n.errors,v=u&&u.length>0?new d.c({graphQLErrors:u}):void 0;if(l===m.current.mutationId&&!s.ignoreResults){var h={called:!0,loading:!1,data:a,error:v,client:t};m.current.isMounted&&!(0,c.D)(m.current.result,h)&&f(m.current.result=h)}return null===(r=null===(o=m.current.options)||void 0===o?void 0:o.onCompleted)||void 0===r||r.call(o,n.data,s),null===(i=e.onCompleted)||void 0===i||i.call(e,n.data,s),n})).catch((function(n){var o,r,i,a;if(l===m.current.mutationId&&m.current.isMounted){var d={loading:!1,error:n,data:void 0,called:!0,client:t};(0,c.D)(m.current.result,d)||f(m.current.result=d)}if((null===(o=m.current.options)||void 0===o?void 0:o.onError)||s.onError)return null===(i=null===(r=m.current.options)||void 0===r?void 0:r.onError)||void 0===i||i.call(r,n,s),null===(a=e.onError)||void 0===a||a.call(e,n,s),{data:void 0,errors:n};throw n}))}),[]),h=(0,r.useCallback)((function(){m.current.isMounted&&f({called:!1,loading:!1,client:t})}),[]);return(0,r.useEffect)((function(){return m.current.isMounted=!0,function(){m.current.isMounted=!1}}),[]),[v,(0,o.pi)({reset:h},s)]}}}]);
//# sourceMappingURL=6939.a8c343c3.chunk.js.map