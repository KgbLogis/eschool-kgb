{"version":3,"file":"static/js/6939.89c769d0.chunk.js","mappings":"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","sources":["components/shared-components/Flex/index.js","views/app-views/teacher/permissions/table.js","views/app-views/teacher/permissions/index.js","../node_modules/@ant-design/icons-svg/es/asn/DownOutlined.js","../node_modules/@ant-design/icons/es/icons/DownOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/RollbackOutlined.js","../node_modules/@ant-design/icons/es/icons/RollbackOutlined.js","../node_modules/antd/es/_util/hooks/useForceUpdate.js","../node_modules/rc-util/es/getScrollBarSize.js","../node_modules/@apollo/src/react/hooks/useMutation.ts"],"sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Flex = props => {\r\n\tconst { children, className, alignItems, justifyContent, mobileFlex, flexDirection } = props\r\n\tconst getFlexResponsive = () => mobileFlex ? 'd-flex' : 'd-md-flex'\r\n\treturn (\r\n\t\t<div className={`${getFlexResponsive()} ${className} ${flexDirection?('flex-' + flexDirection): ''} ${alignItems?('align-items-' + alignItems):''} ${justifyContent?('justify-content-' + justifyContent):''}` }>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nFlex.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\talignItems: PropTypes.string,\r\n\tflexDirection: PropTypes.string,\r\n\tjustifyContent: PropTypes.string,\r\n\tmobileFlex: PropTypes.bool\r\n}\r\n\r\nFlex.defaultProps = {\r\n\tmobileFlex: true,\r\n\tflexDirection: 'row',\r\n\tclassName: ''\r\n};\r\n\r\n\r\nexport default Flex\r\n","import React from 'react'\r\nimport { Button, Card, Table } from 'antd'\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport { useHistory } from 'react-router-dom'\r\nimport Flex from 'components/shared-components/Flex'\r\nimport IntlMessage from 'components/util-components/IntlMessage';\r\n\r\nconst PermissionTable = ({ loading, columns, list }) => {\r\n\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <Card>\r\n            <Flex alignItems=\"center\" justifyContent=\"between\" mobileFlex={false}>\r\n                <Flex mobileFlex={false}>\r\n                    <div className='text-right' >\r\n                        <Button onClick={() => history.goBack()} type=\"default\" icon={<RollbackOutlined />} block> <IntlMessage id=\"back\" /></Button>\r\n                    </div>\r\n                </Flex>\r\n            </Flex>\r\n            <Table\r\n                pagination={false}\r\n                className='mt-4'\r\n                loading={loading}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tcolumns={columns} \r\n\t\t\t\tdataSource={list}\r\n\t\t\t\trowKey='name'\r\n\t\t\t\tbordered\r\n            />\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default PermissionTable","import React, { useEffect, useState } from \"react\";\r\nimport Table from './table';\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/client\";\r\nimport { GROUP_PERMISSION, PERMISSIONS, UPDATE_TEACHER_PERMISSION, USER_PERMISSION } from \"graphql/role\";\r\nimport { Checkbox, message } from \"antd\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst Index = (props) => {\r\n    \r\n    const location = useLocation(); \r\n\r\n    const [list, setList] = useState([]);\r\n    const [groupPer, setGroupPer] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [userPer, setUserPer] = useState([]);\r\n\r\n    const { loading: permissionsLoading } = useQuery(PERMISSIONS, {\r\n        onCompleted: data => {\r\n            setList(data.permissions)\r\n        }\r\n    })\r\n\r\n    const [fetchGroup, { loading: groupPerLoading }] = useLazyQuery(GROUP_PERMISSION, {\r\n        fetchPolicy: 'network-only',\r\n        onCompleted: data => {\r\n            setGroupPer(data.groupPermissions)\r\n        }\r\n    })\r\n\r\n    const [fetchUserPer, { loading: userLoading, refetch: userRefetch }] = useLazyQuery(USER_PERMISSION, {\r\n        onError: error => {\r\n            setLoading(false);\r\n        },\r\n        fetchPolicy: 'network-only',\r\n        onCompleted: data => {\r\n            setUserPer(data.customUserPermissions)\r\n        }\r\n\r\n    })\r\n\r\n    const [update, { loading: updateLoading }] = useMutation(UPDATE_TEACHER_PERMISSION, {\r\n        onCompleted: data => {\r\n            userRefetch();\r\n            message.success('Амжилттай хадгаллаа');\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (location.state) {\r\n            fetchGroup({ variables: { userId: location.state.user } })\r\n            fetchUserPer({ variables: { userId: location.state.user } });\r\n        }\r\n    }, [fetchGroup, fetchUserPer, location.state])\r\n\r\n    useEffect(() => {\r\n        if (permissionsLoading || groupPerLoading || updateLoading || userLoading) {\r\n            setLoading(true);\r\n        }\r\n        if (!permissionsLoading && !groupPerLoading && !updateLoading && !userLoading) {\r\n            setLoading(false);\r\n        }\r\n    }, [permissionsLoading, groupPerLoading, updateLoading, userLoading])\r\n\r\n    const columns = [\r\n        {\r\n            key: 'name',\r\n            title: 'Нэр',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            key: 'add',\r\n            title: 'Нэмэх',\r\n            dataIndex: 'add',\r\n            render: (_, elm) => (\r\n                elm.add && (\r\n                    <Checkbox \r\n                        onChange={e => onChange(e, `add_${elm.codeName}`)} \r\n                        checked={checkPermission(`add_${elm.codeName}`).isChecked} \r\n                        disabled={checkPermission(`add_${elm.codeName}`).isDisabled} \r\n                    />\r\n                )\r\n            )\r\n        },\r\n        {\r\n            key: 'change',\r\n            title: 'Засах',\r\n            dataIndex: 'change',\r\n            render: (_, elm) => (\r\n                elm.change && (\r\n                    <Checkbox \r\n                        onChange={e => onChange(e, `change_${elm.codeName}`)} \r\n                        checked={checkPermission(`change_${elm.codeName}`).isChecked} \r\n                        disabled={checkPermission(`change_${elm.codeName}`).isDisabled} \r\n                    />\r\n                )\r\n            )\r\n        },\r\n        {\r\n            key: 'delete',\r\n            title: 'Устгах',\r\n            dataIndex: 'delete',\r\n            render: (_, elm) => (\r\n                elm.delete && (\r\n                    <Checkbox \r\n                        onChange={e => onChange(e, `delete_${elm.codeName}`)} \r\n                        checked={checkPermission(`delete_${elm.codeName}`).isChecked} \r\n                        disabled={checkPermission(`delete_${elm.codeName}`).isDisabled} \r\n                    />\r\n                )\r\n            )\r\n        },\r\n        {\r\n            key: 'view',\r\n            title: 'Харах',\r\n            dataIndex: 'view',\r\n            render: (_, elm) => (\r\n                elm.view && (\r\n                    <Checkbox \r\n                        onChange={e => onChange(e, `view_${elm.codeName}`)} \r\n                        checked={checkPermission(`view_${elm.codeName}`).isChecked} \r\n                        disabled={checkPermission(`view_${elm.codeName}`).isDisabled} \r\n                    />\r\n                )\r\n            )\r\n        },\r\n    ]\r\n\r\n    const onChange = (e, codename) => {\r\n        update({ variables: { action: e.target.checked, codename: codename, teacherCode: location.state.teacherCode } });\r\n    }\r\n\r\n    const checkPermission = (codename) => {\r\n        const isDisabled = groupPer.some(function(el) {\r\n            return el.codename === codename;\r\n        })\r\n        const isChecked = userPer.some(function(el) {\r\n            return el.codename === codename;\r\n        });\r\n        return (\r\n            {\r\n                isDisabled: isDisabled,\r\n                isChecked: isDisabled ? isDisabled : isChecked\r\n            }\r\n        )\r\n    }\r\n    \r\n    if (!location.state) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <Table \r\n            list={list} \r\n            columns={columns} \r\n            loading={loading}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Index;","// This icon file is generated automatically.\nvar DownOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z\" } }] }, \"name\": \"down\", \"theme\": \"outlined\" };\nexport default DownOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DownOutlinedSvg from \"@ant-design/icons-svg/es/asn/DownOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar DownOutlined = function DownOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DownOutlinedSvg\n  }));\n};\nDownOutlined.displayName = 'DownOutlined';\nexport default /*#__PURE__*/React.forwardRef(DownOutlined);","// This icon file is generated automatically.\nvar RollbackOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z\" } }] }, \"name\": \"rollback\", \"theme\": \"outlined\" };\nexport default RollbackOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RollbackOutlinedSvg from \"@ant-design/icons-svg/es/asn/RollbackOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar RollbackOutlined = function RollbackOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: RollbackOutlinedSvg\n  }));\n};\nRollbackOutlined.displayName = 'RollbackOutlined';\nexport default /*#__PURE__*/React.forwardRef(RollbackOutlined);","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default function useForceUpdate() {\n  var _React$useReducer = React.useReducer(function (x) {\n    return x + 1;\n  }, 0),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      forceUpdate = _React$useReducer2[1];\n\n  return forceUpdate;\n}","/* eslint-disable no-param-reassign */\nvar cached;\nexport default function getScrollBarSize(fresh) {\n  if (typeof document === 'undefined') {\n    return 0;\n  }\n  if (fresh || cached === undefined) {\n    var inner = document.createElement('div');\n    inner.style.width = '100%';\n    inner.style.height = '200px';\n    var outer = document.createElement('div');\n    var outerStyle = outer.style;\n    outerStyle.position = 'absolute';\n    outerStyle.top = '0';\n    outerStyle.left = '0';\n    outerStyle.pointerEvents = 'none';\n    outerStyle.visibility = 'hidden';\n    outerStyle.width = '200px';\n    outerStyle.height = '150px';\n    outerStyle.overflow = 'hidden';\n    outer.appendChild(inner);\n    document.body.appendChild(outer);\n    var widthContained = inner.offsetWidth;\n    outer.style.overflow = 'scroll';\n    var widthScroll = inner.offsetWidth;\n    if (widthContained === widthScroll) {\n      widthScroll = outer.clientWidth;\n    }\n    document.body.removeChild(outer);\n    cached = widthContained - widthScroll;\n  }\n  return cached;\n}\nfunction ensureSize(str) {\n  var match = str.match(/^(.*)px$/);\n  var value = Number(match === null || match === void 0 ? void 0 : match[1]);\n  return Number.isNaN(value) ? getScrollBarSize() : value;\n}\nexport function getTargetScrollBarSize(target) {\n  if (typeof document === 'undefined' || !target || !(target instanceof Element)) {\n    return {\n      width: 0,\n      height: 0\n    };\n  }\n  var _getComputedStyle = getComputedStyle(target, '::-webkit-scrollbar'),\n    width = _getComputedStyle.width,\n    height = _getComputedStyle.height;\n  return {\n    width: ensureSize(width),\n    height: ensureSize(height)\n  };\n}","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { DocumentNode } from 'graphql';\nimport { TypedDocumentNode } from '@graphql-typed-document-node/core';\nimport {\n  MutationFunctionOptions,\n  MutationHookOptions,\n  MutationResult,\n  MutationTuple,\n} from '../types/types';\n\nimport {\n  ApolloCache,\n  DefaultContext,\n  mergeOptions,\n  OperationVariables,\n} from '../../core';\nimport { equal } from '@wry/equality';\nimport { DocumentType, verifyDocumentType } from '../parser';\nimport { ApolloError } from '../../errors';\nimport { useApolloClient } from './useApolloClient';\n\nexport function useMutation<\n  TData = any,\n  TVariables = OperationVariables,\n  TContext = DefaultContext,\n  TCache extends ApolloCache<any> = ApolloCache<any>,\n>(\n  mutation: DocumentNode | TypedDocumentNode<TData, TVariables>,\n  options?: MutationHookOptions<TData, TVariables, TContext, TCache>,\n): MutationTuple<TData, TVariables, TContext, TCache> {\n  const client = useApolloClient(options?.client);\n  verifyDocumentType(mutation, DocumentType.Mutation);\n  const [result, setResult] = useState<Omit<MutationResult, 'reset'>>({\n    called: false,\n    loading: false,\n    client,\n  });\n\n  const ref = useRef({\n    result,\n    mutationId: 0,\n    isMounted: true,\n    client,\n    mutation,\n    options,\n  });\n\n  // TODO: Trying to assign these in a useEffect or useLayoutEffect breaks\n  // higher-order components.\n  {\n    Object.assign(ref.current, { client, options, mutation });\n  }\n\n  const execute = useCallback((\n    executeOptions: MutationFunctionOptions<\n      TData,\n      TVariables,\n      TContext,\n      TCache\n    > = {}\n  ) => {\n    const {client, options, mutation} = ref.current;\n    const baseOptions = { ...options, mutation };\n    if (!ref.current.result.loading && !baseOptions.ignoreResults && ref.current.isMounted) {\n      setResult(ref.current.result = {\n        loading: true,\n        error: void 0,\n        data: void 0,\n        called: true,\n        client,\n      });\n    }\n\n    const mutationId = ++ref.current.mutationId;\n    const clientOptions = mergeOptions(\n      baseOptions,\n      executeOptions as any,\n    );\n\n    return client.mutate(clientOptions).then((response) => {\n      const { data, errors } = response;\n      const error =\n        errors && errors.length > 0\n          ? new ApolloError({ graphQLErrors: errors })\n          : void 0;\n\n      if (\n        mutationId === ref.current.mutationId &&\n        !clientOptions.ignoreResults\n      ) {\n        const result = {\n          called: true,\n          loading: false,\n          data,\n          error,\n          client,\n        };\n\n        if (ref.current.isMounted && !equal(ref.current.result, result)) {\n          setResult(ref.current.result = result);\n        }\n      }\n      ref.current.options?.onCompleted?.(response.data!, clientOptions);\n      executeOptions.onCompleted?.(response.data!, clientOptions);\n      return response;\n    }).catch((error) => {\n      if (\n        mutationId === ref.current.mutationId &&\n        ref.current.isMounted\n      ) {\n        const result = {\n          loading: false,\n          error,\n          data: void 0,\n          called: true,\n          client,\n        };\n\n        if (!equal(ref.current.result, result)) {\n          setResult(ref.current.result = result);\n        }\n      }\n\n      if (ref.current.options?.onError || clientOptions.onError) {\n        ref.current.options?.onError?.(error, clientOptions);\n        executeOptions.onError?.(error, clientOptions);\n        // TODO(brian): why are we returning this here???\n        return { data: void 0, errors: error };\n      }\n\n      throw error;\n    });\n  }, []);\n\n  const reset = useCallback(() => {\n    if (ref.current.isMounted) {\n      setResult({ called: false, loading: false, client });\n    }\n  }, []);\n\n  useEffect(() => {\n    ref.current.isMounted = true;\n\n    return () => {\n      ref.current.isMounted = false;\n    };\n  }, []);\n\n  return [execute, { reset, ...result }];\n}\n"],"names":["Flex","props","children","className","alignItems","justifyContent","mobileFlex","flexDirection","defaultProps","loading","columns","list","history","useHistory","onClick","goBack","type","icon","RollbackOutlined","block","IntlMessage","id","pagination","size","dataSource","rowKey","bordered","location","useLocation","useState","setList","groupPer","setGroupPer","setLoading","userPer","setUserPer","permissionsLoading","useQuery","PERMISSIONS","onCompleted","data","permissions","useLazyQuery","GROUP_PERMISSION","fetchPolicy","groupPermissions","fetchGroup","groupPerLoading","USER_PERMISSION","onError","error","customUserPermissions","fetchUserPer","userLoading","userRefetch","refetch","useMutation","UPDATE_TEACHER_PERMISSION","message","update","updateLoading","useEffect","state","variables","userId","user","key","title","dataIndex","render","_","elm","add","onChange","e","codeName","checked","checkPermission","isChecked","disabled","isDisabled","change","delete","view","codename","action","target","teacherCode","some","el","DownOutlined","ref","React","AntdIcon","_objectSpread","DownOutlinedSvg","displayName","RollbackOutlinedSvg","useForceUpdate","_React$useReducer","x","_slicedToArray","cached","getScrollBarSize","fresh","document","undefined","inner","createElement","style","width","height","outer","outerStyle","position","top","left","pointerEvents","visibility","overflow","appendChild","body","widthContained","offsetWidth","widthScroll","clientWidth","removeChild","ensureSize","str","match","value","Number","isNaN","getTargetScrollBarSize","Element","_getComputedStyle","getComputedStyle","mutation","options","client","useApolloClient","verifyDocumentType","DocumentType","called","result","setResult","useRef","mutationId","isMounted","Object","assign","current","execute","useCallback","executeOptions","baseOptions","ignoreResults","clientOptions","mergeOptions","mutate","then","response","errors","length","ApolloError","graphQLErrors","result_1","equal","catch","result_2","reset"],"sourceRoot":""}