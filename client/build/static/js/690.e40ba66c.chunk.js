"use strict";(self.webpackChunkmkp=self.webpackChunkmkp||[]).push([[690],{90690:function(e,t,o){o.r(t),o.d(t,{DefaultDashboard:function(){return z},default:function(){return S}});var n=o(93433),r=o(29439),i=o(30168),s=o(72791),a=o(58361),l=o(2703),c=o(80184),d=function(e){var t=e.title,o=e.value,n=e.Svg;e.colorType;return(0,c.jsxs)("div",{className:(0,l.AK)("flex justify-between items-center bg-gradient-to-r from-mkp-2-400 to-mkp-2 rounded-2 "),children:[(0,c.jsxs)("div",{className:"p-4",children:[(0,c.jsx)("h4",{className:"mb-0 font-bold text-white",children:t}),(0,c.jsx)("h1",{className:"mb-0 font-bold text-white",children:o})]}),(0,c.jsx)("div",{children:(0,c.jsx)(n,{className:"h-24 w-24 fill-white opacity-20 pr-2"})})]})},u=o(1413),h=o(66871),f=o(13496),g=["#3e82f7","#04d182","#ff6b72","#ffc107","#a461d8","#fa8c16","#17bcff"],p={chart:{zoom:{enabled:!1},toolbar:{show:!1}},colors:[].concat(g),dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},legend:{position:"top",horizontalAlign:"right",offsetY:-15,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}},x=(0,u.Z)({},p),v={chart:{zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25px",startingShapre:"rounded",endingShape:"rounded"}},colors:[].concat(g),dataLabels:{enabled:!1},stroke:{show:!0,width:6,curve:"smooth",colors:["transparent"]},legend:{position:"top",horizontalAlign:"right",offsetY:-15,inverseOrder:!0,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"".concat(e)}}}},m=([].concat(g),o(86307)),b=o(6443),j={position:"absolute",zIndex:"1"},y={position:"absolute",zIndex:"1",right:"0",top:"-2px"},w=function(e){var t=e.title,o=e.series,n=e.width,r=e.height,i=e.xAxis,a=e.customOptions,l=e.card,d=e.type,g=e.extra,w=e.direction,C=e.bodyClass,Z=function(e){switch(e){case"line":default:return p;case"bar":return v;case"area":return x}}(d),k=window.innerWidth<768,F=function(){if(A.current){var e,t=A.current.querySelectorAll("div.apexcharts-legend")[0];t.style.marginRight="".concat(k?0:null===(e=N.current)||void 0===e?void 0:e.offsetWidth,"px"),w===b.hn&&(t.style.right="auto",t.style.left="0"),k&&(t.style.position="relative",t.style.top=0,t.style.justifyContent="start",t.style.padding=0)}};(0,s.useEffect)((function(){F()}),[]);var N=(0,s.useRef)(null),A=(0,s.useRef)();Z.xaxis.categories=i,a&&(Z=(0,u.Z)((0,u.Z)({},Z),a));var D=function(){return(0,c.jsx)(m.ZP,{onResize:void setTimeout((function(){F()}),600),children:(0,c.jsx)("div",{style:w===b.hn?{direction:"ltr"}:{},className:"chartRef",ref:A,children:(0,c.jsx)(f.Z,{options:Z,type:d,series:o,width:n,height:r})})})};return(0,c.jsx)(c.Fragment,{children:l?(0,c.jsx)(h.Z,{children:(0,c.jsxs)("div",{className:"position-relative ".concat(C),children:[(0,c.jsx)("div",{style:k?{}:j,children:t})&&(0,c.jsx)("h4",{className:"font-weight-bold",style:k?{}:j,children:t}),g&&(0,c.jsx)("div",{ref:N,style:k?{}:y,children:g}),D()]})}):D()})};w.defaultProps={series:[],height:300,width:"100%",card:!0,type:"line"};var C,Z=w,k=o(64880),F=o(27570),N=o(96578),A=o(82630),D=o(17734),T=(0,F.Ps)(C||(C=(0,i.Z)(["\n    query dashboard {\n        dashboard {\n            studentCount\n            teacherCount\n            parentCount\n            subjectCount\n            onlineLessonCount\n            logins {\n                loginDate\n                loginCount\n            }\n        }\n    }\n"]))),z=function(){var e=(0,s.useState)([]),t=(0,r.Z)(e,2),o=t[0],i=t[1],l=(0,s.useState)([]),u=(0,r.Z)(l,2),h=u[0],f=u[1],g=(0,s.useState)([]),p=(0,r.Z)(g,2),x=p[0],v=p[1],m=(0,N.a)(T,{onCompleted:function(e){i([{title:(0,c.jsx)(A.Z,{id:"student-registration"}),value:e.dashboard.studentCount,svg:D.mt,color1:"#C67BFC",color2:"#5971FF",colorType:1},{title:(0,c.jsx)(A.Z,{id:"teacher-registration"}),value:e.dashboard.teacherCount,svg:D.TO,color:"rgba(159, 177, 183, .1)",color1:"#727DFD",color2:"#33A1EE",colorType:2},{title:(0,c.jsx)(A.Z,{id:"subject-registration"}),value:e.dashboard.subjectCount,svg:D.Ek,color:"rgba(159, 177, 183, .1)",color1:"#E7687F",color2:"#F29A5F",colorType:3},{title:(0,c.jsx)(A.Z,{id:"online-lesson-registration"}),value:e.dashboard.onlineLessonCount,svg:D.pQ,color:"rgba(159, 177, 183, .1)",color1:"#43D49B",color2:"#9ADD68",colorType:4}]);var t=e.dashboard.logins.map((function(e){return v((function(t){return[].concat((0,n.Z)(t),[e.loginDate])})),e.loginCount}));f([{name:"\u041d\u044d\u0432\u0442\u044d\u0440\u0441\u044d\u043d \u0442\u043e\u043e",data:t}])}}).loading;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(a.Z,{loading:m,active:!0,rows:6,children:[(0,c.jsx)("div",{className:"mb-4 grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:null===o||void 0===o?void 0:o.map((function(e,t){return(0,c.jsx)(d,{color:e.color,title:e.title,value:e.value,Svg:e.svg,colorType:e.colorType,color1:e.color1,color2:e.color2},t)}))}),(0,c.jsx)(Z,{title:(0,c.jsx)(A.Z,{id:"main.site_status"}),series:h,xAxis:x,className:"h-2/3",customOptions:{colors:["#009A8E"]}})]})})},S=(0,k.EN)(z)}}]);
//# sourceMappingURL=690.e40ba66c.chunk.js.map