"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[5482],{49696:function(n,e,t){var i=t(29439),a=t(72791),r=t(20003),o=t(80184),s=(0,a.forwardRef)((function(n,e){var t,s=n.children,d=n.title,l=n.footer,u=n.formName,m=void 0===u?"form":u,c=n.forceRender,f=void 0!==c&&c,y=(0,a.useState)(!1),p=(0,i.Z)(y,2),$=p[0],g=p[1];return(0,a.useImperativeHandle)(e,(function(){return{handleOpen:function(){g(!0)},handleCancel:function(){g(!1)}}})),(0,o.jsx)(r.Z,{width:1e3,title:d,visible:$,onCancel:null===(t=e.current)||void 0===t?void 0:t.handleCancel,okText:"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445",footer:l,cancelText:"\u0411\u043e\u043b\u0438\u0445",forceRender:f,okButtonProps:{form:m,key:"submit",htmlType:"submit"},children:s})}));e.Z=s},41920:function(n,e,t){t.d(e,{$_:function(){return U},Be:function(){return X},Dp:function(){return L},Fm:function(){return W},J7:function(){return _},Ko:function(){return nn},MA:function(){return k},NC:function(){return z},O8:function(){return V},Vr:function(){return w},YP:function(){return Y},YV:function(){return K},gw:function(){return A},nS:function(){return H},nh:function(){return Q},oj:function(){return T},pQ:function(){return O},q:function(){return en},r1:function(){return G},tz:function(){return R},vh:function(){return J},vp:function(){return B}});var i,a,r,o,s,d,l,u,m,c,f,y,p,$,g,h,Z,P,x,D,S,j,M,v,I,F,q,C,b,N=t(30168),E=t(27570),T=((0,E.Ps)(i||(i=(0,N.Z)(["\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            school {\n                id\n                name\n            }\n            subSchool {\n                id\n                name\n            }\n            subject \n            credit\n            content\n            createUserid{\n                teacher{\n                    familyName\n                    name\n                }\n            }\n        }\n    }\n"]))),(0,E.Ps)(a||(a=(0,N.Z)(["\n    query allSubjectsPagination ($page: Int!, $perPage: Int!, $filter: String) {\n        allSubjectsPagination (page: $page, perPage: $perPage, filter: $filter) {\n            page\n            perPage\n            pageCount\n            totalCount\n            records {\n                id\n                school {\n                    id\n                    name\n                }\n                subSchool {\n                    id\n                    name\n                }\n                subject \n                credit\n                content\n                createUserid{\n                    teacher{\n                        familyName\n                        name\n                    }\n                }\n            }\n        }\n    }\n"])))),A=((0,E.Ps)(r||(r=(0,N.Z)(["\n    query allTeacherStatuss {\n        allTeacherStatuss {\n            id\n            name\n        }\n    }\n"]))),(0,E.Ps)(o||(o=(0,N.Z)(["\n    query allStudentStatuss {\n        allStudentStatuss {\n            id\n            name\n        }\n    }\n"]))),(0,E.Ps)(s||(s=(0,N.Z)(["\n    query allStudentStatusExtras {\n        allStudentStatusExtras {\n            id\n            name\n        }\n    }\n"]))),(0,E.Ps)(d||(d=(0,N.Z)(["\n    query allUsers {\n        allUsers {\n            id\n            username\n            email\n        }\n    }\n"])))),B=((0,E.Ps)(l||(l=(0,N.Z)(["\n    query userByUsername($username: String!) {\n        userByUsername(username: $username) {\n            id\n            username\n        }\n    }\n"]))),(0,E.Ps)(u||(u=(0,N.Z)(["\n    query employeesAttandanceByRange ($startDate: DateTime!, $endDate: DateTime!) {\n        employeesAttandanceByRange (startDate: $startDate, endDate: $endDate) {\n            id\n            isIn\n            isOut\n            timeIn\n            timeOut\n            user {\n                id\n                isTeacher\n                isEmployee\n                teacher {\n                    familyName\n                    name\n                    teacherCode\n                }\n                employee {\n                    familyName\n                    name\n                    employeeCode\n                }\n                groups {\n                    name\n                }\n            }\n        }\n    }\n"])))),k=((0,E.Ps)(m||(m=(0,N.Z)(["\n    query allAttendaceEmployees {\n        allAttendaceEmployees {\n            username\n            email\n            isTeacher\n            isEmployee\n            teacher {\n                teacherCode\n                familyName\n                name\n            }\n            employee {\n                employeeCode\n                familyName\n                name\n            }\n        }\n    }\n"]))),(0,E.Ps)(c||(c=(0,N.Z)(["\n    query allEmployeesCompartment {\n        allEmployeesCompartment {\n            id\n            name\n        }\n    }\n"])))),w=(0,E.Ps)(f||(f=(0,N.Z)(["\n    query allEmployees ($filter: String) {\n        allEmployees (filter: $filter) {\n            id\n            user {\n                id\n                username\n                email\n                groups {\n                    name\n                }\n            }\n            compartment {\n                id\n                name\n            }\n            employeeCode\n            familyName\n            name\n            registerNo\n            photo\n            phone\n            phone2\n            address\n            sex\n            birthdate\n            birthCity {\n                id\n            }\n            birthDistrict {\n                id\n            }\n            status {\n                id\n            }\n        }\n    }\n"]))),O=(0,E.Ps)(y||(y=(0,N.Z)(["\n  \tquery allTeachers ($offset: Int!, $limit: Int!, $filter: String) {\n        allTeachers (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            user {\n                id\n                username\n                email\n            }\n            teacherCode\n            degree{\n                id\n            }\n            access\n            familyName\n            name\n            registerNo\n            photo\n            phone\n            phone2\n            address\n            joinDate\n            joinBefore\n            sex\n            birthdate\n            birthCity {\n                id\n                name\n            }\n            birthDistrict {\n                id\n                name\n            }\n            status {\n                id\n                name\n            }\n            school {\n                id\n                name\n            }\n            subSchool {\n                id\n                name\n            }\n        }\n\t}\n"]))),R=(0,E.Ps)(p||(p=(0,N.Z)(["\n  \tquery allStudents ($filter: String, $program: Int, $classes: Int, $section: Int) {\n        allStudents (filter: $filter, program: $program, classes: $classes, section: $section) {\n            id\n            user {\n                id\n                username\n                email\n            }\n            studentCode\n            surname\n            familyName\n            name\n            religion\n            registerNo\n            nationality\n            state\n            photo\n            phone\n            address\n            activity {\n                id\n                name\n            }\n            joinDate\n            sex\n            birthdate\n            classtime {\n                id\n                name\n            }\n            birthCity {\n                id\n                name\n            }\n            birthDistrict {\n                id\n                name\n            }\n            status {\n                id\n                name\n            }\n            statusExtra {\n                id\n                name\n            }\n            school {\n                id\n                name\n            }\n            classes {\n                id\n                classes\n            }\n            section {\n                id\n                section\n            }\n            program {\n                id\n                program\n            }\n            joinSchoolyear {\n                id\n                schoolyear\n            }\n        }\n    }\n"]))),U=(0,E.Ps)($||($=(0,N.Z)(["\n  \tquery allCitys{\n        allCitys {\n            id\n            name\n            code\n        }\n\t}\n"]))),z=(0,E.Ps)(g||(g=(0,N.Z)(["\n    query allDistricts {\n        allDistricts {\n            id\n            code\n            name\n            cityID {\n                id\n                name\n            }\n        }\n    }\n"]))),Y=(0,E.Ps)(h||(h=(0,N.Z)(["\n  \tquery allPrograms{\n        allPrograms {\n            id\n            program\n            programMgl\n            maxStudentNum\n            school {\n                id\n                name\n            }\n            subSchool {\n                id\n                name\n            }\n            status\n            createdAt\n            updatedAt\n        }\n\t  }\n"]))),W=(0,E.Ps)(Z||(Z=(0,N.Z)(["\n  \tquery allSchools {\n        allSchools {\n            id\n            name\n            nameMgl\n        }\n\t}\n"]))),V=(0,E.Ps)(P||(P=(0,N.Z)(["\n  \tquery allSubSchools{\n        allSubSchools {\n            id\n            name\n            nameMgl\n            school {\n                id\n                name\n            }\n\t\t}\n\t}\n"]))),_=(0,E.Ps)(x||(x=(0,N.Z)(["\n    query allSections {\n        allSections {\n            id\n            section\n            classes {\n                id\n                classes\n            }\n            program {\n                id\n                program\n            }\n            teacher{\n                id\n            }\n            program {\n                id\n                program\n            }\n            subSchool {\n                id\n                name\n            }\n            school {\n                id\n                name\n            }\n            createdAt\n            updatedAt\n        }\n    }\n"]))),G=(0,E.Ps)(D||(D=(0,N.Z)(["\n    query allClassess ($program: Int!, $offset: Int!, $limit: Int!, $filter: String) {\n        allClassess (program: $program, offset: $offset, limit: $limit, filter: $filter) {\n            id\n            classes\n            activity {\n                id\n                name\n            }\n            program {\n                id\n                program\n            }\n            school {\n                id\n                name\n            }\n            status\n        }\n    }\n"]))),K=(0,E.Ps)(S||(S=(0,N.Z)(["\n    query allClasstimes {\n        allClasstimes {\n            id\n            name\n        }\n    }\n"]))),Q=(0,E.Ps)(j||(j=(0,N.Z)(["\n    query allSchoolyears {\n        allSchoolyears {\n            id\n            schoolyear\n        }\n    }\n"]))),H=(0,E.Ps)(M||(M=(0,N.Z)(["\n    query allParents ($offset: Int!, $limit: Int!, $filter: String) {\n        allParents (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            familyName\n            name\n            profession\n            phone\n            address\n            student {\n                id\n                studentCode\n                familyName\n                name\n            }\n        }\n    }\n"]))),J=(0,E.Ps)(v||(v=(0,N.Z)(["\n    query sectionsByClasses ($classes: Int!) {\n        sectionsByClasses (classes: $classes) {\n            id\n            section\n            maxStudentNum\n            teacher{\n                name\n                id\n            }\n            classes {\n                id\n                classes\n            }\n            program {\n                id\n                program\n            }\n            school {\n                id\n                name\n            }\n        }\n    }\n"]))),L=(0,E.Ps)(I||(I=(0,N.Z)(["\n    query transfersByStudent ($student: Int!) {\n        transfersByStudent (student: $student) {\n            id\n            student {\n                familyName\n                name\n                photo\n                studentCode\n            }\n            school {\n                id\n                name\n            }\n            program {\n                id\n                program\n            }\n            classes {\n                id\n                classes\n            }\n            section {\n                id\n                section\n            }\n            status {\n                id\n                name\n            }\n            statusExtra {\n                id\n                name\n            }\n            classtime {\n                id\n                name\n            }\n            activity {\n                id\n                name\n            }\n            docDate\n            docNum\n            description\n            oldData\n        }\n    }\n"]))),X=(0,E.Ps)(F||(F=(0,N.Z)(["\n    query allEventTypes {\n        allEventTypes {\n            id\n            name\n            color\n        }\n    }\n"]))),nn=(0,E.Ps)(q||(q=(0,N.Z)(["\n    query allEvents {\n        allEvents {\n            id\n            title\n            description\n            content\n            startAt\n            endAt\n            eventType {\n                id\n                name\n                color\n            }\n        }\n    } \n"]))),en=(0,E.Ps)(C||(C=(0,N.Z)(["\n    query allEventsByDate ($date: Date) {\n        allEventsByDate (date: $date) {\n            id\n            title\n            description\n            content\n            startAt\n            endAt\n            eventType {\n                id\n                name\n                color\n            }\n        }\n    } \n"])));(0,E.Ps)(b||(b=(0,N.Z)(["\n    query allEventsByType ($id: Int!) {\n        allEventsByType (id: $id) {\n            id\n            title\n            description\n            content\n            startAt\n            endAt\n            eventType\n        }\n    }\n"])))},60083:function(n,e,t){t.d(e,{L$:function(){return F},Re:function(){return N},Wc:function(){return C},bO:function(){return T},ec:function(){return I},ou:function(){return E},p5:function(){return A},qW:function(){return B},rc:function(){return v},tx:function(){return S},vj:function(){return q},wz:function(){return M},xW:function(){return D},yW:function(){return j},z4:function(){return b}});var i,a,r,o,s,d,l,u,m,c,f,y,p,$,g,h,Z,P=t(30168),x=t(27570),D=(0,x.Ps)(i||(i=(0,P.Z)(["\n    query allFoodMenus ($filter: String) {\n        allFoodMenus (filter: $filter){\n            id\n            program {\n                id\n                program\n            }\n            name \n        }\n    }\n"]))),S=(0,x.Ps)(a||(a=(0,P.Z)(["\n    mutation createFoodMenu ($name: String, $program: ID){\n        createFoodMenu(name: $name, program: $program){\n            foodMenu{\n                id\n            }\n        }\n    }\n\n"]))),j=(0,x.Ps)(r||(r=(0,P.Z)(["\n    mutation updateFoodMenu ($id: ID, $name: String, $program: ID){\n        updateFoodMenu (id: $id, name: $name, program: $program){\n            foodMenu{\n                id\n            }\n        }\n    }\n"]))),M=(0,x.Ps)(o||(o=(0,P.Z)(["\n    mutation deleteFoodMenu ($id: ID){\n        deleteFoodMenu (id: $id){\n            foodMenu{\n                name\n            }\n        }\n    }\n"]))),v=(0,x.Ps)(s||(s=(0,P.Z)(["\n    query allFoods ($foodMenu: ID!) {\n        allFoods (foodMenu: $foodMenu){\n            id\n            name\n            ingredients\n        }\n    }\n"]))),I=(0,x.Ps)(d||(d=(0,P.Z)(["\n    mutation createFood ($foodMenu: ID, $ingredients: String, $name: String){\n        createFood (foodMenu: $foodMenu, ingredients: $ingredients, name: $name) {\n            food {\n                id\n            }\n        }\n    }\n"]))),F=(0,x.Ps)(l||(l=(0,P.Z)(["\n    mutation updateFood ($foodMenu: ID, $id: ID, $ingredients: String, $name: String){\n        updateFood (foodMenu: $foodMenu, id: $id, ingredients: $ingredients, name: $name){\n            food {\n                id\n            }\n        }\n    }\n"]))),q=(0,x.Ps)(u||(u=(0,P.Z)(["\n    mutation deleteFood ($id: ID){\n        deleteFood (id: $id){\n            food {\n                name\n            }\n        }\n    }\n"]))),C=(0,x.Ps)(m||(m=(0,P.Z)(["\n    query allDailyMenus {\n        allDailyMenus {\n            id\n            program {\n                program\n            }\n            name\n            createdAt\n        }\n    }\n"]))),b=(0,x.Ps)(c||(c=(0,P.Z)(["\n    mutation createDailyMenu ($name: String, $program: ID) {\n        createDailyMenu (name: $name, program: $program) {\n            dailyMenu {\n                id\n            }\n        }\n    }\n"]))),N=(0,x.Ps)(f||(f=(0,P.Z)(["\n    mutation deleteDailyMenu ($id: ID){\n        deleteDailyMenu (id: $id){\n            dailyMenu {\n                name\n            }\n        }\n    }\n"]))),E=(0,x.Ps)(y||(y=(0,P.Z)(["\n    query allDailyMenuFoods ($dailyMenu: ID!){\n        allDailyMenuFoods (dailyMenu: $dailyMenu){\n            id\n            food {\n                name\n                ingredients\n                foodfileSet {\n                    image\n                }\n            }\n        }\n    }\n"]))),T=((0,x.Ps)(p||(p=(0,P.Z)(["\n    query foodById ($id: ID!){\n        foodById (id: $id){\n            id\n        }\n    }\n"]))),(0,x.Ps)($||($=(0,P.Z)(["\n    query allFoodFilesByFood ($food: ID!){\n        allFoodFilesByFood (food: $food){\n            id\n            image\n        }\n    }\n"])))),A=(0,x.Ps)(g||(g=(0,P.Z)(["\n    mutation createFoodFile ($food: ID, $image: Upload!){\n        createFoodFile (food: $food, image: $image){\n            foodFile {\n                id\n            }\n        }\n    }\n"]))),B=((0,x.Ps)(h||(h=(0,P.Z)(["\n    mutation deleteFoodFile ($id: ID){\n        deleteFoodFile (id: $id){\n            foodFile {\n                image\n            }\n        }\n    }\n"]))),(0,x.Ps)(Z||(Z=(0,P.Z)(["\n    mutation createDailyMenuFood ($dailyMenu: ID, $food: ID) {\n        createDailyMenuFood (dailyMenu: $dailyMenu, food: $food) {\n            dailyMenuFood {\n                id\n            }\n        }\n    }\n"]))))},35482:function(n,e,t){t.r(e),t.d(e,{default:function(){return q}});var i=t(29439),a=t(72791),r=t(96578),o=t(84376),s=t(20003),d=t(50419),l=t(87309),u=t(66871),m=t(59432),c=t(77154),f=t(82464),y=t(31549),p=t(60083),$=t(91523),g=t(22949),h=t(73332),Z=t(37083),P=t(82630),x=t(41920),D=t(80184),S=g.Z.Option;var j=function(n){var e=n.closeModal,t=(n.selectedData,h.Z.useForm()),a=(0,i.Z)(t,1)[0],s=(0,o.D)(p.z4,{refetchQueries:[p.Wc],onCompleted:function(n){e(),d.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430")}}),l=(0,i.Z)(s,2),u=l[0],m=l[1].loading,c=(0,r.a)(x.YP).data;return(0,D.jsx)(Z.Z,{spinning:m,tip:"\u0410\u0447\u0430\u0430\u043b\u043b\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",children:(0,D.jsxs)(h.Z,{id:"form",layout:"vertical",form:a,name:"form",onFinish:function(n){u({variables:n})},children:[(0,D.jsx)(h.Z.Item,{name:"name",label:(0,D.jsx)(P.Z,{id:"name"}),rules:[{required:!0,message:(0,D.jsx)(P.Z,{id:"form.required"})}],children:(0,D.jsxs)(g.Z,{children:[(0,D.jsx)(S,{value:"MORNING",children:"\u04e8\u0433\u043b\u04e9\u04e9"}),(0,D.jsx)(S,{value:"AFTERNOON",children:"\u04e8\u0434\u04e9\u0440"}),(0,D.jsx)(S,{value:"EVENING",children:"\u041e\u0440\u043e\u0439"})]})}),(0,D.jsx)(h.Z.Item,{name:"program",label:(0,D.jsx)(P.Z,{id:"program"}),rules:[{required:!0,message:(0,D.jsx)(P.Z,{id:"form.required"})}],children:(0,D.jsx)(g.Z,{children:null===c||void 0===c?void 0:c.allPrograms.map((function(n,e){return(0,D.jsx)(S,{value:n.id,children:n.program},e)}))})})]})})},M=t(49696),v=t(72426),I=t.n(v),F=t(59288),q=function(){var n=s.Z.confirm,e=(0,r.a)(p.Wc),t=e.data,g=e.refetch,h=e.loading,Z=(0,o.D)(p.Re,{onCompleted:function(n){g(),d.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430")}}),x=(0,i.Z)(Z,1)[0],S=(0,a.useRef)(),v=(0,F.C)("delete_dailymenu");var q=[{key:"name",title:(0,D.jsx)(P.Z,{id:"name"}),dataIndex:"name",render:function(n){return(0,D.jsx)("span",{children:(0,D.jsx)(P.Z,{id:n})})}},{key:"createdAt",title:(0,D.jsx)(P.Z,{id:"date"}),dataIndex:"createdAt",render:function(n){return(0,D.jsx)("span",{children:I()(n).format("YYYY-MM-DD")})}},{key:"actions",title:(0,D.jsx)(P.Z,{id:"main.action"}),width:"15vw",dataIndex:"actions",render:function(e,t){return(0,D.jsxs)("div",{className:"text-center",children:[(0,D.jsx)($.rU,{to:"food/".concat(t.id),children:(0,D.jsxs)(l.Z,{size:"small",type:"text",icon:(0,D.jsx)(c.Z,{}),children:[" ",(0,D.jsx)(P.Z,{id:"show"})]})}),!0===v&&(0,D.jsxs)(l.Z,{size:"small",onClick:function(){return e=t,void n({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){x({variables:{id:e}})}});var e},type:"text",icon:(0,D.jsx)(f.Z,{twoToneColor:"#f42f2f"}),children:[" ",(0,D.jsx)(P.Z,{id:"delete"})]})]})}}];return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(M.Z,{ref:S,children:(0,D.jsx)(j,{closeModal:function(){S.current.handleCancel()}})}),(0,D.jsx)("div",{className:"flex justify-end",children:(0,D.jsxs)(l.Z,{onClick:function(){S.current.handleOpen()},type:"primary",icon:(0,D.jsx)(y.Z,{}),children:[" ",(0,D.jsx)(P.Z,{id:"add_new"})," "]})}),(0,D.jsx)(u.Z,{children:(0,D.jsx)(m.Z,{columns:q,rowKey:function(n){return n.id},size:"small",bordered:!0,dataSource:null===t||void 0===t?void 0:t.allDailyMenus,loading:h})})]})}}}]);
//# sourceMappingURL=5482.fb99d78f.chunk.js.map