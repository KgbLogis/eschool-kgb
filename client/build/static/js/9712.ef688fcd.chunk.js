"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[9712],{68470:function(n,e,t){t(72791);var i=t(80184),l=function(n){var e=n.children,t=n.className,l=n.alignItems,s=n.justifyContent,o=n.mobileFlex,r=n.flexDirection;return(0,i.jsx)("div",{className:"".concat(o?"d-flex":"d-md-flex"," ").concat(t," ").concat(r?"flex-"+r:""," ").concat(l?"align-items-"+l:""," ").concat(s?"justify-content-"+s:""),children:e})};l.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},e.Z=l},42086:function(n,e,t){var i=t(29439),l=t(72791),s=t(96578),o=t(86586),r=t(22949),a=t(73332),d=t(58361),u=t(66106),c=t(30914),m=t(66871),f=t(69421),$=t(87309),Z=t(82630),p=t(68694),g=t(38937),x=t(80184),y=r.Z.Option;e.Z=function(n){var e=n.submitData,t=n.mutationData,S=n.loading,h=a.Z.useForm(),b=(0,i.Z)(h,1)[0],j=a.Z.useForm(),P=(0,i.Z)(j,1)[0],I=(0,l.useState)([]),F=(0,i.Z)(I,2),O=F[0],C=F[1],L=(0,l.useState)([]),v=(0,i.Z)(L,2),N=v[0],T=v[1],q=(0,l.useState)([]),k=(0,i.Z)(q,2),D=k[0],w=k[1],B=(0,s.a)(p.dT,{onCompleted:function(n){C(n.allPrograms)}}).loading,E=(0,o.t)(p.tL,{onCompleted:function(n){T(n.sectionsByProgram)}}),A=(0,i.Z)(E,2),U=A[0],M=A[1].loading,_=(0,o.t)(p.JX,{onCompleted:function(n){w(n.allStudents)}}),H=(0,i.Z)(_,2),R=H[0],X=H[1].loading,z=function(n){n.hasOwnProperty("studentCode")?n.section=0:n.studentCode="";var i=Object.assign(n,t);e({variables:i})};return(0,x.jsx)(d.Z,{active:!0,loading:B,children:(0,x.jsxs)(u.Z,{gutter:16,children:[(0,x.jsx)(c.Z,{xs:24,xl:12,children:(0,x.jsx)(m.Z,{className:"mt-4",title:(0,x.jsx)(Z.Z,{id:"by-section"}),children:(0,x.jsxs)(a.Z,{id:"section",layout:"vertical",form:b,name:"control-hooks",onFinish:z,children:[(0,x.jsx)(a.Z.Item,{name:"program",label:(0,x.jsx)(Z.Z,{id:"program"}),rules:[{required:!0,message:(0,x.jsx)(Z.Z,{id:"form.required"})}],children:(0,x.jsx)(r.Z,{onSelect:function(n){b.setFieldsValue({section:""}),U({variables:{program:n}})},allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(n,e){return e.children.toString().toLowerCase().indexOf(n.toLowerCase())>=0},children:O.map((function(n,e){return(0,x.jsxs)(y,{value:n.id,children:[n.program," / ",n.programNumeric]},e)}))})}),(0,x.jsx)(a.Z.Item,{name:"section",label:(0,x.jsx)(Z.Z,{id:"section"}),rules:[{required:!0,message:(0,x.jsx)(Z.Z,{id:"form.required"})}],children:(0,x.jsx)(r.Z,{allowClear:!0,notFoundContent:M?(0,x.jsx)(g.Z,{cover:"content"}):(0,x.jsx)(f.Z,{image:f.Z.PRESENTED_IMAGE_SIMPLE}),children:N.map((function(n,e){return(0,x.jsxs)(y,{value:n.id,children:[n.classes.classes," / ",n.section]},e)}))})}),(0,x.jsx)(a.Z.Item,{className:"text-right",children:(0,x.jsx)($.Z,{className:"mr-2",type:"primary",htmlType:"submit",loading:S,children:(0,x.jsx)(Z.Z,{id:"main.okText"})})})]})})}),(0,x.jsx)(c.Z,{xs:24,xl:12,children:(0,x.jsx)(m.Z,{className:"mt-4",title:(0,x.jsx)(Z.Z,{id:"by-student-code"}),children:(0,x.jsxs)(a.Z,{id:"student",layout:"vertical",form:P,name:"control-hooks",onFinish:z,children:[(0,x.jsx)(a.Z.Item,{name:"studentCode",label:(0,x.jsx)(Z.Z,{id:"studentCode"}),rules:[{required:!0,message:(0,x.jsx)(Z.Z,{id:"form.required"})}],children:(0,x.jsx)(r.Z,{showSearch:!0,filterOption:!1,notFoundContent:X?(0,x.jsx)(g.Z,{cover:"content"}):(0,x.jsx)(f.Z,{image:f.Z.PRESENTED_IMAGE_SIMPLE}),onSearch:function(n){""===n?w([]):R({variables:{offset:0,limit:99999999,filter:n}})},children:D.map((function(n,e){return(0,x.jsxs)(y,{value:n.studentCode,children:[" ",n.familyName," ",n.name," / ",n.studentCode]},e)}))})}),(0,x.jsx)(a.Z.Item,{className:"text-right",children:(0,x.jsx)($.Z,{className:"mr-2",type:"primary",htmlType:"submit",loading:S,children:(0,x.jsx)(Z.Z,{id:"main.okText"})})})]})})})]})})}},25566:function(n,e,t){t.d(e,{$A:function(){return V},Ap:function(){return k},Ho:function(){return X},K_:function(){return _},ND:function(){return z},S8:function(){return J},U7:function(){return D},Vv:function(){return B},bb:function(){return N},ds:function(){return U},eX:function(){return E},iZ:function(){return H},j$:function(){return A},kZ:function(){return w},mq:function(){return q},oJ:function(){return R},q$:function(){return L},sZ:function(){return C},u$:function(){return T},vX:function(){return M},zN:function(){return v}});var i,l,s,o,r,a,d,u,c,m,f,$,Z,p,g,x,y,S,h,b,j,P,I,F=t(30168),O=t(27570),C=(0,O.Ps)(i||(i=(0,F.Z)(["\n    query allOnlineTypes {\n        allOnlineTypes {\n            id\n            name\n        }\n    }\n\n"]))),L=(0,O.Ps)(l||(l=(0,F.Z)(["\n    query allOnlineFiles ($folder: Int){\n        allOnlineFiles (folder: $folder){\n            id\n            file\n        }\n    }\n"]))),v=(0,O.Ps)(s||(s=(0,F.Z)(["\n    query allFolders ($folder: Int){\n        allFolders(folder: $folder){\n            id\n            name\n        }\n    }\n    "]))),N=(0,O.Ps)(o||(o=(0,F.Z)(["\n    mutation createOnlineFile($file: Upload!, $folder: Int) {\n        createOnlineFile(file: $file, folder: $folder) {\n            onlineFile {\n                id\n                file\n            }\n        }\n    }\n"]))),T=(0,O.Ps)(r||(r=(0,F.Z)(["\n    mutation createOnlineFileFolder($name: String, $subFolder: Int){\n        createOnlineFileFolder(name: $name, subFolder: $subFolder){\n            onlineFileFolder{\n                id\n            }\n        }\n    }\n"]))),q=(0,O.Ps)(a||(a=(0,F.Z)(["\n    mutation deleteOnlineFile ($id: ID) {\n        deleteOnlineFile (id: $id) {\n            onlineFile {\n                file\n            }\n        }\n    }\n"]))),k=(0,O.Ps)(d||(d=(0,F.Z)(["\n    mutation deleteOnlineFileFolder ($id: Int){\n        deleteOnlineFileFolder (id: $id){\n            onlineFileFolder {\n                name\n            }\n        }\n    }\n"]))),D=(0,O.Ps)(u||(u=(0,F.Z)(["\n    mutation createOnlineLesson ($description: String, $schoolyear: Int, $status: String) {\n        createOnlineLesson (description: $description, schoolyear: $schoolyear, status: $status) {\n            onlineLesson {\n                id\n            }\n        }\n    }\n"]))),w=(0,O.Ps)(c||(c=(0,F.Z)(["\n    mutation updateOnlineLesson ($description: String, $id: ID, $schoolyear: Int, $status: String) {\n        updateOnlineLesson (description: $description, id: $id, schoolyear: $schoolyear, status: $status) {\n            onlineLesson {\n                id\n            }\n        }\n    }\n"]))),B=(0,O.Ps)(m||(m=(0,F.Z)(["\n    query allOnlineLessonsPagination ($page: Int, $perPage: Int) {\n        allOnlineLessonsPagination (page: $page, perPage: $perPage) {\n            page\n            perPage\n            pageCount\n            totalCount\n            records{\n                id\n                schoolyear {\n                    id\n                    schoolyear\n                }\n                description\n                createdAt\n                status\n                createUserid {\n                    isTeacher\n                    teacher {\n                        name\n                        photo\n                    }\n                }\n            }\n        }\n    }\n"]))),E=(0,O.Ps)(f||(f=(0,F.Z)(["\n    query onlineLessonById ($id: Int!) {\n        onlineLessonById (id: $id) {\n            id\n            schoolyear {\n                schoolyear\n                id\n            }\n            description\n            status\n        }\n    }\n"]))),A=(0,O.Ps)($||($=(0,F.Z)(["\n    mutation deleteOnlineLesson ($id: ID) {\n        deleteOnlineLesson (id: $id) {\n            onlineLesson {\n                status\n            }\n        }\n    }\n"]))),U=(0,O.Ps)(Z||(Z=(0,F.Z)(["\n    query allOnlineSubByLesson ($onlineLesson: Int!) {\n        allOnlineSubByLesson (onlineLesson: $onlineLesson) {\n            id\n            title\n            description\n            createUserid {\n                isTeacher\n                teacher {\n                    name\n                }\n            }\n            onlineType {\n                id\n                name\n            }\n            onlineSubFileSet {\n                onlineFile {\n                    id\n                    file\n                }\n            }\n            status\n        }\n    }\n"]))),M=(0,O.Ps)(p||(p=(0,F.Z)(["\n    mutation createOnlineSub ($description: String, $onlineLesson: Int, $status: String, $title: String, $onlineType: Int) {\n        createOnlineSub (description: $description, onlineLesson: $onlineLesson, status: $status, title: $title, onlineType: $onlineType) {\n            onlineSub {\n                id\n            }\n        }\n    }\n"]))),_=(0,O.Ps)(g||(g=(0,F.Z)(["\n    mutation updateOnlineSub ( $description: String, $id: ID, $onlineLesson: Int, $status: String, $title: String, $onlineType: Int) {\n        updateOnlineSub (description: $description, id: $id, onlineLesson: $onlineLesson, status: $status, title: $title, onlineType: $onlineType) {\n            onlineSub {\n                id\n            }\n        }\n    }\n"]))),H=(0,O.Ps)(x||(x=(0,F.Z)(["\n    mutation deleteOnlineSub ($id: ID) {\n        deleteOnlineSub (id: $id) {\n            onlineSub {\n                title\n            }\n        }\n    }\n"]))),R=(0,O.Ps)(y||(y=(0,F.Z)(["\n    query onlineSubById ($id: Int!) {\n        onlineSubById (id: $id) {\n            title\n            description\n            onlineSubFileSet {\n                onlineFile {\n                    id\n                    file\n                }\n            }\n            onlineType {\n                id\n                name\n            }\n            onlineAttendanceSet {\n                student {\n                    id\n                    studentCode\n                    name\n                    familyName\n                }\n            }\n            status\n            createdAt\n        }\n    } \n"]))),X=(0,O.Ps)(S||(S=(0,F.Z)(["\n    mutation createOnlineStudent ($onlineLesson: Int, $studentCode: String, $section: Int) {\n        createOnlineStudent (onlineLesson: $onlineLesson, studentCode: $studentCode, section: $section) {\n            onlineStudent {\n                id\n            }\n        }\n    }\n"]))),z=(0,O.Ps)(h||(h=(0,F.Z)(["\n    mutation deleteOnlineStudent ($id: ID) {\n        deleteOnlineStudent (id: $id) {\n            onlineStudent {\n                student {\n                    name\n                }\n            }\n        }\n    }\n"]))),J=(0,O.Ps)(b||(b=(0,F.Z)(["\n    query allOnlineStudentByLesson ($onlineLesson: Int!) {\n        allOnlineStudentByLesson (onlineLesson: $onlineLesson) {\n            id\n            student {\n                id\n                familyName\n                name\n                studentCode\n            }\n        }\n    }\n"]))),V=((0,O.Ps)(j||(j=(0,F.Z)(["\n    query allOnlineSubFiles ($onlineSub: Int) {\n        allOnlineSubFiles (onlineSub: $onlineSub) {\n            id\n            onlineFile {\n                id\n                file\n            }\n        }\n    }\n"]))),(0,O.Ps)(P||(P=(0,F.Z)(["\n    mutation createOnlineSubFile ($onlineFile: Int, $onlineSub: Int) {\n        createOnlineSubFile (onlineFile: $onlineFile, onlineSub: $onlineSub) {\n            onlineSubFile {\n                id\n            }\n        }\n    }\n"]))));(0,O.Ps)(I||(I=(0,F.Z)(["\n    mutation deleteOnlineSubFile ($id: Int) {\n        deleteOnlineSubFile (id: $id) {\n            onlineSubFile {\n                id\n            }\n        }\n    }\n"])))},68694:function(n,e,t){t.d(e,{Cm:function(){return p},Cx:function(){return $},FQ:function(){return Z},JX:function(){return f},Z2:function(){return S},dT:function(){return g},gt:function(){return y},tL:function(){return x}});var i,l,s,o,r,a,d,u,c=t(30168),m=t(27570),f=(0,m.Ps)(i||(i=(0,c.Z)(["\n    query allStudents ($filter: String) {\n        allStudents (filter: $filter) {\n            id\n            familyName\n            name\n            studentCode\n        }\n\t}\n"]))),$=(0,m.Ps)(l||(l=(0,c.Z)(["\n    query allTeachers ($filter: String) {\n        allTeachers (filter: $filter) {\n            id\n            familyName\n            name\n            teacherCode\n        }\n    }\n"]))),Z=(0,m.Ps)(s||(s=(0,c.Z)(["\n    query allClassess ($filter: String, $program: Int) {\n        allClassess (filter: $filter, program: $program) {\n            id\n            classes\n        }\n\t}\n"]))),p=(0,m.Ps)(o||(o=(0,c.Z)(['\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "subject", modelName: "Subject", filter: $filter) {\n            count\n        }\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            subject\n            content\n            createUserid {\n                firstName\n                lastName\n            }\n        }\n    }\n']))),g=(0,m.Ps)(r||(r=(0,c.Z)(["\n    query selectProgram {\n        allPrograms {\n            id\n            program\n        }\n    }\n"]))),x=(0,m.Ps)(a||(a=(0,c.Z)(["\n    query sectionsByProgram ($program: Int!) {\n        sectionsByProgram (program: $program) {\n            id\n            section \n            classes {\n                classes\n            }\n        }\n    }\n"]))),y=(0,m.Ps)(d||(d=(0,c.Z)(["\n    query sectionsByClasses ($classes: Int!){\n        sectionsByClasses (classes: $classes) {\n            id \n            section\n        }\n    }\n"]))),S=(0,m.Ps)(u||(u=(0,c.Z)(['\n    query allStudentsPagination (\n        $page: Int\n        $perPage: Int\n        $filter: String = ""\n    ) {\n        allStudentsPagination (\n            page: $page\n            perPage: $perPage\n            filter: $filter\n        ) {\n            page\n            perPage\n            pageCount\n            totalCount\n            records {\n                id\n                name\n                familyName\n            }\n        }\n    }\n'])))},79712:function(n,e,t){t.r(e);var i=t(29439),l=(t(72791),t(20003)),s=t(50419),o=t(87309),r=t(66871),a=t(59432),d=t(82464),u=t(53834),c=t(96578),m=t(84376),f=t(38937),$=t(25566),Z=t(68470),p=t(64880),g=t(82630),x=t(42086),y=t(80184),S=l.Z.confirm;e.default=function(n){var e=(0,p.k6)(),t=(0,p.UO)().lesson,l=(0,c.a)($.S8,{variables:{onlineLesson:t}}),h=l.data,b=l.loading,j=l.refetch,P=(0,m.D)($.Ho,{onCompleted:function(n){j(),s.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430!")}}),I=(0,i.Z)(P,2),F=I[0],O=I[1].loading,C=(0,m.D)($.ND,{onCompleted:function(n){j(),s.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430!")}}),L=(0,i.Z)(C,2),v=L[0],N=L[1].loading,T=[{title:(0,y.jsx)(g.Z,{id:"studentCode"}),dataIndex:["student","studentCode"],key:"studentCode"},{title:(0,y.jsx)(g.Z,{id:"familyName"}),dataIndex:["student","familyName"],key:"familyName"},{title:(0,y.jsx)(g.Z,{id:"name"}),dataIndex:["student","name"],key:"name"},{title:(0,y.jsx)(g.Z,{id:"main.action"}),dataIndex:"id",key:"id",width:"30px",render:function(n,e){return(0,y.jsx)("div",{className:"text-center",children:(0,y.jsxs)(o.Z,{loading:N,size:"small",onClick:function(){return n=e.id,void S({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){v({variables:{id:n}})}});var n},type:"text",icon:(0,y.jsx)(d.Z,{twoToneColor:"#f42f2f"}),children:[" ",(0,y.jsx)(g.Z,{id:"delete"})]})})}}];return b?(0,y.jsx)(f.Z,{cover:"content"}):(0,y.jsxs)("div",{children:[(0,y.jsx)(Z.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:(0,y.jsx)(Z.Z,{mobileFlex:!1,children:(0,y.jsx)("div",{className:"text-right",children:(0,y.jsxs)(o.Z,{onClick:function(){return e.goBack()},type:"default",icon:(0,y.jsx)(u.Z,{}),block:!0,children:[" ",(0,y.jsx)(g.Z,{id:"back"})]})})})}),(0,y.jsx)(x.Z,{submitData:F,loading:O,mutationData:{onlineLesson:t}}),(0,y.jsx)(r.Z,{className:"mt-4",title:(0,y.jsx)(g.Z,{id:"student"}),children:(0,y.jsx)(a.Z,{className:"mt-2",columns:T,rowKey:"id",bordered:!0,pagination:!1,dataSource:h.allOnlineStudentByLesson})})]})}},53834:function(n,e,t){t.d(e,{Z:function(){return a}});var i=t(1413),l=t(72791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},o=t(8711),r=function(n,e){return l.createElement(o.Z,(0,i.Z)((0,i.Z)({},n),{},{ref:e,icon:s}))};r.displayName="RollbackOutlined";var a=l.forwardRef(r)}}]);
//# sourceMappingURL=9712.ef688fcd.chunk.js.map