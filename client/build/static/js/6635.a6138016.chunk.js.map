{"version":3,"file":"static/js/6635.a6138016.chunk.js","mappings":"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","sources":["components/shared-components/Flex/index.js","graphql/lesson.js","views/app-views/online-lesson-sub/detail.js"],"sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Flex = props => {\r\n\tconst { children, className, alignItems, justifyContent, mobileFlex, flexDirection } = props\r\n\tconst getFlexResponsive = () => mobileFlex ? 'd-flex' : 'd-md-flex'\r\n\treturn (\r\n\t\t<div className={`${getFlexResponsive()} ${className} ${flexDirection?('flex-' + flexDirection): ''} ${alignItems?('align-items-' + alignItems):''} ${justifyContent?('justify-content-' + justifyContent):''}` }>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nFlex.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\talignItems: PropTypes.string,\r\n\tflexDirection: PropTypes.string,\r\n\tjustifyContent: PropTypes.string,\r\n\tmobileFlex: PropTypes.bool\r\n}\r\n\r\nFlex.defaultProps = {\r\n\tmobileFlex: true,\r\n\tflexDirection: 'row',\r\n\tclassName: ''\r\n};\r\n\r\n\r\nexport default Flex\r\n","import { gql } from '@apollo/client';\r\n\r\nexport const ALL_ONLINE_TYPE = gql `\r\n    query allOnlineTypes {\r\n        allOnlineTypes {\r\n            id\r\n            name\r\n        }\r\n    }\r\n\r\n`;\r\n\r\nexport const ALL_ONLINE_FILE = gql `\r\n    query allOnlineFiles ($folder: Int){\r\n        allOnlineFiles (folder: $folder){\r\n            id\r\n            file\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_FOLDERS = gql `\r\n    query allFolders ($folder: Int){\r\n        allFolders(folder: $folder){\r\n            id\r\n            name\r\n        }\r\n    }\r\n    `\r\n\r\nexport const CREATE_ONLINE_FILE = gql `\r\n    mutation createOnlineFile($file: Upload!, $folder: Int) {\r\n        createOnlineFile(file: $file, folder: $folder) {\r\n            onlineFile {\r\n                id\r\n                file\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_ONLINE_FILE_FOLDER = gql `\r\n    mutation createOnlineFileFolder($name: String, $subFolder: Int){\r\n        createOnlineFileFolder(name: $name, subFolder: $subFolder){\r\n            onlineFileFolder{\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_ONLINE_FILE = gql `\r\n    mutation deleteOnlineFile ($id: ID) {\r\n        deleteOnlineFile (id: $id) {\r\n            onlineFile {\r\n                file\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_ONLINE_FILE_FOLDER = gql`\r\n    mutation deleteOnlineFileFolder ($id: Int){\r\n        deleteOnlineFileFolder (id: $id){\r\n            onlineFileFolder {\r\n                name\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const CREATE_ONLINE_LESSON = gql`\r\n    mutation createOnlineLesson ($description: String, $schoolyear: Int, $status: String) {\r\n        createOnlineLesson (description: $description, schoolyear: $schoolyear, status: $status) {\r\n            onlineLesson {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_ONLINE_LESSON = gql`\r\n    mutation updateOnlineLesson ($description: String, $id: ID, $schoolyear: Int, $status: String) {\r\n        updateOnlineLesson (description: $description, id: $id, schoolyear: $schoolyear, status: $status) {\r\n            onlineLesson {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_ONLINE_LESSON = gql`\r\n    query allOnlineLessonsPagination ($page: Int, $perPage: Int) {\r\n        allOnlineLessonsPagination (page: $page, perPage: $perPage) {\r\n            page\r\n            perPage\r\n            pageCount\r\n            totalCount\r\n            records{\r\n                id\r\n                schoolyear {\r\n                    id\r\n                    schoolyear\r\n                }\r\n                description\r\n                createdAt\r\n                status\r\n                createUserid {\r\n                    isTeacher\r\n                    teacher {\r\n                        name\r\n                        photo\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const LESSON_BY_ID = gql `\r\n    query onlineLessonById ($id: Int!) {\r\n        onlineLessonById (id: $id) {\r\n            id\r\n            schoolyear {\r\n                schoolyear\r\n                id\r\n            }\r\n            description\r\n            status\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_ONLINE_LESSON = gql `\r\n    mutation deleteOnlineLesson ($id: ID) {\r\n        deleteOnlineLesson (id: $id) {\r\n            onlineLesson {\r\n                status\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_SUB_LESSON_BY_LESSON = gql `\r\n    query allOnlineSubByLesson ($onlineLesson: Int!) {\r\n        allOnlineSubByLesson (onlineLesson: $onlineLesson) {\r\n            id\r\n            title\r\n            description\r\n            createUserid {\r\n                isTeacher\r\n                teacher {\r\n                    name\r\n                }\r\n            }\r\n            onlineType {\r\n                id\r\n                name\r\n            }\r\n            onlineSubFileSet {\r\n                onlineFile {\r\n                    id\r\n                    file\r\n                }\r\n            }\r\n            status\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CREATE_SUB_LESSON = gql`\r\n    mutation createOnlineSub ($description: String, $onlineLesson: Int, $status: String, $title: String, $onlineType: Int) {\r\n        createOnlineSub (description: $description, onlineLesson: $onlineLesson, status: $status, title: $title, onlineType: $onlineType) {\r\n            onlineSub {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_SUB_LESSON = gql `\r\n    mutation updateOnlineSub ( $description: String, $id: ID, $onlineLesson: Int, $status: String, $title: String, $onlineType: Int) {\r\n        updateOnlineSub (description: $description, id: $id, onlineLesson: $onlineLesson, status: $status, title: $title, onlineType: $onlineType) {\r\n            onlineSub {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_SUB_LESSON = gql `\r\n    mutation deleteOnlineSub ($id: ID) {\r\n        deleteOnlineSub (id: $id) {\r\n            onlineSub {\r\n                title\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const SUB_BY_ID = gql `\r\n    query onlineSubById ($id: Int!) {\r\n        onlineSubById (id: $id) {\r\n            title\r\n            description\r\n            onlineSubFileSet {\r\n                onlineFile {\r\n                    id\r\n                    file\r\n                }\r\n            }\r\n            onlineType {\r\n                id\r\n                name\r\n            }\r\n            onlineAttendanceSet {\r\n                student {\r\n                    id\r\n                    studentCode\r\n                    name\r\n                    familyName\r\n                }\r\n            }\r\n            status\r\n            createdAt\r\n        }\r\n    } \r\n`;\r\n\r\nexport const CREATE_ONLINE_STUDENT = gql `\r\n    mutation createOnlineStudent ($onlineLesson: Int, $studentCode: String, $section: Int) {\r\n        createOnlineStudent (onlineLesson: $onlineLesson, studentCode: $studentCode, section: $section) {\r\n            onlineStudent {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_ONLINE_STUDENT = gql `\r\n    mutation deleteOnlineStudent ($id: ID) {\r\n        deleteOnlineStudent (id: $id) {\r\n            onlineStudent {\r\n                student {\r\n                    name\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_ONLINE_STUDENT_BY_LESSON = gql `\r\n    query allOnlineStudentByLesson ($onlineLesson: Int!) {\r\n        allOnlineStudentByLesson (onlineLesson: $onlineLesson) {\r\n            id\r\n            student {\r\n                id\r\n                familyName\r\n                name\r\n                studentCode\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ALL_ONLINE_SUB_FILES = gql`\r\n    query allOnlineSubFiles ($onlineSub: Int) {\r\n        allOnlineSubFiles (onlineSub: $onlineSub) {\r\n            id\r\n            onlineFile {\r\n                id\r\n                file\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const CREATE_ONLINE_SUB_FILE = gql`\r\n    mutation createOnlineSubFile ($onlineFile: Int, $onlineSub: Int) {\r\n        createOnlineSubFile (onlineFile: $onlineFile, onlineSub: $onlineSub) {\r\n            onlineSubFile {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const DELETE_ONLINE_SUB_FILE = gql`\r\n    mutation deleteOnlineSubFile ($id: Int) {\r\n        deleteOnlineSubFile (id: $id) {\r\n            onlineSubFile {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`","import React, { useState } from 'react';\r\nimport { Card, Typography, Divider, Badge, Row, Col, Table, Button, Image, Modal } from 'antd';\r\nimport { CalendarTwoTone, RollbackOutlined } from '@ant-design/icons';\r\nimport { useQuery } from '@apollo/client';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\nimport { SizeMe } from 'react-sizeme';\r\nimport ReactPlayer from 'react-player/lazy'\r\nimport moment from 'moment';\r\nimport Flex from 'components/shared-components/Flex';\r\nimport Loading from 'components/shared-components/Loading';\r\nimport { SUB_BY_ID } from 'graphql/lesson';\r\nimport { BASE_SERVER_URL } from \"configs/AppConfig\";\r\nimport IntlMessage from 'components/util-components/IntlMessage';\r\n\r\nconst { Title, Paragraph } = Typography;\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\n\r\nconst attendance_colums = [\r\n    {\r\n        title: <IntlMessage id=\"studentCode\" />,\r\n        dataIndex: ['student', 'studentCode'],\r\n        key: 'studentCode',\r\n    },\r\n    {\r\n        title: <IntlMessage id=\"familyName\" />,\r\n        dataIndex: ['student', 'familyName'],\r\n        key: 'familyName',\r\n    },\r\n    {\r\n        title: <IntlMessage id=\"name\" />,\r\n        dataIndex: ['student', 'name'],\r\n        key: 'name',\r\n    },\r\n]\r\n\r\nconst checkFileType = (file) => {\r\n    const type = file.split('.').pop()\r\n    switch(type) {\r\n        case 'jpg':\r\n        case 'jpeg':\r\n        case 'webp':\r\n        case 'svg':\r\n        case 'png':\r\n            return `image`;\r\n        case 'mp3':\r\n        case 'm4a':\r\n        case 'flac':\r\n            return `audio`;\r\n        case 'mp4':\r\n            return `video`;\r\n        case `pdf`:\r\n            return `pdf`;\r\n        default:\r\n            return BASE_SERVER_URL+file;\r\n    }\r\n}\r\n\r\nconst Detail = (props) => {\r\n\r\n    const slug = useParams();\r\n    const history = useHistory();\r\n\r\n\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    const [numPages, setNumPages] = useState(null);\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [selectedFile, setSelectedFile] = useState();\r\n\r\n    const { data, loading } = useQuery(SUB_BY_ID, {\r\n        variables: { id: slug.subLesson }\r\n    });\r\n\r\n    const showModal = (value) => {\r\n      \tsetIsModalVisible(true);\r\n        setSelectedFile(FilePreview(value))\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n    const goToPrevPage = () => {\r\n        setPageNumber(pageNumber - 1)\r\n    }\r\n\tconst goToNextPage = () => {\r\n        setPageNumber(pageNumber + 1)\r\n    }\r\n\r\n    const FilePreview = ({ file }) => {\r\n        \r\n        switch (checkFileType(file)) {\r\n            case `audio`:\r\n                return (\r\n                    <ReactPlayer \r\n                        className=\"react-player\"\r\n                        width=\"100%\"\r\n                        height=\"50px\"\r\n                        controls={true}\r\n                        url={BASE_SERVER_URL+file} \r\n                    />\r\n                )\r\n            case `video`:\r\n                return (\r\n                    <ReactPlayer\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        controls={true}\r\n                        url={BASE_SERVER_URL+file} \r\n                    />\r\n                )\r\n            case 'image':\r\n                return (\r\n                    <Card>\r\n                        <Image className=\"img-fluid items-\" width={200} alt=\"Preview\" src={BASE_SERVER_URL+file} />\r\n                        {/* <Image style={{ maxHeight: '250px' }} preview={false} className=\"img-fluid\" alt=\"Preview\" src={BASE_SERVER_URL+file} /> */}\r\n                        \r\n                    </Card>\r\n                )\r\n                \r\n            case `pdf`:\r\n                return (\r\n                    <div>\r\n                        <Modal\r\n                            forceRender\r\n                            width={'50vw'}\r\n                            visible={isModalVisible}\r\n                            onCancel={handleCancel}\r\n                            footer={[\r\n                                <Button key=\"back\" type='text' disabled={pageNumber === 1 && true} onClick={goToPrevPage}>\r\n                                  <IntlMessage id=\"main.previous\" />\r\n                                </Button>,\r\n                                <Button key=\"next\" type=\"primary\" disabled={pageNumber === numPages && true} onClick={goToNextPage}>\r\n                                  <IntlMessage id=\"main.next\" />\r\n                                </Button>,\r\n                            ]}\r\n                        >\r\n                            <SizeMe\r\n                                monitorHeight\r\n                                refreshRate={128}\r\n                                refreshMode={\"debounce\"}\r\n                                render={({ size }) => (\r\n                                    <Document \r\n                                        file={BASE_SERVER_URL+file}\r\n                                        onLoadSuccess={({ numPages })=>setNumPages(numPages)}\r\n                                        renderTextLayer={false}\r\n                                        loading={<Loading cover=\"content\" />}\r\n                                        renderMode=\"svg\"\r\n                                    >\r\n                                        <Page\r\n                                            className=\"test\"\r\n                                            width={size.width} \r\n                                            pageNumber={pageNumber}\r\n                                            renderTextLayer={false}\r\n                                            renderAnnotationLayer={false}\r\n                                        />\r\n                                    </Document>\r\n                                )}\r\n                            />\r\n                            <p>Нийт {numPages} хуудсаас {pageNumber}-г харуулж байна </p>\r\n                        </Modal>\r\n                        <Button type='primary' onClick={showModal} ><IntlMessage id=\"show-file\" /></Button>\r\n                    </div>\r\n                )\r\n            default:\r\n                return(\r\n                    <div>\r\n                        <Button type='primary' onClick={() => window.open(BASE_SERVER_URL+file, '_blank')} ><IntlMessage id=\"show-file\" /></Button>\r\n                    </div>\r\n                )\r\n        }\r\n\r\n    }\r\n\r\n    if (loading) {\r\n        return <Loading cover=\"content\" />\r\n    }\r\n\r\n    return (\r\n        <>\r\n         {/* <Modal\r\n             forceRender\r\n             width={'50vw'}\r\n             visible={isModalVisible}\r\n             onCancel={handleCancel}\r\n             footer={<Button type=\"primary\" onClick={handleCancel} >Ok</Button>}\r\n         >\r\n             <div \r\n                 className=\"mt-4 text-center\"\r\n             >\r\n                 {selectedFile}\r\n             </div>\r\n         </Modal> */}\r\n            <Flex alignItems=\"center\" justifyContent=\"between\" mobileFlex={false}>\r\n                <Flex mobileFlex={false}>\r\n                    <div className='text-right' >\r\n                        <Button onClick={() => history.goBack()} type=\"default\" icon={<RollbackOutlined />} block> <IntlMessage id=\"back\" /></Button>\r\n                    </div>\r\n                </Flex>\r\n            </Flex>\r\n            <Row gutter={props.viewAttendance === true ? [8, 16] : 24}>\r\n                <Col xs={24} xl={props.viewAttendance === true ? 18 : 24}>\r\n                    <Card className='mt-4' > \r\n                        <Typography>\r\n                            <Title>{data.onlineSubById.title}</Title>\r\n                            <Row gutter={[8, 8]}>\r\n                                <Col span={12} >\r\n                                    <Title level={5} ><IntlMessage id=\"added-date\" /></Title>\r\n                                    <CalendarTwoTone /> {moment(data.onlineSubById.createdAt).format('MMMM DD')}\r\n                                </Col>\r\n                                <Col span={12} >\r\n                                    <Title level={5} ><IntlMessage id=\"onlineType\" /></Title>\r\n                                    <Badge color={'cyan'} />\r\n                                    <span>{data.onlineSubById.onlineType.name}</span>\r\n                                </Col>\r\n                            </Row>\r\n                            <Divider />\r\n                            <Paragraph className='mt-4' >{data.onlineSubById.description}</Paragraph>\r\n                            <Divider> <Title level={2}><IntlMessage id=\"content\" /></Title>  </Divider>\r\n                            <p>{data.onlineSubById.content}</p>\r\n                            <Divider> <Title level={2}><IntlMessage id=\"file\" /></Title> </Divider>\r\n                            <Paragraph>\r\n                                { data.onlineSubById.onlineSubFileSet.map((item, index) => (\r\n                                    <FilePreview key={index} file={item.onlineFile.file} />\r\n                                ))}\r\n                            </Paragraph>\r\n                        </Typography>\r\n                    </Card>\r\n                </Col>\r\n                { props.viewAttendance === true &&\r\n                    <Col xs={24} xl={6}>\r\n                        <Card className='mt-4'>\r\n                            <Title className='text-center' level={2}><IntlMessage id=\"class-attendance\" /></Title>\r\n                            <Table \r\n                                rowKey='studentCode'\r\n                                pagination={false}\r\n                                columns={attendance_colums} \r\n                                dataSource={data.onlineSubById.onlineAttendanceSet} \r\n                            />\r\n                        </Card>\r\n                    </Col>\r\n                }\r\n            </Row>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default Detail;"],"names":["Flex","props","children","className","alignItems","justifyContent","mobileFlex","flexDirection","defaultProps","ALL_ONLINE_TYPE","gql","ALL_ONLINE_FILE","ALL_FOLDERS","CREATE_ONLINE_FILE","CREATE_ONLINE_FILE_FOLDER","DELETE_ONLINE_FILE","DELETE_ONLINE_FILE_FOLDER","CREATE_ONLINE_LESSON","UPDATE_ONLINE_LESSON","ALL_ONLINE_LESSON","LESSON_BY_ID","DELETE_ONLINE_LESSON","ALL_SUB_LESSON_BY_LESSON","CREATE_SUB_LESSON","UPDATE_SUB_LESSON","DELETE_SUB_LESSON","SUB_BY_ID","CREATE_ONLINE_STUDENT","DELETE_ONLINE_STUDENT","ALL_ONLINE_STUDENT_BY_LESSON","CREATE_ONLINE_SUB_FILE","Title","Typography","Paragraph","pdfjs","attendance_colums","title","id","dataIndex","key","slug","useParams","history","useHistory","useState","pageNumber","setPageNumber","numPages","setNumPages","isModalVisible","setIsModalVisible","setSelectedFile","useQuery","variables","subLesson","data","loading","showModal","value","FilePreview","handleCancel","goToPrevPage","goToNextPage","file","split","pop","BASE_SERVER_URL","checkFileType","width","height","controls","url","alt","src","forceRender","visible","onCancel","footer","type","disabled","onClick","SizeMe","monitorHeight","refreshRate","refreshMode","render","size","onLoadSuccess","renderTextLayer","cover","renderMode","renderAnnotationLayer","window","open","goBack","icon","block","gutter","viewAttendance","xs","xl","onlineSubById","span","level","moment","createdAt","format","color","onlineType","name","description","content","onlineSubFileSet","map","item","index","onlineFile","rowKey","pagination","columns","dataSource","onlineAttendanceSet"],"sourceRoot":""}