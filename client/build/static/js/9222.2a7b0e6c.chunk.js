"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[9222],{68470:function(e,s,r){r(72791);var n=r(80184),i=function(e){var s=e.children,r=e.className,i=e.alignItems,t=e.justifyContent,a=e.mobileFlex,l=e.flexDirection;return(0,n.jsx)("div",{className:"".concat(a?"d-flex":"d-md-flex"," ").concat(r," ").concat(l?"flex-"+l:""," ").concat(i?"align-items-"+i:""," ").concat(t?"justify-content-"+t:""),children:s})};i.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},s.Z=i},68694:function(e,s,r){r.d(s,{Cm:function(){return f},Cx:function(){return j},FQ:function(){return Z},JX:function(){return x},Z2:function(){return p},dT:function(){return h},gt:function(){return v},tL:function(){return g}});var n,i,t,a,l,d,o,u,c=r(30168),m=r(27570),x=(0,m.Ps)(n||(n=(0,c.Z)(["\n    query allStudents ($filter: String) {\n        allStudents (filter: $filter) {\n            id\n            familyName\n            name\n            studentCode\n        }\n\t}\n"]))),j=(0,m.Ps)(i||(i=(0,c.Z)(["\n    query allTeachers ($filter: String) {\n        allTeachers (filter: $filter) {\n            id\n            familyName\n            name\n            teacherCode\n        }\n    }\n"]))),Z=(0,m.Ps)(t||(t=(0,c.Z)(["\n    query allClassess ($filter: String, $program: Int) {\n        allClassess (filter: $filter, program: $program) {\n            id\n            classes\n        }\n\t}\n"]))),f=(0,m.Ps)(a||(a=(0,c.Z)(['\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "subject", modelName: "Subject", filter: $filter) {\n            count\n        }\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            subject\n            content\n            createUserid {\n                firstName\n                lastName\n            }\n        }\n    }\n']))),h=(0,m.Ps)(l||(l=(0,c.Z)(["\n    query selectProgram {\n        allPrograms {\n            id\n            program\n        }\n    }\n"]))),g=(0,m.Ps)(d||(d=(0,c.Z)(["\n    query sectionsByProgram ($program: Int!) {\n        sectionsByProgram (program: $program) {\n            id\n            section \n            classes {\n                classes\n            }\n        }\n    }\n"]))),v=(0,m.Ps)(o||(o=(0,c.Z)(["\n    query sectionsByClasses ($classes: Int!){\n        sectionsByClasses (classes: $classes) {\n            id \n            section\n        }\n    }\n"]))),p=(0,m.Ps)(u||(u=(0,c.Z)(['\n    query allStudentsPagination (\n        $page: Int\n        $perPage: Int\n        $filter: String = ""\n    ) {\n        allStudentsPagination (\n            page: $page\n            perPage: $perPage\n            filter: $filter\n        ) {\n            page\n            perPage\n            pageCount\n            totalCount\n            records {\n                id\n                name\n                familyName\n            }\n        }\n    }\n'])))},19545:function(e,s,r){var n=r(29439),i=r(72791),t=r(22949),a=r(73332),l=r(49389),d=r(50419),o=r(37083),u=r(66106),c=r(30914),m=r(11561),x=r(84376),j=r(96578),Z=r(86586),f=r(41920),h=r(7378),g=r(20077),v=r(82259),p=r(72426),b=r.n(p),y=r(82630),C=r(68694),q=r(80184);s.Z=function(e){var s=e.editData,r=e.formType,p=e.setIsModalVisible,S=e.refetch,I=t.Z.Option,P=a.Z.useForm(),w=(0,n.Z)(P,1)[0],N=l.Z.TextArea,D="YYYY-MM-DD",$=(0,x.D)(g.vm,{onCompleted:function(e){S(),d.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),w.resetFields(),p(!1)}}),T=(0,n.Z)($,2),k=T[0],Y=T[1].loading,F=(0,x.D)(v.x,{onCompleted:function(e){S(),d.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),p(!1)}}),M=(0,n.Z)(F,2),E=M[0],_=M[1].loading,z=(0,j.a)(h.$5).data,B=(0,Z.t)(C.FQ),O=(0,n.Z)(B,2),V=O[0],A=O[1].data,Q=(0,j.a)(f.YP).data,L=(0,j.a)(f.$_).data,R=(0,j.a)(f.NC).data,U=(0,j.a)(f.Fm).data,J=(0,j.a)(h.Ds).data,K=(0,j.a)(h.w9).data,X=(0,j.a)(f.gw).data,G=(0,j.a)(f.YV).data,H=(0,Z.t)(C.gt),W=(0,n.Z)(H,2),ee=W[0],se=W[1].data,re=(0,j.a)(f.nh).data;(0,i.useEffect)((function(){if("edit"===r){var e={username:s.user.username,email:s.user.email,studentCode:s.studentCode,surname:s.surname,familyName:s.familyName,name:s.name,religion:s.religion,registerNo:s.registerNo,nationality:s.nationality,state:s.state,phone:s.phone,address:s.address,citizen:s.citizen,activity:s.activity.id,sex:s.sex,classtime:s.classtime.id,birthCity:s.birthCity.id,birthDistrict:s.birthDistrict.id,status:s.status.id,statusExtra:s.statusExtra.id,school:s.school.id,classes:s.classes.id,section:s.section.id,program:s.program.id,joinSchoolyear:s.joinSchoolyear.id,joinDate:b()(s.joinDate),birthdate:b()(s.birthdate)};ae(e.birthCity),V({variables:{program:e.program,offset:1,limit:1,filter:""}}),me(e.program),ge(b()(e.joinDate).format("YYYY-MM-DD")),ye(b()(e.birthdate).format("YYYY-MM-DD")),w.setFieldsValue(e)}else"create"===r&&w.resetFields()}),[V,w,s,r]);var ne=(0,i.useState)(""),ie=(0,n.Z)(ne,2),te=ie[0],ae=ie[1],le=null,de=null;te&&(le=te),le&&(de=null===R||void 0===R?void 0:R.allDistricts.filter((function(e){return e.cityID.id===le})).map((function(e){return(0,q.jsx)(I,{value:e.id,children:e.name},e.id)})));var oe=(0,i.useState)(""),ue=(0,n.Z)(oe,2),ce=ue[0],me=ue[1],xe=null,je=null;ce&&(xe=ce),xe&&(je=null===A||void 0===A?void 0:A.allClassess.map((function(e){return(0,q.jsx)(I,{value:e.id,children:e.classes},e.id)})));var Ze=(0,i.useState)(""),fe=(0,n.Z)(Ze,2),he=fe[0],ge=fe[1],ve=(0,i.useState)(""),pe=(0,n.Z)(ve,2),be=pe[0],ye=pe[1],Ce=new RegExp(/^[7-9][0-9]{3}[0-9]{4}$/),qe=new RegExp(/[\u0401\u0410-\u042F\u04AE\u04E8]{2}([0-9]){8}$/);return(0,q.jsx)(o.Z,{spinning:Y||_,tip:"\u0410\u0447\u0430\u0430\u043b\u043b\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",children:(0,q.jsx)(a.Z,{id:"StudentForm",layout:"vertical",form:w,name:"control-hooks",onFinish:function(e){"edit"===r?(e.joinDate=he,e.birthdate=be,e.id=s.id,E({variables:e})):(e.joinDate=he,e.birthdate=be,k({variables:e}))},size:"small",children:(0,q.jsxs)(u.Z,{gutter:[16,24],children:[(0,q.jsxs)(c.Z,{className:"gutter-row",span:12,children:[(0,q.jsx)(a.Z.Item,{name:"school",label:(0,q.jsx)(y.Z,{id:"school"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{children:null===U||void 0===U?void 0:U.allSchools.map((function(e,s){return(0,q.jsx)(I,{value:e.id,children:e.name},s)}))})}),(0,q.jsx)(a.Z.Item,{name:"program",label:(0,q.jsx)(y.Z,{id:"program"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{onChange:function(e){V({variables:{program:e,offset:1,limit:1,filter:""}}),me(e)},children:null===Q||void 0===Q?void 0:Q.allPrograms.map((function(e,s){return(0,q.jsx)(I,{value:e.id,children:e.program},s)}))})}),(0,q.jsx)(a.Z.Item,{name:"classes",label:(0,q.jsx)(y.Z,{id:"classes"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{onChange:function(e){return ee({variables:{classes:e}})},children:je})}),(0,q.jsx)(a.Z.Item,{name:"section",label:(0,q.jsx)(y.Z,{id:"section"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{children:null===se||void 0===se?void 0:se.sectionsByClasses.map((function(e,s){return(0,q.jsx)(I,{value:e.id,children:e.section},s)}))})}),(0,q.jsx)(a.Z.Item,{name:"studentCode",label:(0,q.jsx)(y.Z,{id:"studentCode"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(l.Z,{})}),(0,q.jsx)(a.Z.Item,{name:"status",label:(0,q.jsx)(y.Z,{id:"status"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{children:null===J||void 0===J?void 0:J.allStudentStatuss.map((function(e,s){return(0,q.jsx)(I,{value:e.id,children:e.name},s)}))})}),(0,q.jsx)(a.Z.Item,{name:"statusExtra",label:(0,q.jsx)(y.Z,{id:"student-status-extra"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{children:null===K||void 0===K?void 0:K.allStudentStatusExtras.map((function(e,s){return(0,q.jsx)(I,{value:e.id,children:e.name},s)}))})}),(0,q.jsx)(a.Z.Item,{name:"joinDate",label:(0,q.jsx)(y.Z,{id:"joinDate"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(m.Z,{style:{width:"100%"},onChange:function(e){ge(b()(e).format("YYYY-MM-DD"))},format:D})}),(0,q.jsx)(a.Z.Item,{name:"nationality",label:(0,q.jsx)(y.Z,{id:"nationality"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(l.Z,{})}),(0,q.jsx)(a.Z.Item,{name:"phone",label:(0,q.jsx)(y.Z,{id:"parent_phone"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})},{validator:function(e,s){return Ce.test(s)?Promise.resolve():Promise.reject("\u0423\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!")}}],children:(0,q.jsx)(l.Z,{})}),(0,q.jsx)(a.Z.Item,{name:"state",label:(0,q.jsx)(y.Z,{id:"state"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(l.Z,{})}),(0,q.jsx)(a.Z.Item,{name:"classtime",label:(0,q.jsx)(y.Z,{id:"classtime"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{children:null===G||void 0===G?void 0:G.allClasstimes.map((function(e,s){return(0,q.jsx)(I,{value:e.id,children:e.name},s)}))})}),(0,q.jsx)(a.Z.Item,{name:"address",label:(0,q.jsx)(y.Z,{id:"address"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(N,{rows:2})})]}),(0,q.jsxs)(c.Z,{className:"gutter-row",span:12,children:[(0,q.jsx)(a.Z.Item,{name:"religion",label:(0,q.jsx)(y.Z,{id:"religion"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(l.Z,{})}),(0,q.jsx)(a.Z.Item,{name:"surname",label:(0,q.jsx)(y.Z,{id:"surname"}),rules:[{required:!0}],children:(0,q.jsx)(l.Z,{})}),(0,q.jsx)(a.Z.Item,{name:"familyName",label:(0,q.jsx)(y.Z,{id:"familyName"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(l.Z,{})}),(0,q.jsx)(a.Z.Item,{name:"name",label:(0,q.jsx)(y.Z,{id:"name"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(l.Z,{})}),(0,q.jsx)(a.Z.Item,{name:"registerNo",label:(0,q.jsx)(y.Z,{id:"registerNo"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})},{validator:function(e,s){return qe.test(s)?Promise.resolve():Promise.reject("\u0420\u0435\u0433\u0438\u0441\u0442\u0435\u0440\u0438\u0439\u043d \u0434\u0443\u0433\u0430\u0430\u0440 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!")}}],children:(0,q.jsx)(l.Z,{})}),(0,q.jsx)(a.Z.Item,{name:"birthdate",label:(0,q.jsx)(y.Z,{id:"birthdate"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(m.Z,{style:{width:"100%"},onChange:function(e){ye(b()(e).format("YYYY-MM-DD"))},format:D})}),(0,q.jsx)(a.Z.Item,{name:"sex",label:(0,q.jsx)(y.Z,{id:"sex"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsxs)(t.Z,{children:[(0,q.jsx)(I,{value:"\u042d\u0440\u044d\u0433\u0442\u044d\u0439",children:(0,q.jsx)(y.Z,{id:"sex.male"})},"0"),(0,q.jsx)(I,{value:"\u042d\u043c\u044d\u0433\u0442\u044d\u0439",children:(0,q.jsx)(y.Z,{id:"sex.female"})},"1")]})}),(0,q.jsx)(a.Z.Item,{name:"birthCity",label:(0,q.jsx)(y.Z,{id:"birthCity"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{onChange:function(e){ae(e)},children:null===L||void 0===L?void 0:L.allCitys.map((function(e,s){return(0,q.jsx)(I,{value:e.id,children:e.name},s)}))})}),(0,q.jsx)(a.Z.Item,{name:"birthDistrict",label:(0,q.jsx)(y.Z,{id:"birthDistrict"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{children:de})}),(0,q.jsx)(a.Z.Item,{name:"activity",label:(0,q.jsx)(y.Z,{id:"activity"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{children:null===z||void 0===z?void 0:z.allActivitys.map((function(e,s){return(0,q.jsx)(I,{value:e.id,children:e.name},s)}))})}),(0,q.jsx)(a.Z.Item,{name:"joinSchoolyear",label:(0,q.jsx)(y.Z,{id:"joinSchoolyear"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})}],children:(0,q.jsx)(t.Z,{children:null===re||void 0===re?void 0:re.allSchoolyears.map((function(e,s){return(0,q.jsxs)(I,{value:e.id,children:[e.schoolyear," ",e.season]},s)}))})}),(0,q.jsx)(a.Z.Item,{name:"username",label:(0,q.jsx)(y.Z,{id:"username"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})},{validator:function(e,n){return i=n,(null===X||void 0===X?void 0:X.allUsers.some((function(e){return("edit"!==r||s.user.username!==i)&&e.username===i})))?Promise.reject("\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u0431\u04af\u0440\u0442\u0433\u044d\u043b\u0442\u044d\u0439 \u0431\u0430\u0439\u043d\u0430"):Promise.resolve();var i}}],children:(0,q.jsx)(l.Z,{})}),"create"===r&&(0,q.jsx)(a.Z.Item,{name:"password",label:(0,q.jsx)(y.Z,{id:"password"}),rules:[{required:!0,message:(0,q.jsx)(y.Z,{id:"form.required"})},{min:8,message:"\u041d\u0443\u0443\u0446 \u04af\u0433 8-\u0430\u0430\u0441 \u0443\u0440\u0442\u0442\u0430\u0439 \u0434\u044d\u044d\u0448 \u0431\u0430\u0439\u0445 \u0451\u0441\u0442\u043e\u0439"},function(e){var s=e.getFieldValue;return{validator:function(e,r){return r&&s("username")!==r?Promise.resolve():Promise.reject("\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u043d\u0443\u0443\u0446 \u04af\u0433 \u0445\u043e\u0451\u0440 \u0438\u0436\u0438\u043b \u0431\u0430\u0439\u0445 \u0431\u043e\u043b\u043e\u043c\u0433\u04af\u0439!")}}}],children:(0,q.jsx)(l.Z.Password,{})})]})]})})})}},59222:function(e,s,r){r.r(s),r.d(s,{default:function(){return k}});var n=r(72791),i=r(29439),t=r(20003),a=r(22949),l=r(50419),d=r(87309),o=r(66871),u=r(49389),c=r(59432),m=r(36795),x=r(82464),j=r(11730),Z=r(31549),f=r(2703),h=r(19545),g=r(86586),v=r(84376),p=r(64856),b=r(41920),y=r(82630),C=r(36319),q=r(68470),S=r(53719),I=r(68694),P=r(80184),w=t.Z.confirm,N=a.Z.Option;var D=function(e){var s=(0,n.useState)([]),r=(0,i.Z)(s,2),D=r[0],$=r[1],T=(0,n.useState)(!1),k=(0,i.Z)(T,2),Y=k[0],F=k[1],M=(0,n.useState)([]),E=(0,i.Z)(M,2),_=E[0],z=E[1],B=(0,n.useState)(""),O=(0,i.Z)(B,2),V=O[0],A=O[1],Q=(0,n.useState)(""),L=(0,i.Z)(Q,2),R=L[0],U=L[1],J=(0,n.useState)(0),K=(0,i.Z)(J,2),X=K[0],G=K[1],H=(0,n.useState)(0),W=(0,i.Z)(H,2),ee=W[0],se=W[1],re=(0,n.useState)(0),ne=(0,i.Z)(re,2),ie=ne[0],te=ne[1],ae=(0,n.useState)([]),le=(0,i.Z)(ae,2),de=le[0],oe=le[1],ue=(0,n.useState)([]),ce=(0,i.Z)(ue,2),me=ce[0],xe=ce[1],je=(0,n.useState)([]),Ze=(0,i.Z)(je,2),fe=Ze[0],he=Ze[1],ge=(0,n.useContext)(S.S).user,ve=(0,g.t)(b.tz,{variables:{variables:{filter:R,classes:ee,section:ie}},onCompleted:function(e){$(e.allStudents)}}),pe=(0,i.Z)(ve,2),be=pe[0],ye=pe[1],Ce=ye.loading,qe=ye.refetch,Se=(0,g.t)(I.dT,{onCompleted:function(e){oe(e.allPrograms)}}),Ie=(0,i.Z)(Se,1)[0],Pe=(0,g.t)(I.FQ,{variables:{variables:{filter:"",program:X}},onCompleted:function(e){xe(e.allClassess)}}),we=(0,i.Z)(Pe,1)[0],Ne=(0,g.t)(I.gt,{onCompleted:function(e){he(e.sectionsByClasses)}}),De=(0,i.Z)(Ne,1)[0],$e=(0,v.D)(p.mL,{onCompleted:function(e){qe(),l.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430")}}),Te=(0,i.Z)($e,1)[0];(0,n.useEffect)((function(){0===X&&!0!==ge.isStudent&&!0!==ge.isTeacher&&""===R||be({variables:{filter:R,program:X,classes:ee,section:ie}}),!0!==ge.isStudent&&!0!==ge.isTeacher&&Ie()}),[ge,R,X,ee,ie,Ie,be]),(0,n.useEffect)((function(){0!==X&&we()}),[X,we]);var ke=[{key:"studentCode",title:(0,P.jsx)(y.Z,{id:"studentCode"}),dataIndex:"studentCode",width:"8vw",sorter:function(e,s){return f.ZP.antdTableSorter(e,s,"studentCode")}},{key:"classes",title:(0,P.jsx)(y.Z,{id:"classes"}),dataIndex:["classes","classes"],width:"10vw",sorter:function(e,s){return f.ZP.antdTableSorter(e,s,"classes")},render:function(e,s){return(0,P.jsxs)("span",{children:[s.classes.classes," - ",s.section.section," ",(0,P.jsx)("br",{})]})}},{key:"familyName",title:(0,P.jsx)(y.Z,{id:"familyName"}),dataIndex:"familyName",width:"10vw",sorter:function(e,s){return f.ZP.antdTableSorter(e,s,"familyName")}},{key:"name",title:(0,P.jsx)(y.Z,{id:"name"}),dataIndex:"name",width:"10vw",sorter:function(e,s){return f.ZP.antdTableSorter(e,s,"name")}},{key:"registerNo",title:(0,P.jsx)(y.Z,{id:"registerNo"}),dataIndex:"registerNo",width:"10vw",sorter:function(e,s){return f.ZP.antdTableSorter(e,s,"registerNo")}},{key:"phone",title:(0,P.jsx)(y.Z,{id:"phone"}),dataIndex:"phone",width:"10vw",sorter:function(e,s){return f.ZP.antdTableSorter(e,s,"phone")},render:function(e){return(0,P.jsx)("span",{children:e.substr(0,4)+"-"+e.substr(4,9)})}},{key:"address",title:(0,P.jsx)(y.Z,{id:"address"}),dataIndex:"address",sorter:function(e,s){return f.ZP.antdTableSorter(e,s,"address")}}];return!0!==e.permissions.edit&&!0!==e.permissions.destroy||ke.push({key:"actions",title:(0,P.jsx)(y.Z,{id:"main.action"}),width:"15vw",dataIndex:"actions",render:function(s,r){return(0,P.jsxs)("div",{className:"text-center",children:[e.permissions.password&&(0,P.jsx)(C.Z,{user:r.user.id}),!0===e.permissions.edit&&(0,P.jsxs)(d.Z,{size:"small",onClick:function(){return z(r),A("edit"),void F(!0)},type:"text",icon:(0,P.jsx)(m.Z,{twoToneColor:"#ffdb00"}),children:[" ",(0,P.jsx)(y.Z,{id:"edit"})]}),!0===e.permissions.destroy&&(0,P.jsxs)(d.Z,{size:"small",onClick:function(){return e=r,void w({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){Te({variables:{id:e.id}})}});var e},type:"text",icon:(0,P.jsx)(x.Z,{twoToneColor:"#f42f2f"}),children:[" ",(0,P.jsx)(y.Z,{id:"delete"})]})]})}}),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(t.Z,{title:"create"===V?(0,P.jsx)(y.Z,{id:"add_kid"}):(0,P.jsx)(y.Z,{id:"edit"}),visible:Y,width:"80vw",okText:(0,P.jsx)(y.Z,{id:"main.okText"}),cancelText:(0,P.jsx)(y.Z,{id:"main.cancelText"}),onCancel:function(){F(!1)},okButtonProps:{form:"StudentForm",key:"submit",htmlType:"submit"},children:(0,P.jsx)(h.Z,{refetch:qe,formType:V,editData:_,setIsModalVisible:F})}),(0,P.jsxs)(o.Z,{children:[(0,P.jsxs)(q.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:[(0,P.jsx)(q.Z,{className:"mb-1",mobileFlex:!1,children:(0,P.jsx)("div",{className:"mr-md-3 mb-3",children:(0,P.jsx)(u.Z,{placeholder:"\u0425\u0430\u0439\u0445",prefix:(0,P.jsx)(j.Z,{}),onChange:function(e){return function(e){var s=e.currentTarget.value;U(s)}(e)}})})}),!0===e.permissions.create&&(0,P.jsx)("div",{className:"mr-md-3 mb-3 ",children:(0,P.jsxs)(d.Z,{onClick:function(){A("create"),F(!0)},type:"primary",icon:(0,P.jsx)(Z.Z,{}),block:!0,children:[" ",(0,P.jsx)(y.Z,{id:"add_kid"})]})})]}),!1===ge.isTeacher&&(0,P.jsxs)("div",{className:"grid gap-2 mb-4 md:grid-cols-3",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:"p-1",children:(0,P.jsx)(y.Z,{id:"program"})}),(0,P.jsx)(a.Z,{className:"w-full",onChange:function(e){G(e)},children:de.map((function(e,s){return(0,P.jsx)(N,{value:e.id,children:e.program},s)}))})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:"p-1",children:(0,P.jsx)(y.Z,{id:"classes"})}),(0,P.jsx)(a.Z,{className:"w-full",onChange:function(e){se(e),De({variables:{classes:e}})},children:me.map((function(e,s){return(0,P.jsx)(N,{value:e.id,children:e.classes},s)}))})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:"p-1",children:(0,P.jsx)(y.Z,{id:"section"})}),(0,P.jsx)(a.Z,{className:"w-full",onChange:function(e){te(e)},children:fe.map((function(e,s){return(0,P.jsx)(N,{value:e.id,children:e.section},s)}))})]})]}),(0,P.jsx)("div",{className:"table-responsive",children:(0,P.jsx)(c.Z,{size:"small",columns:ke,dataSource:D,rowKey:"id",bordered:!0,loading:Ce})})]})]})},$=r(59288),T=r(38937),k=function(e){var s={create:(0,$.C)("add_student"),edit:(0,$.C)("change_student"),destroy:(0,$.C)("delete_student"),password:(0,$.C)("change_user_password")};return Object.values(s).indexOf("loading")>-1?(0,P.jsx)(T.Z,{cover:"content"}):(0,P.jsx)(D,{title:e.title,permissions:s})}}}]);
//# sourceMappingURL=9222.2a7b0e6c.chunk.js.map